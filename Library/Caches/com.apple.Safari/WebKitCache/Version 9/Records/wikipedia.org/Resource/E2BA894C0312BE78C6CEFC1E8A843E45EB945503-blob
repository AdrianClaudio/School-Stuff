mw.loader.implement("ext.centralNotice.bannerHistoryLogger@1qzme79",function($,jQuery,require,module){(function($,mw){var cn=mw.centralNotice,bhLogger,mixin=new cn.Mixin('bannerHistoryLogger'),doNotTrackEnabled=/1|yes/.test(navigator.doNotTrack),waitLogNoSendBeacon,now=Math.round((new Date()).getTime()/1000),log,readyToLogDeferredObj=$.Deferred(),logSent=!1,inSample,BANNER_HISTORY_KV_STORE_KEY='banner_history',BANNER_HISTORY_KV_STORE_TTL=365,BANNER_HISTORY_LOG_ENTRY_VERSION=1,EVENT_LOGGING_SCHEMA='CentralNoticeBannerHistory',TIMESTAMP_RANDOM_SHIFT_MAX=60;function loadLog(){log=cn.kvStore.getItem(BANNER_HISTORY_KV_STORE_KEY,cn.kvStore.contexts.GLOBAL);if(!log){log=[];}}function makeLogEntry(){var data=cn.data,randomTimeShift=Math.round(Math.random()*TIMESTAMP_RANDOM_SHIFT_MAX)-(TIMESTAMP_RANDOM_SHIFT_MAX/2),time=now+randomTimeShift,logEntry={version:BANNER_HISTORY_LOG_ENTRY_VERSION,language:data.uselang,country:data.country,isAnon:data.anonymous,campaign:data.campaign,
campaignCategory:data.campaignCategory,bucket:data.bucket,time:time,status:data.status,statusCode:data.statusCode,bannersNotGuaranteedToDisplay:data.bannersNotGuaranteedToDisplay?!0:false};if(data.banner){logEntry.banner=data.banner;}if(data.bannerCanceledReason){logEntry.bannerCanceledReason=data.bannerCanceledReason;}if(data.bannerLoadedButHiddenReason){logEntry.bannerLoadedButHiddenReason=data.bannerLoadedButHiddenReason;}return logEntry;}function purgeOldLogEntries(maxEntryAge,maxEntries){var i=0,cutoff=now-maxEntryAge*86400;if(log.length>maxEntries){log=log.slice(0-maxEntries);}while(i<log.length&&log[i].time<cutoff){i++;}log=log.slice(i);}function storeLog(){cn.kvStore.setItem(BANNER_HISTORY_KV_STORE_KEY,log,cn.kvStore.contexts.GLOBAL,BANNER_HISTORY_KV_STORE_TTL);}function makeEventLoggingData(rate){var elData={},kvError=cn.kvStore.getError(),i,logEntry,elLogEntry;elData.i=bhLogger.id;if(rate){elData.r=rate;}if(kvError){elData.e=kvError.message;return elData;}elData.n=log.
length;elData.l=[];i=log.length-1;while(i>=0){logEntry=log[i];elLogEntry=[logEntry.banner||'',logEntry.campaign,logEntry.time,logEntry.statusCode];elData.l.unshift(elLogEntry.join('|'));if(!checkEventLoggingURLSize(elData)){elData.l.shift();break;}i--;}return elData;}function sendLog(elData){var deferred=$.Deferred(),elPromise;if(navigator.sendBeacon){elPromise=mw.eventLog.logEvent(EVENT_LOGGING_SCHEMA,elData);}else{setTimeout(function(){deferred.reject();},waitLogNoSendBeacon);elPromise=$.ajax({url:makeEventLoggingURL(elData),timeout:waitLogNoSendBeacon,method:'POST'});}elPromise.then(function(){deferred.resolve();},function(){deferred.reject();});return deferred.promise();}function checkEventLoggingURLSize(elData){return(makeEventLoggingURL(elData).length<=mw.eventLog.maxUrlSize);}function makeEventLoggingURL(elData){return mw.eventLog.makeBeaconUrl({event:elData,revision:14321636,schema:EVENT_LOGGING_SCHEMA,webHost:location.hostname,wiki:mw.config.get('wgDBname')});}mixin.
setPostBannerHandler(function(mixinParams){waitLogNoSendBeacon=mixinParams.waitLogNoSendBeacon;mw.requestIdleCallback(function(){if(!cn.kvStore.isAvailable()){cn.kvStore.setNotAvailableError();}else{loadLog();if(!doNotTrackEnabled){log.push(makeLogEntry());}purgeOldLogEntries(mixinParams.maxEntryAge,mixinParams.maxEntries);storeLog();}if(doNotTrackEnabled){return;}mw.loader.using(['ext.eventLogging','mediawiki.util','mediawiki.user','schema.'+EVENT_LOGGING_SCHEMA]).done(function(){var rateParam=mw.util.getParamValue('bannerHistoryLogRate'),rate=rateParam!==null?parseFloat(rateParam):mixinParams.rate;bhLogger.id=mw.user.generateRandomSessionId();if(Math.random()<rate){sendLog(makeEventLoggingData(rate)).always(function(){inSample=!0;logSent=!0;readyToLogDeferredObj.resolve();});}else{readyToLogDeferredObj.resolve();}});});});cn.registerCampaignMixin(mixin);cn.bannerHistoryLogger=bhLogger={id:null,ensureLogSent:function(){var deferred=$.Deferred();if(doNotTrackEnabled){deferred.
resolve();return deferred.promise();}readyToLogDeferredObj.done(function(){if(logSent){deferred.resolve();}else{sendLog(makeEventLoggingData()).then(function(){deferred.resolve();},function(){deferred.reject();});}});return deferred.promise();}};})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.choiceData@0nubbk4",function($,jQuery,require,module){mw.centralNotice=(mw.centralNotice||{});mw.centralNotice.choiceData=[{"name":"C1617_enFR_dsk_FR","start":1476799200,"end":1479218400,"preferred":2,"throttle":100,"bucket_count":4,"geotargeted":!0,"banners":[{"name":"B1617_1018_enFR_dsk_p1_lg_txt_cnt","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_1018_enFR_dsk_p1_lg_txt_nat","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_1018_enFR_dsk_p2_sm_txt_cnt","bucket":2,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_1018_enFR_dsk_p2_sm_txt_nat","bucket":3,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]}],"countries":["FR"],"mixins":{"bannerHistoryLogger":{
"maxEntries":30,"maxEntryAge":30,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1000,"restartCycleDelay":2592000,"skipInitial":0},"largeBannerLimit":{"days":250,"identifier":"centralnotice-frbanner-seen-fullscreen","randomize":!0},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enIT_dsk_FR","start":1476187200,"end":1478606400,"preferred":2,"throttle":100,"bucket_count":4,"geotargeted":!0,"banners":[{"name":"B1617_1017_enIT_dsk_p1_lg_txt_cnt","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_1017_enIT_dsk_p1_lg_txt_exc","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_1017_enIT_dsk_p2_sm_txt_cnt","bucket":2,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,
"devices":["desktop"]},{"name":"B1617_1017_enIT_dsk_p2_sm_txt_exc","bucket":3,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]}],"countries":["IT"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":30,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1000,"restartCycleDelay":2592000,"skipInitial":0},"largeBannerLimit":{"days":250,"identifier":"centralnotice-frbanner-seen-fullscreen","randomize":!0},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enIT_ipd_FR","start":1476187200,"end":1478606400,"preferred":2,"throttle":100,"bucket_count":4,"geotargeted":!0,"banners":[{"name":"B1617_1011_enIT_ipd_p1_lg_txt_cnt","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]},{"name":"B1617_1011_enIT_ipd_p1_lg_txt_nat","bucket":1,"weight":25,
"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]},{"name":"B1617_1011_enIT_ipd_p2_sm_txt_cnt","bucket":2,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]},{"name":"B1617_1011_enIT_ipd_p2_sm_txt_nat","bucket":3,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]}],"countries":["IT"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":30,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1000,"restartCycleDelay":2592000,"skipInitial":0},"largeBannerLimit":{"days":250,"identifier":"centralnotice-frbanner-seen-fullscreen","randomize":!0},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enIT_mob_FR","start":1476187200,"end":1478606400,"preferred":2,"throttle":100,"bucket_count":4,"geotargeted":!0,"banners":[{"name"
:"B1617_1011_enIT_mob_p1_lg_txt_cnt","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]},{"name":"B1617_1011_enIT_mob_p1_lg_txt_nat","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]},{"name":"B1617_1011_enIT_mob_p2_sm_txt_cnt","bucket":2,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]},{"name":"B1617_1011_enIT_mob_p2_sm_txt_nat","bucket":3,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]}],"countries":["IT"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":30,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1000,"restartCycleDelay":2592000,"skipInitial":0},"largeBannerLimit":{"days":250,"identifier":"centralnotice-frbanner-seen-fullscreen",
"randomize":!0},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enWW_dsk_lw_FR","start":1467388800,"end":1483228800,"preferred":0,"throttle":20,"bucket_count":2,"geotargeted":!0,"banners":[{"name":"B1617_0801_enmlWW_dsk_lw_sm_nfo_cnt","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]},{"name":"B1617_0801_enmlWW_dsk_lw_sm_nfo_sml","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["desktop"]}],"countries":["AT","AU","BE","CA","DK","ES","GB","HK","HU","IE","IT","JP","LU","LV","MY","NO","NZ","PT","RO","SE","SK","UA","US","ZA"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":365,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1,"restartCycleDelay":2592000,"skipInitial":5},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,
"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enWW_ipd_lw_FR","start":1467388800,"end":1483228800,"preferred":0,"throttle":20,"bucket_count":2,"geotargeted":!0,"banners":[{"name":"B1617_0701_enmlWW_ipd_lw_sm_exp","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]},{"name":"B1617_0701_enmlWW_ipd_lw_sm_pop","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["ipad"]}],"countries":["AT","AU","BE","CA","DK","ES","GB","HK","HU","IE","IT","JP","LU","LV","MY","NO","NZ","PT","RO","SE","SK","UA","US"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":365,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1,"restartCycleDelay":2592000,"skipInitial":5},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"C1617_enWW_mob_lw_FR","start":
1467388800,"end":1483228800,"preferred":0,"throttle":20,"bucket_count":2,"geotargeted":!0,"banners":[{"name":"B1617_0701_enmlWW_mob_lw_sm_exp","bucket":1,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]},{"name":"B1617_0701_enmlWW_mob_lw_sm_pop","bucket":0,"weight":25,"category":"fundraising","display_anon":!0,"display_account":!1,"devices":["android","iphone"]}],"countries":["AT","AU","BE","CA","DK","ES","GB","HK","HU","IE","IT","JP","LU","LV","MY","NO","NZ","PT","RO","SE","SK","UA","US"],"mixins":{"bannerHistoryLogger":{"maxEntries":30,"maxEntryAge":365,"rate":0.01,"waitLogNoSendBeacon":200},"impressionDiet":{"cookieName":"bannercount_fundraiser_2016","maximumSeen":1,"restartCycleDelay":2592000,"skipInitial":5},"legacySupport":{"bannersNotGuaranteedToDisplay":!0,"setSRISampleRate":!0,"sriSampleRate":1}}},{"name":"FDCPropReview_Oct16","start":1476581700,"end":1477958340,"preferred":1,"throttle":25,"bucket_count"
:1,"geotargeted":!1,"banners":[{"name":"FDCpropreviewOctober2016Clean","bucket":0,"weight":25,"category":"FDCPropReview_Oct16","display_anon":!1,"display_account":!0,"devices":["desktop"]}],"mixins":{"impressionDiet":{"cookieName":"FDC-Review-Initial","maximumSeen":5,"restartCycleDelay":172800,"skipInitial":0}}},{"name":"SPC_UA_all","start":1475279400,"end":1477688340,"preferred":1,"throttle":33,"bucket_count":1,"geotargeted":!0,"banners":[{"name":"SPC_2016_UA","bucket":0,"weight":25,"category":"SPC_UA_all","display_anon":!0,"display_account":!0,"devices":["android","desktop","ipad","iphone","unknown"]}],"countries":["UA"],"mixins":[]},{"name":"wlm 2016","start":1472655600,"end":1478037540,"preferred":1,"throttle":100,"bucket_count":1,"geotargeted":!0,"banners":[{"name":"wlm_2016","bucket":0,"weight":25,"category":"wlm2016","display_anon":!0,"display_account":!0,"devices":["android","desktop","ipad","iphone","unknown"]}],"countries":["IL"],"mixins":[]},{"name":
"wmf_cc_4","start":1475625660,"end":1478563140,"preferred":1,"throttle":40,"bucket_count":1,"geotargeted":!1,"banners":[{"name":"wmf_tou_cc_4","bucket":0,"weight":25,"category":"wmf_cc_4","display_anon":!1,"display_account":!0,"devices":["android","desktop","ipad","iphone","unknown"]}],"mixins":{"impressionDiet":{"cookieName":"wmf_cc_4","maximumSeen":3,"restartCycleDelay":518400,"skipInitial":0}}},{"name":"wmf_cc_4_a","start":1475625660,"end":1478563140,"preferred":1,"throttle":10,"bucket_count":1,"geotargeted":!1,"banners":[{"name":"wmf_tou_cc_4_a","bucket":0,"weight":25,"category":"wmf_cc_4_a","display_anon":!0,"display_account":!1,"devices":["desktop"]}],"mixins":{"impressionDiet":{"cookieName":"wmf_cc_4","maximumSeen":3,"restartCycleDelay":518400,"skipInitial":0}}}];});mw.loader.implement("ext.centralNotice.display@0bp0udc",function($,jQuery,require,module){(function($,mw){var cn,Mixin,campaignMixins={},bannerLoadedDeferredObj;Mixin=function(name){this.name=name;};Mixin.prototype.setPreBannerHandler=function(handlerFunc){this.preBannerHandler=handlerFunc;};Mixin.prototype.setPostBannerHandler=function(handlerFunc){this.postBannerHandler=handlerFunc;};function runMixinHooks(hookPropertyName){var state=cn.internal.state;$.each(state.getCampaign().mixins,function(mixinName,mixinParams){var handler;if(!(mixinName in campaignMixins)){mw.log.warn('Mixin '+mixinName+' not registered.');return;}if(!(hookPropertyName in campaignMixins[mixinName])){return;}handler=campaignMixins[mixinName][hookPropertyName];if(typeof handler!=='function'){mw.log.warn(hookPropertyName+' for '+mixinName+' not a function.');return;}handler(mixinParams);});}function runPreBannerMixinHooks(){runMixinHooks('preBannerHandler');}function runPostBannerMixinHooks(){runMixinHooks(
'postBannerHandler');}function setUpDataProperty(){try{Object.defineProperty(cn,'data',{get:function(){return cn.internal.state.getData();}});return;}catch(e){}cn.data=cn.internal.state.getData();}function setUpBannerLoadedPromise(){bannerLoadedDeferredObj=$.Deferred();cn.bannerLoadedPromise=bannerLoadedDeferredObj.promise();cn.events={};cn.events.bannerLoaded=cn.bannerLoadedPromise;}function fetchBanner(){var data=cn.internal.state.getData(),url=new mw.Uri(mw.config.get('wgCentralSelectedBannerDispatcher'));url.extend({campaign:data.campaign,banner:data.banner,uselang:data.uselang,debug:data.debug});$.ajax({url:url.toString(),dataType:'script',cache:!0});}function injectBannerHTML(bannerHtml){$('div#centralNotice').attr('class',mw.html.escape('cn-'+cn.internal.state.getData().bannerCategory)).prepend(bannerHtml);}function recordImpression(){var state=cn.internal.state,url;if(Math.random()>state.getData().recordImpressionSampleRate){return;}url=new mw.Uri(mw.config.get(
'wgCentralBannerRecorder'));url.extend(state.getDataCopy(true));if(navigator.sendBeacon){try{navigator.sendBeacon(url.toString());}catch(e){}}else{setTimeout(function(){document.createElement('img').src=url.toString();},0);}}function reallyChooseAndMaybeDisplay(){var chooser=cn.internal.chooser,bucketer=cn.internal.bucketer,state=cn.internal.state,hide=cn.internal.hide,campaign,banner;state.setUp();setUpDataProperty();campaign=chooser.chooseCampaign(cn.choiceData,state.getData().country,state.getData().anonymous,state.getData().device,state.getData().randomcampaign);if(campaign===null){return;}state.setCampaign(campaign);bucketer.setCampaign(campaign);hide.setCategory(state.getData().campaignCategory);if(cn.kvStore){cn.kvStore.setCampaignName(state.getData().campaign);cn.kvStore.setCategory(state.getData().campaignCategory);}bucketer.process();state.setBucket(bucketer.getBucket());hide.processCookie();if(hide.shouldHide()){state.cancelBanner(hide.getReason());runPreBannerMixinHooks();
runPostBannerMixinHooks();recordImpression();return;}runPreBannerMixinHooks();if(state.isBannerCanceled()){runPostBannerMixinHooks();recordImpression();return;}banner=chooser.chooseBanner(campaign,state.getData().bucket,state.getData().anonymous,state.getData().device,state.getData().randombanner);if(!banner){state.setNoBannerAvailable();runPostBannerMixinHooks();recordImpression();return;}state.setBanner(banner);if(cn.kvStore){cn.kvStore.setBannerName(banner.name);}cn.bannerData.bannerName=banner.name;setUpBannerLoadedPromise();fetchBanner();}cn={reallyInsertBanner:function(bannerJson){var state=cn.internal.state,shownAfterLoadingBanner=!0,bannerLoadedButHiddenReason,tmpData;injectBannerHTML(bannerJson.bannerHtml);bannerLoadedDeferredObj.resolve(cn.internal.state.getData());if(state.getData().bannersNotGuaranteedToDisplay){if(typeof cn.bannerData.alterImpressionData==='function'){tmpData=state.getDataCopy();shownAfterLoadingBanner=cn.bannerData.alterImpressionData(tmpData);if(!
shownAfterLoadingBanner){bannerLoadedButHiddenReason=tmpData.reason||'';state.setBannerLoadedButHidden(bannerLoadedButHiddenReason);}if(tmpData.banner_count){state.setBannerCount(tmpData.banner_count);}}else{state.setAlterFunctionMissing();}}if(shownAfterLoadingBanner){state.setBannerShown();}if(!state.getData().testingBanner){runPostBannerMixinHooks();recordImpression();}},internal:{},setBannersNotGuaranteedToDisplay:function(){cn.internal.state.setBannersNotGuaranteedToDisplay();},cancelBanner:function(reason){cn.internal.state.cancelBanner(reason);},isBannerCanceled:function(){return cn.internal.state.isBannerCanceled();},isBannerShown:function(){return cn.internal.state.isBannerShown();},setBannerLoadedButHidden:function(reason){cn.internal.state.setBannerLoadedButHidden(reason);},setRecordImpressionSampleRate:function(rate){cn.internal.state.setRecordImpressionSampleRate(rate);},bannerData:{},Mixin:Mixin,registerCampaignMixin:function(mixin){campaignMixins[mixin.name]=mixin;},
chooseAndMaybeDisplay:function(){mw.geoIP.getPromise().fail(cn.internal.state.setInvalidGeoData).done(cn.internal.state.setGeoData).always(reallyChooseAndMaybeDisplay);},displayTestingBanner:function(){mw.geoIP.getPromise().fail(cn.internal.state.setInvalidGeoData).done(cn.internal.state.setGeoData).always(function(){cn.internal.state.setUpForTestingBanner();setUpDataProperty();setUpBannerLoadedPromise();fetchBanner();});},insertBanner:function(bannerJson){$(function(){cn.reallyInsertBanner(bannerJson);});},hideBannerWithCloseButton:function(){$('#centralNotice').hide();cn.internal.hide.setHideWithCloseButtonCookies();},customHideBanner:function(reason,duration){$('#centralNotice').hide();cn.internal.hide.setHideCookies(reason,duration);},hideBanner:function(){cn.hideBannerWithCloseButton();},setBucket:function(bucket){cn.internal.bucketer.setBucket(bucket);cn.internal.state.setBucket(bucket);},registerTest:function(identifier){cn.internal.state.registerTest(identifier);},
getDataProperty:function(prop){return cn.internal.state.getData()[prop];}};if(mw.centralNotice===undefined){mw.centralNotice=cn;}else{$.extend(mw.centralNotice,cn);cn=mw.centralNotice;}mw.log.deprecate(window,'insertBanner',cn.insertBanner,'Use mw.centralNotice method instead');mw.log.deprecate(window,'hideBanner',cn.hideBanner,'Use mw.centralNotice method instead');mw.log.deprecate(window,'toggleNotice',cn.hideBanner,'Use mw.centralNotice method instead');})(jQuery,mediaWiki);(function($,mw){var state,status,UNKNOWN_COUNTRY_CODE='XX',CAMPAIGN_CATEGORY_FOR_MIXED_BANNER_CATEGORIES='mixed_banner_categories',DEVICES={DESKTOP:'desktop',IPHONE:'iphone',IPAD:'ipad',ANDROID:'android',UNKNOWN:'unknown'},STATUSES={CAMPAIGN_NOT_CHOSEN:new Status('campaign_not_chosen',0),CAMPAIGN_CHOSEN:new Status('campaign_chosen',1),BANNER_CANCELED:new Status('banner_canceled',2),NO_BANNER_AVAILABLE:new Status('no_banner_available',3),BANNER_CHOSEN:new Status('banner_chosen',4),BANNER_LOADED_BUT_HIDDEN:new
Status('banner_loaded_but_hidden',5),BANNER_SHOWN:new Status('banner_shown',6)},REASONS={other:0,close:1,waitdate:2,waitimps:3,waiterr:4,belowMinEdits:5,viewLimit:6,'seen-fullscreen':7,'cookies-disabled':8,donate:9,cookies:10,seen:11,empty:12,waitnorestart:13,waitnostorage:14,namespace:15};function Status(key,code){this.key=key;this.code=code;}function getDeviceCode(){var ua;if(mw.config.get('skin')!=='minerva'){return DEVICES.DESKTOP;}ua=navigator.userAgent;if(ua.match(/iphone/i)){return DEVICES.IPHONE;}if(ua.match(/ipad/i)){return DEVICES.IPAD;}if(ua.match(/android/i)){return DEVICES.ANDROID;}return DEVICES.UNKNOWN;}function setInitialData(){var urlParams=$.extend(state.urlParams,(new mw.Uri()).query);state.data.anonymous=(mw.config.get('wgUserName')===null);state.data.project=mw.config.get('wgNoticeProject');state.data.db=mw.config.get('wgDBname');state.data.uselang=mw.config.get('wgUserLanguage');state.data.device=urlParams.device||getDeviceCode();state.data.country=urlParams.
country||state.data.country||UNKNOWN_COUNTRY_CODE;state.data.debug=urlParams.debug!==undefined?true:!1;state.data.randomcampaign=urlParams.randomcampaign!==undefined?urlParams.randomcampaign:Math.random();state.data.randombanner=urlParams.randombanner!==undefined?urlParams.randombanner:Math.random();state.data.recordImpressionSampleRate=urlParams.recordImpressionSampleRate!==undefined?urlParams.recordImpressionSampleRate:mw.config.get('wgCentralNoticeSampleRate');state.data.getVars=urlParams;}function setTestingBannerData(){state.data.campaign=state.urlParams.campaign;state.data.banner=state.urlParams.banner;state.data.testingBanner=!0;}function setStatus(s,reason){var reasonCodeStr=reason?('.'+state.lookupReasonCode(reason)):'';status=s;state.data.status=s.key;state.data.statusCode=s.code.toString()+reasonCodeStr;}state=mw.centralNotice.internal.state={STATUSES:STATUSES,urlParams:{},data:{},campaign:null,banner:null,setGeoData:function(geo){state.data.country=(geo&&geo.country);}
,setInvalidGeoData:function(){state.data.country=UNKNOWN_COUNTRY_CODE;},setUp:function(){setInitialData();setStatus(STATUSES.CAMPAIGN_NOT_CHOSEN);},setUpForTestingBanner:function(){setInitialData();setTestingBannerData();setStatus(STATUSES.BANNER_CHOSEN);},getData:function(){return state.data;},getDataCopy:function(cleanForURLSerialization){var dataCopy=$.extend(true,{},state.data);if(cleanForURLSerialization){delete dataCopy.getVars;delete dataCopy.mixins;delete dataCopy.tests;}return dataCopy;},setCampaign:function(c){var prop,i,category,campaignCategory=null;state.campaign=c;state.data.campaign=state.campaign.name;setStatus(STATUSES.CAMPAIGN_CHOSEN);state.data.mixins={};for(prop in state.campaign.mixins){if(state.campaign.mixins.hasOwnProperty(prop)){state.data.mixins[prop]=!0;}}for(i=0;i<state.campaign.banners.length;i++){category=state.campaign.banners[i].category;if(campaignCategory===null){campaignCategory=category;}else if(campaignCategory!==category){campaignCategory=
CAMPAIGN_CATEGORY_FOR_MIXED_BANNER_CATEGORIES;break;}}state.data.campaignCategory=campaignCategory;state.data.campaignCategoryUsesLegacy=($.inArray(campaignCategory,mw.config.get('wgCentralNoticeCategoriesUsingLegacy'))!==-1);},getCampaign:function(){return state.campaign;},setBanner:function(b){state.banner=b;state.data.banner=state.banner.name;state.data.bannerCategory=state.banner.category;setStatus(STATUSES.BANNER_CHOSEN);},setBucket:function(bucket){state.data.bucket=bucket;},setBannersNotGuaranteedToDisplay:function(){state.data.bannersNotGuaranteedToDisplay=!0;},cancelBanner:function(reason){state.data.bannerCanceledReason=reason;setStatus(STATUSES.BANNER_CANCELED,reason);state.data.result='hide';state.data.reason=reason;},isBannerCanceled:function(){return status===STATUSES.BANNER_CANCELED;},isBannerShown:function(){return status===STATUSES.BANNER_SHOWN;},setNoBannerAvailable:function(){setStatus(STATUSES.NO_BANNER_AVAILABLE);state.data.result='hide';state.data.reason='empty'
;},setBannerLoadedButHidden:function(reason){state.data.bannerLoadedButHiddenReason=reason;setStatus(STATUSES.BANNER_LOADED_BUT_HIDDEN,reason);state.data.result='hide';state.data.reason=reason;},setAlterFunctionMissing:function(){state.data.alterFunctionMissing=!0;},setBannerShown:function(){setStatus(STATUSES.BANNER_SHOWN);state.data.result='show';},setBannerCount:function(bannerCount){state.data.banner_count=bannerCount;},setRecordImpressionSampleRate:function(rate){state.data.recordImpressionSampleRate=rate;},registerTest:function(identifier){var tests=state.data.tests=state.data.tests||[];if($.inArray(identifier,tests)===-1){tests.push(identifier);if(tests.length===1){state.data.testIdentifiers=identifier;}else{state.data.testIdentifiers.concat(','+identifier);}}},lookupReasonCode:function(reasonName){if(reasonName in REASONS){return REASONS[reasonName];}return REASONS.other;}};})(jQuery,mediaWiki);(function($,mw){var cn=mw.centralNotice,CAMPAIGN_STALENESS_LEEWAY=15;function
makeFilteredChoiceData(choiceData,country,anon,device){var i,campaign,j,banner,keepCampaign,filteredChoiceData=[],now=new Date(),campaignEndDatePlusLeeway;for(i=0;i<choiceData.length;i++){campaign=choiceData[i];keepCampaign=!1;campaignEndDatePlusLeeway=new Date();campaignEndDatePlusLeeway.setTime((campaign.end*1000)+(CAMPAIGN_STALENESS_LEEWAY*60000));if(campaignEndDatePlusLeeway<now){return[];}if(campaign.geotargeted&&($.inArray(country,campaign.countries)===-1)){continue;}for(j=0;j<campaign.banners.length;j++){banner=campaign.banners[j];if(anon&&!banner.display_anon){continue;}if(!anon&&!banner.display_account){continue;}if($.inArray(device,banner.devices)===-1){continue;}keepCampaign=!0;break;}if(keepCampaign){filteredChoiceData.push(campaign);}}return filteredChoiceData;}function setCampaignAllocations(filteredChoiceData){var i,campaign,campaignPriority,campaignsByPriority=[],priorities=[],priority,campaignsAtThisPriority,remainingAllocation=1,j,campaignsAtThisPriorityCount,
currentFullAllocation,actualAllocation;if(filteredChoiceData.length===1){filteredChoiceData[0].allocation=filteredChoiceData[0].throttle/100;return;}for(i=0;i<filteredChoiceData.length;i++){campaign=filteredChoiceData[i];campaignPriority=campaign.preferred;if(!campaignsByPriority[campaignPriority]){campaignsByPriority[campaignPriority]=[];}campaignsByPriority[campaignPriority].push(campaign);}for(priority in campaignsByPriority){priorities.push(priority);}priorities.sort();priorities.reverse();for(i=0;i<priorities.length;i++){campaignsAtThisPriority=campaignsByPriority[priorities[i]];if(remainingAllocation<0.01){for(j=0;j<campaignsAtThisPriority.length;j++){campaignsAtThisPriority[j].allocation=0;}continue;}campaignsAtThisPriority.sort(function(a,b){if(a.throttle<b.throttle){return-1;}if(a.throttle>b.throttle){return 1;}return 0;});campaignsAtThisPriorityCount=campaignsAtThisPriority.length;for(j=0;j<campaignsAtThisPriorityCount;j++){campaign=campaignsAtThisPriority[j];
currentFullAllocation=remainingAllocation/(campaignsAtThisPriorityCount-j);actualAllocation=Math.min(currentFullAllocation,campaign.throttle/100);campaign.allocation=actualAllocation;remainingAllocation-=actualAllocation;}}}function makePossibleBanners(campaign,bucket,anon,device){var i,campaignName,banner,possibleBanners=[];campaignName=campaign.name;for(i=0;i<campaign.banners.length;i++){banner=campaign.banners[i];if(bucket%campaign.bucket_count!==banner.bucket){continue;}if(anon&&!banner.display_anon){continue;}if(!anon&&!banner.display_account){continue;}if($.inArray(device,banner.devices)===-1){continue;}possibleBanners.push(banner);}return possibleBanners;}function setBannerAllocations(possibleBanners){var i,banner,totalWeights=0;if(possibleBanners.length===1){possibleBanners[0].allocation=1;return;}for(i=0;i<possibleBanners.length;i++){totalWeights+=possibleBanners[i].weight;}for(i=0;i<possibleBanners.length;i++){banner=possibleBanners[i];banner.allocation=banner.weight/
totalWeights;}}function chooseObjInAllocatedArray(random,allocatedArray){var blockStart=0,i,obj,blockEnd;for(i=0;i<allocatedArray.length;i++){obj=allocatedArray[i];blockEnd=blockStart+obj.allocation;if((random>=blockStart)&&(random<blockEnd)){return obj;}blockStart=blockEnd;}return null;}cn.internal.chooser={chooseCampaign:function(choiceData,country,anon,device,random){var filteredChoiceData=makeFilteredChoiceData(choiceData,country,anon,device);if(filteredChoiceData.length===0){return null;}setCampaignAllocations(filteredChoiceData);return chooseObjInAllocatedArray(random,filteredChoiceData);},chooseBanner:function(campaign,bucket,anon,device,random){var possibleBanners=makePossibleBanners(campaign,bucket,anon,device);if(possibleBanners.length===0){return null;}setBannerAllocations(possibleBanners);return chooseObjInAllocatedArray(random,possibleBanners);}};})(jQuery,mediaWiki);(function($,mw){var buckets=null,campaign=null,kvStore=mw.centralNotice.kvStore,multiStorageOption,
LEGACY_COOKIE='CN',STORAGE_KEY='buckets';function escapeCampaignName(name){return name.replace(/[*!]/g,function(match){return'&#'+match.charCodeAt(0);});}function decodeCampaignName(name){return name.replace(/&#(33|42)/,function(match,$1){return String.fromCharCode($1);});}function parseSerializedBuckets(serialized){var parsedBuckets={};$.each(serialized.split('*'),function(idx,strBucket){var parts=strBucket.split('!'),key=decodeCampaignName(parts[0]),start=parseInt(parts[1],10)+14e8,end=start+parseInt(parts[2],10),val=parseInt(parts[3],10);if(key&&start&&end&&!isNaN(val)){parsedBuckets[key]={start:start,end:end,val:val};}});return parsedBuckets;}function possiblyLoadAndMigrateLegacyBuckets(){var cookieVal=$.cookie(LEGACY_COOKIE);if(cookieVal){buckets=parseSerializedBuckets(cookieVal);storeBuckets();$.removeCookie(LEGACY_COOKIE,{path:'/'});return true;}return false;}function loadBuckets(){var val=kvStore.getItem(STORAGE_KEY,kvStore.contexts.GLOBAL,multiStorageOption);buckets=(val?
parseSerializedBuckets(val):{});}function storeBuckets(){var expires=Math.ceil((new Date())/1000),serialized=$.map(buckets,function(opts,key){var parts=[escapeCampaignName(key),Math.floor(opts.start-14e8),Math.ceil(opts.end-opts.start),opts.val];if(opts.end>expires){expires=Math.ceil(opts.end);}return parts.join('!');}).join('*');kvStore.setItem(STORAGE_KEY,serialized,kvStore.contexts.GLOBAL,Math.ceil((expires-(new Date())/1000)/86400),multiStorageOption);}function getRandomBucket(){return Math.floor(Math.random()*mw.config.get('wgNoticeNumberOfControllerBuckets'));}function retrieveProcessAndGet(){var campaignName=campaign.name,campaignStartDate,bucket,bucketEndDate,retrievedBucketEndDate,val,extension=mw.config.get('wgCentralNoticePerCampaignBucketExtension'),now=new Date(),bucketsModified=!1;campaignStartDate=new Date();campaignStartDate.setTime(campaign.start*1000);bucketEndDate=new Date();bucketEndDate.setTime(campaign.end*1000);bucketEndDate.setUTCDate(bucketEndDate.getUTCDate
()+extension);multiStorageOption=kvStore.getMultiStorageOption(true);if(!possiblyLoadAndMigrateLegacyBuckets()){loadBuckets();}bucket=buckets[campaignName];if(bucket&&bucketEndDate>now){retrievedBucketEndDate=new Date();retrievedBucketEndDate.setTime(bucket.end*1000);if(retrievedBucketEndDate.getTime()!==bucketEndDate.getTime()){bucket.end=bucketEndDate.getTime()/1000;bucketsModified=!0;}}else{val=getRandomBucket();bucket={val:val,start:campaignStartDate.getTime()/1000,end:bucketEndDate.getTime()/1000};buckets[campaignName]=bucket;bucketsModified=!0;}for(campaignName in buckets){bucketEndDate=new Date();bucketEndDate.setTime(buckets[campaignName].end*1000);if(bucketEndDate<now){delete buckets[campaignName];bucketsModified=!0;}}if(bucketsModified){storeBuckets();}}mw.centralNotice.internal.bucketer={setCampaign:function(c){campaign=c;},process:function(){retrieveProcessAndGet();},getBucket:function(){return buckets[campaign.name].val;},setBucket:function(val){buckets[campaign.name
].val=val;storeBuckets();}};})(jQuery,mediaWiki);(function($,mw){var hide,category,cookieName,shouldHide=!1,reason,durations=mw.config.get('wgNoticeCookieDurations'),HIDE_COOKIE_PREFIX='centralnotice_hide_',MAX_CUSTOM_HIDE_DURATION=2592000;function removeCookie(){$.cookie(cookieName,null,{path:'/'});}hide=mw.centralNotice.internal.hide={setCategory:function(c){category=c;cookieName=HIDE_COOKIE_PREFIX+category;},processCookie:function(){var rawCookieVal=$.cookie(cookieName),hideData,now;if(!rawCookieVal){return;}if(rawCookieVal==='hide'){removeCookie();return;}try{hideData=JSON.parse(rawCookieVal);}catch(e){removeCookie();return;}now=new Date().getTime()/1000;if(now<hideData.created+(durations[hideData.reason]||MAX_CUSTOM_HIDE_DURATION)){shouldHide=!0;reason=hideData.reason;}},shouldHide:function(){return shouldHide;},getReason:function(){return reason;},setHideCookies:function(reason,duration){var date=new Date(),hideData={v:1,created:Math.floor(date.getTime()/1000),reason:reason}
;if(!(reason in durations)){duration=Math.min(MAX_CUSTOM_HIDE_DURATION,duration);}date.setSeconds(date.getSeconds()+duration);$.cookie(cookieName,JSON.stringify(hideData),{expires:date,path:'/'});$.each(mw.config.get('wgNoticeHideUrls'),function(i,val){var url=new mw.Uri(val);url.extend({duration:duration,category:category,reason:reason});document.createElement('img').src=url.toString();});},setHideWithCloseButtonCookies:function(){hide.setHideCookies('close',durations.close);}};})(jQuery,mediaWiki);},{"css":[
"@media print{#centralNotice{display:none}}.cn-closeButton{display:inline-block;zoom:1;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAACeklEQVR4Aa1UM3jkcRBN6qS//tTFttPHqmI359VZ5dm2L1zFtr02YlRx5sX2ft/7ed7O/w1M5ufnt8NZQjCBQXhG+IYZe5zjfju7xcHc3NzEzMwM6xOEqNnZ2ZeVlZW827dv1ycmJnbGx8d3Yr5582Z9eXk5D/d4h/empqYm+K0nw3yKcF4sFmdzOJzGgIAAhb29vc7Ozk6/Atrr/fz8lCwWq6m3tzcb72G3nmzFo/NNTU354eHhIltbW72Tk5M2IyND9P79+8ZPnz7VvXnzpoHBYPS4uLhobGxsDMHBwaLa2tp82MF+PVmUUqnMioiI6LOysjLQLCcPS2ZmZn7Ozc39oPtFYG80GgWpqakSS0tLY1hYmEgikWTBfoXsLD16BT3gUWhoqEKtVheREZ+Qu0IEjI+PZ2k0GqFer+cnJSWJra2tDWw2u2FqauoVeEAW3NzcnBcYGCh3dHTUtba2ltNjLvRJSEiQEQEPRENDQzkMBqPXwsKiXyqVFsFDNzc3LWmoqKmp4YIHZIyHDx9WOzg46GJiYmTk5e/h4eHstLQ0CX2ykXST4JPJ8y7sSVM5/QGMf9y4caMHf3r//v1a8IDsGRm04/D58+dtpNFPPNRqtflXrlzpI8G15IEGc2xsrFSlUglwD+Tk5NRBmuTk5A7wgOxbXFxcF8iysrIa1mskEolKvL29Ne7u7mpXV1dNaWlp9fr7X79+VYMMeQieY/dsv5p1r2g2Nja2vWZ7RXNiYuIA0dwlzwYGBjbkGXmURXeLeUa1ul2ebV8BEH+7CiAiASTYvgJ2qc3MzMzF2vz8+XPd27dvG5hMZg+CsV1tHmfXOP5+dqyddgHOI7v1srTdcwAAAABJRU5ErkJggg==);background:url(/w/extensions/CentralNotice/resources/subscribing/CloseWindow19x19.png?7596b)!ie;width:19px;height:19px;text-indent:19px;white-space:nowrap;overflow:hidden}"
]});mw.loader.implement("ext.centralNotice.geoIP@1vqj8fm",function($,jQuery,require,module){(function($,mw){var COOKIE_NAME='GeoIP',geoPromise;function parseCookieValue(cookieValue){var matches=cookieValue.match(/([^:]*):([^:]*):([^:]*):([^:]*):([^:]*):([^;]*)/)||cookieValue.match(/([^:]*):([^:]*):([^:]*):([^:]*):([^;]*)/);if(!matches){return null;}if(matches.length===6){matches=matches.slice(0,2).concat(['']).concat(matches.slice(2));}if((typeof matches[1]!=='string')||(matches[1].length===0)){return null;}return{country:matches[1],region:matches[2],city:matches[3],lat:matches[4]&&parseFloat(matches[4]),lon:matches[5]&&parseFloat(matches[5]),af:matches[6]};}function storeGeoInCookie(geo){var parts=[geo.country,geo.region||'',(geo.city&&geo.city.replace(/[^a-z]/i,'_'))||'',geo.lat||'',geo.lon||'',geo.af||''],cookieValue=parts.join(':');$.cookie(COOKIE_NAME,cookieValue,{path:'/'});}mw.geoIP={makeGeoWithPromise:function(){var cookieValue=$.cookie(COOKIE_NAME),geo,deferred,lookupModule;if(
cookieValue){geo=parseCookieValue(cookieValue);if(geo){deferred=$.Deferred();geoPromise=deferred.promise();deferred.resolve(geo);return;}}lookupModule=mw.config.get('wgCentralNoticeGeoIPBackgroundLookupModule');if(lookupModule){geoPromise=mw.loader.using(lookupModule).then(function(require){var lookupCallback=require(lookupModule);return lookupCallback();});geoPromise.done(function(geo){storeGeoInCookie(geo);});}else{deferred=$.Deferred();geoPromise=deferred.promise();deferred.reject();}},getPromise:function(){return geoPromise;}};mw.geoIP.makeGeoWithPromise();geoPromise.done(function(geo){window.Geo=geo;});})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.impressionDiet@1lx7cv3",function($,jQuery,require,module){(function($,mw){'use strict';var identifier,multiStorageOption,cn=mw.centralNotice,mixin=new cn.Mixin('impressionDiet'),counts,STORAGE_KEY='impression_diet',WAIT_COOKIE_SUFFIX='-wait',COUNTS_STORAGE_TTL=365;mixin.setPreBannerHandler(function(mixinParams){var hide;if(mw.util.getParamValue('force')){return;}identifier=mixinParams.cookieName;multiStorageOption=cn.kvStore.getMultiStorageOption(cn.getDataProperty('campaignCategoryUsesLegacy'));possiblyMigrateLegacyCookies();if(cn.isBannerCanceled()){return;}if(multiStorageOption===cn.kvStore.multiStorageOptions.NO_STORAGE){cn.cancelBanner('waitnostorage');return;}if(mw.util.getParamValue('reset')==='1'){counts=getZeroedCounts();}else{counts=getCounts();}if(counts.waitUntil<new Date().getTime()&&counts.waitSeenCount>=mixinParams.maximumSeen){if(mixinParams.restartCycleDelay!==0){counts.waitCount=0;counts.waitSeenCount=0;}}if(counts.waitSeenCount<
mixinParams.maximumSeen){if(counts.waitCount<mixinParams.skipInitial){hide='waitimps';counts.waitCount+=1;}else{hide=!1;}}else{hide='waitdate';}if(hide){cn.cancelBanner(hide);}else{counts.waitSeenCount+=1;counts.seenCount+=1;counts.waitUntil=new Date().getTime()+(mixinParams.restartCycleDelay*1000);}storeCounts(counts);});function getZeroedCounts(){return{seenCount:0,waitCount:0,waitUntil:0,waitSeenCount:0};}function possiblyMigrateLegacyCookies(){var rawCookie,rawWaitCookie,waitData,cookieCounts;if(!identifier){return;}rawCookie=$.cookie(identifier);if(!rawCookie){return;}rawWaitCookie=$.cookie(identifier+WAIT_COOKIE_SUFFIX);waitData=(rawWaitCookie||'').split(/[|]/);cookieCounts={seenCount:parseInt(rawCookie,10)||0,waitCount:parseInt(waitData[0],10)||0,waitUntil:parseInt(waitData[1],10)||0,waitSeenCount:parseInt(waitData[2],10)||0};storeCounts(cookieCounts);$.removeCookie(identifier,{path:'/'});$.removeCookie(identifier+WAIT_COOKIE_SUFFIX,{path:'/'});}function getCounts(){if(
identifier){return cn.kvStore.getItem(STORAGE_KEY+'_'+identifier,cn.kvStore.contexts.GLOBAL,multiStorageOption)||getZeroedCounts();}return cn.kvStore.getItem(STORAGE_KEY,cn.kvStore.contexts.CATEGORY,multiStorageOption)||getZeroedCounts();}function storeCounts(counts){if(identifier){cn.kvStore.setItem(STORAGE_KEY+'_'+identifier,counts,cn.kvStore.contexts.GLOBAL,COUNTS_STORAGE_TTL,multiStorageOption);}else{cn.kvStore.setItem(STORAGE_KEY,counts,cn.kvStore.contexts.CATEGORY,COUNTS_STORAGE_TTL,multiStorageOption);}}cn.registerCampaignMixin(mixin);})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.kvStore@1fzkv5y",function($,jQuery,require,module){(function($,mw){var KVStorageContext,kvStore,error=null,campaignName=null,bannerName=null,category=null,cookiesEnabled=null,localStorageAvailable=null,now=Math.round((new Date()).getTime()/1000),SEPARATOR='|',SEPARATOR_IN_COOKIES='!',FIND_KEY_REGEX=/\|([^|]*)$/,PREFIX='CentralNoticeKV',PREFIX_IN_COOKIES='CN',DEFAULT_ITEM_TTL=15768000;KVStorageContext=function(key,keyInCookies){this.key=key;this.keyInCookies=keyInCookies;};function areCookiesEnabled(){if(cookiesEnabled===null){$.cookie('cookieTest','testVal');cookiesEnabled=($.cookie('cookieTest')==='testVal');$.removeCookie('cookieTest');}return cookiesEnabled;}function isLocalStorageAvailable(){if(localStorageAvailable===null){try{if(!window.localStorage){localStorageAvailable=!1;}else{localStorage.setItem('localStorageTest','testVal');localStorageAvailable=(localStorage.getItem('localStorageTest')==='testVal');localStorage.removeItem(
'localStorageTest');}}catch(e){localStorageAvailable=!1;}}return localStorageAvailable;}function setError(message,key,value,context){error={message:message,key:key,value:value,context:context?context.key:null,time:new Date()};error.campaign=campaignName;error.banner=bannerName;mw.log('CentralNotice KV storage error: '+JSON.stringify(error));}function makeKeyForLocalStorage(key,context){var base=PREFIX+SEPARATOR+context.key+SEPARATOR;switch(context.key){case kvStore.contexts.CAMPAIGN.key:return base+campaignName+SEPARATOR+key;case kvStore.contexts.CATEGORY.key:return base+category+SEPARATOR+key;case kvStore.contexts.GLOBAL.key:return base+key;default:setError('Invalid KV storage context',key,null,context);return base+'invalidContext'+SEPARATOR+key;}}function makeKeyForCookie(key,context){var base=PREFIX_IN_COOKIES+SEPARATOR_IN_COOKIES+context.keyInCookies+SEPARATOR_IN_COOKIES;switch(context.key){case kvStore.contexts.CAMPAIGN.key:return base+campaignName+SEPARATOR_IN_COOKIES+key;case
kvStore.contexts.CATEGORY.key:return base+category+SEPARATOR_IN_COOKIES+key;case kvStore.contexts.GLOBAL.key:return base+key;default:setError('Invalid KV storage context',key,null,context);return base+'invalidContext'+SEPARATOR_IN_COOKIES+key;}}function setLocalStorageItem(key,value,context,ttl){var lsKey,encodedWrappedValue;lsKey=makeKeyForLocalStorage(key,context);encodedWrappedValue=JSON.stringify({expiry:ttl?(ttl*86400)+now:DEFAULT_ITEM_TTL+now,val:value});try{localStorage.setItem(lsKey,encodedWrappedValue);if(localStorage.getItem(lsKey)!==encodedWrappedValue){setError('Couldn\'t write value',key,value,context);return false;}return true;}catch(e){setError('Couldn\'t write value due to LocalStorage exception '+e.toString(),key,value,context);return false;}}function setCookieItem(key,value,context,ttl){return Boolean($.cookie(makeKeyForCookie(key,context),encodeURIComponent(JSON.stringify(value)),{expires:ttl,path:'/'}));}function getLocalStorageItem(key,context){var lsKey=
makeKeyForLocalStorage(key,context),rawValue,wrappedValue;try{rawValue=localStorage.getItem(lsKey);}catch(e){setError('Couldn\'t read value due to LocalStorage exception '+e.toString(),key,null,context);return null;}if(rawValue===null){return null;}try{wrappedValue=JSON.parse(rawValue);}catch(e){if(e instanceof SyntaxError){setError('Couldn\'t parse value, removing. '+e.message,key,rawValue,context);try{localStorage.removeItem(lsKey);}catch(ex){setError('Couldn\'t remove value due to LocalStorage exception '+ex.toString(),key,rawValue,context);}return null;}else{setError('Couldn\'t read value '+e.message,key,rawValue,context);throw e;}}if(!wrappedValue.expiry||wrappedValue.expiry<now){return null;}return wrappedValue.val;}function getCookieItem(key,context){var storageKey=makeKeyForCookie(key,context),rawCookie=$.cookie(storageKey);try{return JSON.parse(decodeURIComponent(rawCookie));}catch(e){$.removeCookie(storageKey,{path:'/'});return null;}}function removeLocalStorageItem(key,
context){try{localStorage.removeItem(makeKeyForLocalStorage(key,context));}catch(e){setError('Couldn\'t remove value due to LocalStorage exception '+e.toString(),key,null,context);}}function removeCookieItem(key,context){$.removeCookie(makeKeyForCookie(key,context),{path:'/'});}kvStore=mw.centralNotice.kvStore={contexts:{CAMPAIGN:new KVStorageContext('campaign','c'),CATEGORY:new KVStorageContext('category','t'),GLOBAL:new KVStorageContext('global','g')},multiStorageOptions:{LOCAL_STORAGE:'kv_store',COOKIE:'cookie',NO_STORAGE:'no_storage'},setItem:function(key,value,context,ttl,multiStorageOption){if((key.indexOf(SEPARATOR)!==-1)||(key.indexOf(SEPARATOR_IN_COOKIES)!==-1)){setError('Invalid key',key,value,context);return false;}multiStorageOption=multiStorageOption||kvStore.multiStorageOptions.LOCAL_STORAGE;switch(multiStorageOption){case kvStore.multiStorageOptions.LOCAL_STORAGE:return setLocalStorageItem(key,value,context,ttl);case kvStore.multiStorageOptions.COOKIE:return setCookieItem
(key,value,context,ttl);case kvStore.multiStorageOptions.NO_STORAGE:return false;default:throw'Unexpected multi-storage option';}},getItem:function(key,context,multiStorageOption){multiStorageOption=multiStorageOption||kvStore.multiStorageOptions.LOCAL_STORAGE;switch(multiStorageOption){case kvStore.multiStorageOptions.LOCAL_STORAGE:return getLocalStorageItem(key,context);case kvStore.multiStorageOptions.COOKIE:return getCookieItem(key,context);case kvStore.multiStorageOptions.NO_STORAGE:return null;default:throw'Unexpected multi-storage option';}},removeItem:function(key,context,multiStorageOption){multiStorageOption=multiStorageOption||kvStore.multiStorageOptions.LOCAL_STORAGE;switch(multiStorageOption){case kvStore.multiStorageOptions.LOCAL_STORAGE:removeLocalStorageItem(key,context);return;case kvStore.multiStorageOptions.COOKIE:removeCookieItem(key,context);return;case kvStore.multiStorageOptions.NO_STORAGE:return;default:throw'Unexpected multi-storage option';}},isAvailable:
function(){return(kvStore.getMultiStorageOption(false)!==kvStore.multiStorageOptions.NO_STORAGE);},getMultiStorageOption:function(cookieAllowed){if(isLocalStorageAvailable()){return kvStore.multiStorageOptions.LOCAL_STORAGE;}if(cookieAllowed&&areCookiesEnabled()){return kvStore.multiStorageOptions.COOKIE;}return kvStore.multiStorageOptions.NO_STORAGE;},getError:function(){return error;},setNotAvailableError:function(){setError('LocalStorage not available.',null,null);},setMaintenanceError:function(lsKey){var m=lsKey.match(FIND_KEY_REGEX),key=m?m[1]:null;setError('Error during KVStore maintenance.',key,null);},setCampaignName:function(cName){campaignName=cName;},setBannerName:function(bName){bannerName=bName;},setCategory:function(c){category=c;}};})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.kvStoreMaintenance@0hi68iw",function($,jQuery,require,module){(function($,mw){var cn,now=new Date().getTime()/1000,PREFIX_REGEX=/^CentralNoticeKV/,PREFIX_AND_SEPARATOR_IN_COOKIES='CN!',LEEWAY_FOR_REMOVAL=86400,MIN_WORK_TIME=3;function getKeys(){return $.Deferred(function(d){mw.requestIdleCallback(function(deadline){var key,keys=[],index=localStorage.length;while(index-->0&&deadline.timeRemaining()>MIN_WORK_TIME){key=localStorage.key(index);if(key!==null&&PREFIX_REGEX.test(key)){keys.push(key);}}d.resolve(keys);});}).promise();}function processKeys(keys){return $.Deferred(function(d){var queue=keys.slice();mw.requestIdleCallback(function iterate(deadline){var key,rawValue,value;while(queue[0]!==undefined&&deadline.timeRemaining()>MIN_WORK_TIME){key=queue.shift();try{rawValue=localStorage.getItem(key);if(rawValue){value=JSON.parse(rawValue);if(!value.expiry||(value.expiry+LEEWAY_FOR_REMOVAL)<now){localStorage.removeItem(key);}}}catch(e){localStorage
.removeItem(key);if(cn.kvStore){cn.kvStore.setMaintenanceError(key);}}}if(queue[0]!==undefined){mw.requestIdleCallback(iterate);}else{d.resolve();}});}).promise();}function purgeFallbackCookies(){var cookies=document.cookie.split(';'),i,matches,r=new RegExp('^'+PREFIX_AND_SEPARATOR_IN_COOKIES+'[^=]*(?=\=)');for(i=0;i<cookies.length;i++){matches=cookies[i].trim().match(r);if(matches){document.cookie=matches[0]+'=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';}}}mw.centralNotice=cn=(mw.centralNotice||{});cn.kvStoreMaintenance={doMaintenance:function(){try{if(!window.localStorage||!localStorage.length){return $.Deferred().resolve();}}catch(e){return $.Deferred().resolve();}if(document.cookie.indexOf(PREFIX_AND_SEPARATOR_IN_COOKIES)!==-1){purgeFallbackCookies();}return getKeys().then(processKeys);}};})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.largeBannerLimit@0ambk50",function($,jQuery,require,module){(function(mw){'use strict';var identifier,days,multiStorageOption,cn=mw.centralNotice,forced=mw.util.getParamValue('force'),mixin=new cn.Mixin('largeBannerLimit'),STORAGE_KEY='large_banner_limit';function isLarge(){return(cn.getDataProperty('bucket')<=1);}function possiblyMigrateLegacyCookie(){if(!identifier){return;}if(mw.cookie.get(identifier,'')){setFlag();mw.cookie.set(identifier,null,{path:'/',prefix:''});}}function checkFlag(){if(identifier){return Boolean(cn.kvStore.getItem(STORAGE_KEY+'_'+identifier,cn.kvStore.contexts.GLOBAL,multiStorageOption));}return Boolean(cn.kvStore.getItem(STORAGE_KEY,cn.kvStore.contexts.CATEGORY,multiStorageOption));}function setFlag(){var nowTS=Math.round(Date.now()/1000);if(identifier){cn.kvStore.setItem(STORAGE_KEY+'_'+identifier,nowTS,cn.kvStore.contexts.GLOBAL,days,multiStorageOption);}else{cn.kvStore.setItem(STORAGE_KEY,nowTS,cn.kvStore.contexts.
CATEGORY,days,multiStorageOption);}}mixin.setPreBannerHandler(function(mixinParams){if(forced){return;}identifier=mixinParams.identifier;days=mixinParams.days;multiStorageOption=cn.kvStore.getMultiStorageOption(cn.getDataProperty('campaignCategoryUsesLegacy'));possiblyMigrateLegacyCookie();if(cn.isBannerCanceled()||!isLarge()){return;}if(multiStorageOption===cn.kvStore.multiStorageOptions.NO_STORAGE||checkFlag()){if(mixinParams.randomize){cn.setBucket(Math.floor(Math.random()*2)+2);}else{cn.setBucket(cn.getDataProperty('bucket')+2);}}});mixin.setPostBannerHandler(function(mixinParams){if(isLarge()&&!forced&&cn.isBannerShown()){setFlag();}});cn.registerCampaignMixin(mixin);})(mediaWiki);});mw.loader.implement("ext.centralNotice.legacySupport@1e3o5oc",function($,jQuery,require,module){(function($,mw){var cn=mw.centralNotice,mixin=new cn.Mixin('legacySupport');mixin.setPreBannerHandler(function(mixinParams){if(mixinParams.setSRISampleRate){cn.setRecordImpressionSampleRate(mixinParams.sriSampleRate);}if(mixinParams.bannersNotGuaranteedToDisplay){cn.setBannersNotGuaranteedToDisplay();}});cn.registerCampaignMixin(mixin);})(jQuery,mediaWiki);});mw.loader.implement("ext.centralNotice.startUp@157cp2c",function($,jQuery,require,module){(function($,mw){var cn=mw.centralNotice,cookiesToDelete=mw.config.get('wgCentralNoticeCookiesToDelete');if(cookiesToDelete&&cookiesToDelete.length>0){mw.requestIdleCallback(deleteOldCookies);}$(function(){$('#siteNotice').prepend('<div id="centralNotice"></div>');});if(mw.util.getParamValue('banner')){mw.loader.using('ext.centralNotice.display').done(function(){cn.displayTestingBanner();});return;}if(cn.choiceData===undefined){mw.log.warn('No choice data set for CentralNotice campaign '+'and banner selection.');return;}mw.requestIdleCallback(cn.kvStoreMaintenance.doMaintenance);if(cn.choiceData.length===0){return;}if(!cn.chooseAndMaybeDisplay){mw.log.warn('Possible campaign(s) received in choiceData, but '+'mw.centralNotice.chooseAndMaybeDisplay() is not available');return;}cn.chooseAndMaybeDisplay();function deleteOldCookies(){mw.loader.using('mediawiki.cookie').done(function(){mw.
requestIdleCallback(function(deadline){while(cookiesToDelete.length>0&&deadline.timeRemaining()>3){mw.cookie.set(cookiesToDelete.shift(),null,{path:'/',prefix:''});}});});}})(jQuery,mediaWiki);});mw.loader.implement("ext.cite.a11y@0kfr2lb",function($,jQuery,require,module){(function(mw,$){'use strict';mw.hook('wikipage.content').add(function($content){var accessibilityLabelOne=mw.msg('cite_references_link_accessibility_label'),accessibilityLabelMany=mw.msg('cite_references_link_many_accessibility_label');$content.find('.mw-cite-backlink').each(function(){var $links=$(this).find('a'),label;if($links.length>1){label=accessibilityLabelMany;}else{label=accessibilityLabelOne;}$links.eq(0).prepend($('<span>').addClass('cite-accessibility-label').text(label+' '));});});}(mediaWiki,jQuery));},{"css":[".cite-accessibility-label{ top:-99999px;clip:rect( 1px 1px 1px 1px ); clip:rect( 1px,1px,1px,1px ); position:absolute !important;padding:0 !important;border:0 !important;height:1px !important;width:1px !important; overflow:hidden}"]},{"cite_references_link_accessibility_label":"Jump up","cite_references_link_many_accessibility_label":"Jump up to:"});mw.loader.implement("ext.gadget.DRN-wizard@0npz8ut",function($,jQuery,require,module){if(mw.config.get('wgPageName')==='Wikipedia:Dispute_resolution_noticeboard/request'){importScript('MediaWiki:Gadget-DRN-wizard.js');};});mw.loader.implement("ext.gadget.ReferenceTooltips@0b1ef2s",function($,jQuery,require,module){window.pg||$(document).ready(function($){if($.inArray(mw.config.get('wgCanonicalNamespace'),["","Project","Help","Draft"])!==-1){mw.messages.set({"RT-enable":"Enable Reference Tooltips","RT-disable":"Disable Reference Tooltips","RT-disablenote":"Once disabled, Reference Tooltips can be re-enabled using a link in the footer of the page.","RT-delay":"Delay before the tooltip appears (in milliseconds): ","RT-activationmethod":"Tooltip is activated by:","RT-hovering":"hovering","RT-clicking":"clicking","RT-options":"Reference Tooltips options","RT-options-save":"Save settings","RT-settings":"Tooltip settings"});function toggleRT(o){mw.loader.using("jquery.cookie",function(){$.cookie("RTsettings",o+"|"+settings[1]+"|"+settings[2],{path:"/",expires:90});location.reload();});}var settings=document.cookie.split("RTsettings=")[1];settings=settings?settings.split(";")[0].split("%7C"):[1,200,+(
"ontouchstart"in document.documentElement)];if(settings[0]==0){var footer=$("#footer-places, #f-list");if(footer.length===0){footer=$("#footer li").parent();}footer.append($("<li>").append($("<a>").text(mw.message("RT-enable")).attr("href","javascript:(function(){})()").click(function(){toggleRT(1)})));return;}var isTouchscreen=+settings[2],timerLength=isTouchscreen?0:+settings[1],settingsMenu;$(".reference").each(function(){var tooltipNode,hideTimer,showTimer,checkFlip=!1;function findRef(h){h=h.firstChild;h=h&&h.getAttribute&&h.getAttribute("href");h=h&&h.split("#");h=h&&h[1];h=h&&document.getElementById(h);h=h&&h.nodeName=="LI"&&h;return h;}function hide(refLink){if(tooltipNode&&tooltipNode.parentNode==document.body){hideTimer=setTimeout(function(){$(tooltipNode).animate({opacity:0},100,function(){document.body.removeChild(tooltipNode)});},isTouchscreen?16:100);}else{$(findRef(refLink)).removeClass("RTTarget");}}function show(){if(!tooltipNode.parentNode||tooltipNode.parentNode.
nodeType===11){document.body.appendChild(tooltipNode);checkFlip=!0;}$(tooltipNode).stop().animate({opacity:1},100);clearTimeout(hideTimer);}function openSettingsMenu(){if(settingsMenu){settingsMenu.dialog("open");}else{settingsMenu=$("<form>").append($("<button>").css("width","100%").text(mw.msg("RT-disable",mw.user)).button().click(function(){toggleRT(0)}),$("<br>"),$("<small>").text(mw.msg("RT-disablenote")),$("<hr>"),$("<label>").text(mw.msg("RT-delay")).append($("<input>").attr({"type":"number","value":settings[1],step:50,min:0,max:5000})),$("<br>"),$("<span>").text(mw.msg("RT-activationmethod",mw.user)),$("<label>").append($("<input>").attr({"type":"radio","name":"RTActivate","checked":settings[2]==0&&"checked","disabled":"ontouchstart"in document.documentElement&&"disabled"}),mw.msg("RT-hovering",mw.user)),$("<label>").append($("<input>").attr({"type":"radio","name":"RTActivate","checked":settings[2]==1&&"checked"}),mw.msg("RT-clicking",mw.user))).submit(function(e){e.
preventDefault()}).dialog({modal:!0,width:500,title:mw.msg("RT-options"),buttons:[{text:mw.msg("RT-options-save",mw.user),click:function(){var a=this.getElementsByTagName("input"),b=+a[0].value;$.cookie("RTsettings","1|"+(b>-1&&b<5001?b:settings[1])+(a[1].checked?"|0":"|1"),{path:"/",expires:90});location.reload();}}]});}}$(this)[isTouchscreen?'click':'hover'](function(e){var _this=this;if(isTouchscreen){e.preventDefault();(tooltipNode&&tooltipNode.parentNode==document.body)||setTimeout(function(){$(document.body).on("click touchstart",function(e){e=e||event;e=e.target||e.srcElement;for(;e&&!$(e).hasClass("referencetooltip");)e=e.parentNode;if(!e){clearTimeout(showTimer);hide(_this);$(document.body).off("click touchstart",arguments.callee);}});},0);}hideTimer&&clearTimeout(hideTimer);showTimer&&clearTimeout(showTimer);showTimer=setTimeout(function(){var h=findRef(_this);if(!h){return}var windowTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,
hOffsetTop=$(h).offset().top;if(!isTouchscreen&&windowTop<hOffsetTop&&windowTop+$(window).height()>hOffsetTop+h.offsetHeight){$(h).addClass("RTTarget");return;}if(!tooltipNode){tooltipNode=document.createElement("ul");tooltipNode.className="referencetooltip";var c=tooltipNode.appendChild($(h).clone(true)[0]);try{if(c.firstChild.nodeName!="A"){while(c.childNodes[1].nodeName=="A"&&c.childNodes[1].getAttribute("href").indexOf("#cite_ref-")!==-1){do{c.removeChild(c.childNodes[1])}while(c.childNodes[1].nodeValue==" ");}}}catch(e){mw.log(e)}c.removeChild(c.firstChild);$(tooltipNode.firstChild.insertBefore(document.createElement("span"),tooltipNode.firstChild.firstChild)).addClass("RTsettings").attr("title",mw.msg("RT-settings")).click(function(){mw.loader.using(["jquery.cookie","jquery.ui.dialog"],openSettingsMenu);});tooltipNode.appendChild(document.createElement("li"));isTouchscreen||$(tooltipNode).hover(show,hide);}show();var o=$(_this).offset(),oH=tooltipNode.offsetHeight;$(tooltipNode).
css({top:o.top-oH,left:o.left-7});if(tooltipNode.offsetHeight>oH){$(tooltipNode).css({left:'auto',right:0});tooltipNode.lastChild.style.marginLeft=(o.left-tooltipNode.offsetLeft)+"px";}if(checkFlip){if(o.top<tooltipNode.offsetHeight+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)){$(tooltipNode).addClass("RTflipped").css({top:o.top+12});}else if(tooltipNode.className==="referencetooltip RTflipped"){$(tooltipNode).removeClass("RTflipped");}checkFlip=!1;}},timerLength);},isTouchscreen?undefined:function(){clearTimeout(showTimer);hide(this);});});}});},{"css":[
".referencetooltip{position:absolute;list-style:none;list-style-image:none;opacity:0;font-size:10px;margin:0;z-index:5;padding:0}.referencetooltip li{border:#080086 2px solid;max-width:260px;padding:10px 8px 13px 8px;margin:0px;background-color:#F7F7F7;-webkit-box-shadow:2px 4px 2px rgba(0,0,0,0.3);-moz-box-shadow:2px 4px 2px rgba(0,0,0,0.3);box-shadow:2px 4px 2px rgba(0,0,0,0.3)}.referencetooltip li+li{margin-left:7px;margin-top:-2px;border:0;padding:0;height:3px;width:0px;background-color:transparent;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border-top:12px #080086 solid;border-right:7px transparent solid;border-left:7px transparent solid}.referencetooltip\u003Eli+li::after{content:'';border-top:8px #F7F7F7 solid;border-right:5px transparent solid;border-left:5px transparent solid;margin-top:-12px;margin-left:-5px;z-index:1;height:0px;width:0px;display:block}.client-js body .referencetooltip li li{border:none;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;height:auto;width:auto;margin:auto;padding:0;position:static}.RTflipped{padding-top:13px}.referencetooltip.RTflipped li+li{position:absolute;top:2px;border-top:0;border-bottom:12px #080086 solid}.referencetooltip.RTflipped li+li::after{border-top:0;border-bottom:8px #F7F7F7 solid;position:absolute;margin-top:7px}.RTsettings{float:right;height:24px;width:24px;cursor:pointer;background-image:url(//upload.wikimedia.org/wikipedia/commons/thumb/7/77/Gear_icon.svg/24px-Gear_icon.svg.png);background-image:linear-gradient(transparent,transparent),url(//upload.wikimedia.org/wikipedia/commons/7/77/Gear_icon.svg);margin-top:-9px;margin-right:-7px;-webkit-transition:opacity 0.15s;-moz-transition:opacity 0.15s;-ms-transition:opacity 0.15s;-o-transition:opacity 0.15s;transition:opacity 0.15s;opacity:0.6;filter:alpha(opacity=60)}.RTsettings:hover{opacity:1;filter:alpha(opacity=100)}.RTTarget{border:#080086 2px solid}"
]});mw.loader.implement("ext.gadget.charinsert@1w20bbi",function($,jQuery,require,module){if($.inArray(mw.config.get('wgAction'),['edit','submit'])!==-1||mw.config.get('wgCanonicalSpecialPageName')==='Upload'){mw.loader.load('ext.gadget.charinsert-core');};});mw.loader.implement("ext.gadget.extra-toolbar-buttons@1dzgg9k",function($,jQuery,require,module){if(mw.config.get('wgAction')==='edit'||mw.config.get('wgAction')==='submit'||mw.config.get('wgCanonicalSpecialPageName')==='Upload'){mw.loader.load('ext.gadget.extra-toolbar-buttons-core');};});mw.loader.implement("ext.gadget.featured-articles-links@0ghdcbo",function($,jQuery,require,module){var i18n={'badge-featured':{ab:' .',ar:'    .',bn:'     ',de:'Dieser Artikel wurde als exzellent bewertet.',el:'         .',en:'This is a featured article in this language.',es:'ste es un artculo destacado en esta Wikipedia.',fa:'     .',fr:'Lien vers un article de qualit.',hi:'       ',id:'Ini adalah artikel pilihan dalam bahasa lain.',it:'La voce  in vetrina in questa lingua.',kk:'    ',ko:
'      .',lv:'is ir vrtgs raksts aj valod',mk:'    .',nl:'Dit is een etalage-artikel in een andere taal.',pl:'Artyku w tym jzyku jest na medal',pt:'Este  um artigo destacado neste idioma.',ro:'Acest articol este considerat a fi de calitate',ru:'       ',ta:'   .',th:'',tr:'Bu madde baka bir dilde sekin madde statsndedir.',vi:'Lin kt ny dn n bi chn lc.'},'badge-good':{ab:' .',ar:'    ',bn:
'     ',de:'Dieser Artikel wurde als lesenswert bewertet.',el:'         .',en:'This is a good article in this language.',es:'ste es un artculo bueno en esta Wikipedia.',fa:'     .',fr:'Lien vers un bon article.',hi:'       ',id:'Ini adalah artikel bagus dalam bahasa lain.',it:'La voce  di qualit in questa lingua.',kk:'    ',ko:'      .',lv:'is ir labs raksts aj valod',mk:'    .',nl:'Dit is een goed artikel in een andere taal.',pl:'Artyku w tym jzyku jest dobrym artykuem',pt:'Este  um artigo bom neste idioma.',ro:
'Acest articol este considerat a fi bun',ru:'       ',ta:'    .',th:'',tr:'Bu madde baka bir dilde kaliteli madde statsndedir.',vi:'Lin kt ny dn n bi cht lng tt.'},'badge-featured-list':{bn:'     ',en:'This is a featured list in this language.',fr:'Lien vers une liste de qualit.',lv:'is ir vrtgs saraksts aj valod',mk:'    .',pt:'Esta  uma lista destacada neste idioma.',ru:
'         ',vi:'Lin kt ny dn n danh sch chn lc.'}};function msg(key){return i18n[key][mw.config.get('wgUserLanguage').split('-')[0]]||i18n[key].en;}function linkFA(){var $list=mw.config.get('skin')==='cologneblue'?$('#langlinks').find('span'):$('#p-lang').find('li');$list.each(function(){var $this=$(this),lang=$this.find('[lang]').attr('lang')||'',id='interwiki-'+lang.toLowerCase();if($this.is('.badge-featuredarticle, .badge-goodarticle, .badge-featuredlist')){return;}if(document.getElementById(id+'-fa')){$this.addClass('FA').attr('title',msg('badge-featured'));}else if(document.getElementById(id+'-ga')){$this.addClass('GA').attr('title',msg('badge-good'));}else if(document.getElementById(id+'-fl')){$this.addClass('FL').attr('title',msg('badge-featured-list'));}});}mw.hook('wikipage.content').add(linkFA);},{"css":[
".skin-vector li.GA,.skin-monobook li.GA,.skin-modern li.GA{list-style-image:url(//upload.wikimedia.org/wikipedia/commons/4/42/Monobook-bullet-ga.png)} .skin-vector li.FA,.skin-monobook li.FA{list-style-image:url(//upload.wikimedia.org/wikipedia/commons/d/d4/Monobook-bullet-star.png)}.skin-modern li.FA{list-style-image:url(//upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Modern-bullet-star.svg/9px-Modern-bullet-star.svg.png)}"]});mw.loader.implement("ext.gadget.refToolbar@1yy5rzr",function($,jQuery,require,module){(function(mw,$){'use strict';function initializeRefTools(){if(window.refToolbarInstalled||$('#wpTextbox1[readonly]').length){return;}if(mw.user.options.get('usebetatoolbar')){if(mw.user.options.get('usebetatoolbar-cgd')){mw.loader.using(['ext.gadget.refToolbarBase','ext.wikiEditor.toolbar'],function(){importScript('MediaWiki:RefToolbar.js');});}else{mw.loader.using('ext.wikiEditor.toolbar',function(){importScript('MediaWiki:RefToolbarNoDialogs.js');});}}else if(mw.user.options.get('showtoolbar')){importScript('MediaWiki:RefToolbarLegacy.js');}else{return;}window.refToolbarInstalled=!0;}if($.inArray(mw.config.get('wgAction'),['edit','submit'])!==-1){$(initializeRefTools);}}(mediaWiki,jQuery));});mw.loader.implement("ext.gadget.switcher@1axns8f",function($,jQuery,require,module){(function($){'use strict';$(function(){$('.switcher-container').each(function(i){var activeElement,$showRadio,$showAllRadio;var elements=[],container=this;var radioName='switcher-'+i;$(this).children().each(function(){var self=this;var $labelContainer=$(this).find('.switcher-label');var $labelText=$labelContainer.contents();if(!$labelText.length){return;}elements.push(this);$showRadio=$('<input type="radio" />').attr('name',radioName).click(function(){$(activeElement).hide();$(self).show();activeElement=self;});$('<label style="display:block"></label>').append($showRadio).append($labelText).appendTo(container);if(!activeElement){activeElement=this;$showRadio.prop('checked',true);}else if($labelContainer.is('[data-switcher-default]')){$showRadio.click();}else{$(this).hide();}$labelContainer.remove();});if(elements.length>1){$showAllRadio=$('<input type="radio" />').attr('name',radioName).click(function()
{$(elements).show();activeElement=elements;});$('<label style="display:block">Show all</label>').prepend($showAllRadio).appendTo(container);}else if(elements.length===1){$showRadio.remove();}});});})(jQuery);});mw.loader.implement("ext.gadget.teahouse@153mmqy",function($,jQuery,require,module){if($.inArray(mw.config.get('wgPageName'),['Wikipedia:Teahouse/Questions','Wikipedia:Teahouse/Question-form2'])!==-1){importScript('MediaWiki:Gadget-teahouse/content.js');};},{"css":[".wp-teahouse-question-form{position:absolute;margin-left:auto;margin-right:auto;background-color:#f4f3f0;border:1px solid #a7d7f9;padding:1em}#wp-th-question-ask{float:right}.wp-teahouse-ask a.external{background-image:none !important}.wp-teahouse-respond-form{position:absolute;margin-left:auto;margin-right:auto;background-color:#f4f3f0;border:1px solid #a7d7f9;padding:1em}.wp-th-respond{float:right}.wp-teahouse-respond a.external{background-image:none !important}"]});mw.loader.implement("ext.gadget.watchlist-notice@0n9hmbi",function($,jQuery,require,module){if(mw.config.get('wgCanonicalSpecialPageName')==='Watchlist'){mw.loader.load('ext.gadget.watchlist-notice-core');};});mw.loader.implement("ext.navigationTiming@1xi68zz",function($,jQuery,require,module){(function(mw,$){'use strict';var timing,navigation,mediaWikiLoadEnd,TYPE_NAVIGATE=0;if(window.performance){timing=performance.timing;navigation=performance.navigation;}function inSample(){var factor=mw.config.get('wgNavigationTimingSamplingFactor');if(!$.isNumeric(factor)||factor<1){return false;}return Math.floor(Math.random()*factor)===0;}function getDevicePixelRatio(){if(window.screen&&screen.logicalXDPI){return screen.deviceXDPI/screen.logicalXDPI;}else if(window.devicePixelRatio){return window.devicePixelRatio;}else{return 1;}}function isCompliant(){var sequences,markers,curr,prev;if(!timing){return false;}sequences=[['navigationStart','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','requestStart','responseStart','responseEnd','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','loadEventStart','loadEventEnd'],['secureConnectionStart',
'requestStart'],['fetchStart','domLoading'],['domContentLoadedEventEnd','domComplete']];while(sequences.length){markers=sequences.shift();prev=null;while(markers.length){curr=timing[markers.shift()];if(curr){if(curr<prev){return false;}prev=curr;}}}return true;}function getNavTiming(){var navStart,timingData,chromeLoadTimes;if(!navigation||navigation.type!==TYPE_NAVIGATE||!isCompliant()){return{};}navStart=timing.navigationStart||timing.fetchStart;timingData={};$.each(['connectEnd','connectStart','domComplete','domInteractive','fetchStart','loadEventEnd','loadEventStart','requestStart','responseEnd','responseStart','secureConnectionStart'],function(i,marker){var measure=timing[marker]-navStart;if($.isNumeric(measure)&&measure>0){timingData[marker]=measure;}});if(timing.domainLookupStart){timingData.dnsLookup=timing.domainLookupEnd-timing.domainLookupStart;}if(timing.redirectStart){timingData.redirectCount=performance.navigation.redirectCount;timingData.redirecting=timing.redirectEnd-
timing.redirectStart;}if(timing.msFirstPaint>navStart){timingData.firstPaint=timing.msFirstPaint-navStart;}else if(window.chrome&&$.isFunction(chrome.loadTimes)){chromeLoadTimes=chrome.loadTimes();if(chromeLoadTimes.firstPaintTime>chromeLoadTimes.startLoadTime){timingData.firstPaint=Math.round(1000*(chromeLoadTimes.firstPaintTime-chromeLoadTimes.startLoadTime));}}return timingData;}function emitNavigationTiming(){var event={isHttp2:/H2/.test($.cookie('CP')),isHiDPI:getDevicePixelRatio()>1,isAnon:mw.config.get('wgUserId')===null,mediaWikiVersion:mw.config.get('wgVersion')},page={pageId:mw.config.get('wgArticleId'),namespaceId:mw.config.get('wgNamespaceNumber'),revId:mw.config.get('wgCurRevisionId'),action:mw.config.get('wgAction')},isSpecialPage=!!mw.config.get('wgCanonicalSpecialPageName'),mobileMode=mw.config.get('wgMFMode');if(mw.config.get('wgMFLazyLoadImages')){event.lazyLoadImages='A';}if(window.mediaWikiLoadStart){event.mediaWikiLoadComplete=Math.round(mediaWikiLoadEnd-
mediaWikiLoadStart);}if(window.Geo){if(typeof Geo.country==='string'){event.originCountry=Geo.country;}if(typeof Geo.region==='string'){event.originRegion=Geo.region;}}if(!isSpecialPage){$.extend(event,page);}if(typeof mobileMode==='string'&&mobileMode.indexOf('desktop')===-1){event.mobileMode=mobileMode;}$.extend(event,getNavTiming());if(navigation&&navigation.type===TYPE_NAVIGATE&&!isCompliant()){mw.eventLog.logFailure('NavigationTiming','nonCompliant');}mw.eventLog.logEvent('NavigationTiming',event);}function emitSaveTiming(){var navTiming;if(!mw.config.get('wgPostEdit')){return;}navTiming=getNavTiming();if(navTiming.responseStart){mw.eventLog.logEvent('SaveTiming',{mediaWikiVersion:mw.config.get('wgVersion'),saveTiming:navTiming.responseStart});}}function onLoadComplete(callback){mw.hook('resourceloader.loadEnd').add(function(){var timer;mediaWikiLoadEnd=mw.now();timer=setInterval(function(){if(!timing||timing.loadEventEnd>0){clearInterval(timer);callback();}},10);});}
onLoadComplete(function(){if(inSample()){emitNavigationTiming();}mw.hook('postEdit').add(emitSaveTiming);});}(mediaWiki,jQuery));});mw.loader.implement("ext.wikimediaEvents@1o4idhp",function($,jQuery,require,module){(function(mw){mw.trackSubscribe('wikimedia.event.',function(topic,event){mw.track(topic.replace(/^wikimedia\./,''),event);});}(mediaWiki));(function(mw){var timer=null,queue=[],batchSize=50,baseUrl=mw.config.get('wgWMEStatsdBaseUri'),sendBeacon=(/1|yes/.test(navigator.doNotTrack))?function(){}:navigator.sendBeacon?function(url){try{navigator.sendBeacon(url);}catch(e){}}:function(url){(new Image()).src=url;};if(!baseUrl){return;}function dispatch(){var i,values;timer=null;while(queue.length){values=queue.splice(0,batchSize);for(i=0;i<values.length;i++){values[i]=values[i].key+'='+values[i].value;}sendBeacon(baseUrl+'?'+values.join('&'));}}function schedule(){if(!timer){timer=setTimeout(dispatch,2000);}else if(queue.length<batchSize){clearTimeout(timer);timer=setTimeout(dispatch,2000);}}mw.trackSubscribe('timing.',function(topic,time){queue.push({key:topic.substring('timing.'.length),value:Math.round(time
)+'ms'});schedule();});mw.trackSubscribe('counter.',function(topic,count){count=Math.round(count);if(isNaN(count)){count=1;}queue.push({key:topic.substring('counter.'.length),value:count+'c'});schedule();});mw.trackSubscribe('gauge.',function(topic,value){value=Math.round(value);if(isNaN(value)){return;}queue.push({key:topic.substring('gauge.'.length),value:value+'g'});schedule();});}(mediaWiki));(function(mw){var passES5,passJSON;if(!mw.eventLog.inSample(1000)){return;}passES5=(function(){'use strict';return!this&&!!Function.prototype.bind;}());if(passES5){mw.track('counter.mw.js.es5strict.pass',1);}else{mw.track('counter.mw.js.es5strict.fail',1);}passJSON=!!(window.JSON&&JSON.stringify&&JSON.parse)&&(!mw.loader.moduleRegistry.json||mw.loader.moduleRegistry.json.skipped===true);if(passJSON){mw.track('counter.mw.js.support_json.pass',1);}else{mw.track('counter.mw.js.support_json.fail',1);}}(mediaWiki));(function(mw,$,undefined){'use strict';if(mw.config.get('skin')==='minerva'){return;
}var search,autoComplete,session,eventLog,initSubTest,isSearchResultPage=mw.config.get('wgIsSearchResultPage'),uri=new mw.Uri(location.href),checkinTimes=[10,20,30,40,50,60,90,120,150,180,210,240,300,360,420],lastScrollTop=0,articleId=mw.config.get('wgArticleId');function extractResultPosition(uri,wprovPrefix){return parseInt(uri.query.wprov&&uri.query.wprov.substr(0,wprovPrefix.length)===wprovPrefix&&uri.query.wprov.substr(wprovPrefix.length),10);}function initFromWprov(wprovPrefix){var res={wprovPrefix:wprovPrefix,resultPosition:extractResultPosition(uri,wprovPrefix)};res.cameFromSearch=!isNaN(res.resultPosition);return res;}function randomToken(){return mw.user.generateRandomSessionId()+new Date().getTime().toString(36);}search=initFromWprov('srpw1_');autoComplete=initFromWprov('acrw1_');autoComplete.cameFromAutocomplete=uri.query.wprov==='acrw1';if(uri.query.wprov&&window.history.replaceState){delete uri.query.wprov;window.history.replaceState({},'',uri.toString());}function
SessionState(){var state={},storageNamespace='wmE-sS-',ttl={sessionId:10*60*1000,subTest:10*60*1000,token:24*60*60*1000};function key(type){return storageNamespace+'-'+type;}function initialize(session){var sessionId=session.get('sessionId'),sampleSize=200,oneIn=function(populationSize){var rand=mw.user.generateRandomSessionId(),parsed=parseInt(rand.slice(0,13),16);return parsed%populationSize===0;},chooseBucket=function(buckets){var rand=mw.user.generateRandomSessionId(),parsed=parseInt(rand.slice(0,13),16),step=Math.pow(2,52)/buckets.length;return buckets[Math.floor(parsed/step)];};if(sessionId==='rejected'){return;}if(!sessionId){if(!oneIn(sampleSize)){session.set('sessionId','rejected');return;}if(!session.set('sessionId',randomToken())){return;}}session.set('pageViewId',randomToken());}this.isActive=function(){var sessionId=this.get('sessionId');return sessionId&&sessionId!=='rejected';};this.has=function(type){return this.get(type)!==null;};this.get=function(type){if(!state.
hasOwnProperty(type)){if(ttl.hasOwnProperty(type)){var endTime=parseInt(mw.storage.get(key(type+'EndTime')),10),now=new Date().getTime();if(endTime&&endTime>now){state[type]=mw.storage.get(key(type));}else{mw.storage.remove(key(type));mw.storage.remove(key(type+'EndTime'));state[type]=null;}}else{state[type]=null;}}return state[type];};this.set=function(type,value){if(ttl.hasOwnProperty(type)){var now=new Date().getTime();if(!mw.storage.set(key(type+'EndTime'),now+ttl[type])){return false;}if(!mw.storage.set(key(type),value)){mw.storage.remove(key(type+'EndTime'));return false;}}state[type]=value;return true;};this.refresh=function(type){if(this.isActive()&&ttl.hasOwnProperty(type)&&mw.storage.get(key(type))!==null){var now=new Date().getTime();mw.storage.set(key(type+'EndTime'),now+ttl[type]);}};initialize(this);return this;}function interval(checkinTimes,fn){var hidden,visibilityChange,checkin=checkinTimes.shift(),timeout=checkin;if(document.hidden!==undefined){hidden='hidden';
visibilityChange='visibilitychange';}else if(document.mozHidden!==undefined){hidden='mozHidden';visibilityChange='mozvisibilitychange';}else if(document.msHidden!==undefined){hidden='msHidden';visibilityChange='msvisibilitychange';}else if(document.webkitHidden!==undefined){hidden='webkitHidden';visibilityChange='webkitvisibilitychange';}function setVisibleTimeout(fn,delay){var handleVisibilityChange,timeoutId=null,lastStartedAt=0,onComplete=function(){timeoutId=null;if(document.removeEventListener){document.removeEventListener(visibilityChange,handleVisibilityChange,false);}fn();};handleVisibilityChange=function(){var now=new Date().getTime();if(document[hidden]){if(timeoutId!==null){delay=Math.max(0,delay-Math.max(0,now-lastStartedAt));clearTimeout(timeoutId);timeoutId=null;if(delay===0){onComplete();}}}else{if(timeoutId===null){lastStartedAt=now;timeoutId=setTimeout(onComplete,delay);}}};if(hidden!==undefined&&document.addEventListener){document.addEventListener(visibilityChange,
handleVisibilityChange,false);}handleVisibilityChange();}function action(){var current=checkin;fn(current);checkin=checkinTimes.shift();if(checkin){timeout=checkin-current;setVisibleTimeout(action,1000*timeout);}}setVisibleTimeout(action,1000*timeout);}function extendMwEventLog(){var self,localQueue={},queueKey='wmE-Ss-queue';if(navigator.sendBeacon||mw.eventLog.sendBeacon===$.noop){return mw.eventLog;}self=$.extend({},mw.eventLog,{sendBeacon:function(url){var img=document.createElement('img'),handler=function(){delete localQueue[url];};localQueue[url]=!0;img.addEventListener('load',handler);img.addEventListener('error',handler);img.setAttribute('src',url);},logEvent:function(schemaName,eventData){var event=self.prepare(schemaName,eventData),url=self.makeBeaconUrl(event),sizeError=self.checkUrlSize(schemaName,url),deferred=$.Deferred();if(!sizeError){self.sendBeacon(url);deferred.resolveWith(event,[event]);}else{deferred.rejectWith(event,[event,sizeError]);}return deferred.promise();
}});$(document).ready(function(){var queue,url,jsonQueue=mw.storage.get(queueKey);if(jsonQueue){mw.storage.remove(queueKey);queue=JSON.parse(jsonQueue);for(url in queue){if(queue.hasOwnProperty(url)){self.sendBeacon(url);}}}});$(window).on('beforeunload',function(){var jsonQueue,key,queueIsEmpty=!0;for(key in localQueue){if(localQueue.hasOwnProperty(key)){queueIsEmpty=!1;break;}}if(!queueIsEmpty){jsonQueue=mw.storage.get(queueKey);if(jsonQueue){$.extend(localQueue,JSON.parse(jsonQueue));}mw.storage.set(queueKey,JSON.stringify(localQueue));localQueue={};}});return self;}function genLogEventFn(source,session){return function(action,extraData){var scrollTop=$(window).scrollTop(),evt={action:action,source:source,searchSessionId:session.get('sessionId'),pageViewId:session.get('pageViewId'),scroll:scrollTop!==lastScrollTop,mwSessionId:mw.user.sessionId(),uniqueId:randomToken()};if(action!=='checkin'&&!session.isActive()){return;}lastScrollTop=scrollTop;if(session.get('subTest')){evt.
subTest=session.get('subTest');}if(articleId>0){evt.articleId=articleId;}if(mw.config.get('wgCirrusSearchRequestSetToken')){evt.searchToken=mw.config.get('wgCirrusSearchRequestSetToken');}if(extraData){$.extend(evt,extraData);}mw.loader.using(['schema.TestSearchSatisfaction2']).then(function(){eventLog=eventLog||extendMwEventLog();eventLog.logEvent('TestSearchSatisfaction2',evt);});};}function setupSearchTest(session){var params,logEvent=genLogEventFn('fulltext',session);if(isSearchResultPage){session.refresh('sessionId');session.refresh('subTest');$('#mw-content-text').on('click','.mw-search-result-heading a',function(evt){var $target=$(evt.target).closest('a'),uri=new mw.Uri($target.attr('href')),index=$target.closest('.mw-search-result-heading').find('[data-serp-pos]').data('serp-pos');if(index!==undefined){uri.query.wprov=search.wprovPrefix+index;$target.attr('href',uri.toString());}logEvent('click',{position:index});});params={query:mw.config.get('searchTerm'),hitsReturned:$(
'.mw-search-result-heading').length};if(window.performance&&window.performance.timing){params.msToDisplayResults=window.performance.timing.domInteractive-window.performance.timing.navigationStart;}logEvent('searchResultPage',params);}else if(search.cameFromSearch){logEvent('visitPage',{position:search.resultPosition});interval(checkinTimes,function(checkin){logEvent('checkin',{checkin:checkin});});}}function setupAutocompleteTest(session){var logEvent=genLogEventFn('autocomplete',session),track=function(topic,data){var $wprov,params;if(data.action==='session-start'){session.set('autocompleteStart',new Date().getTime());}else if(data.action==='impression-results'){session.refresh('sessionId');session.refresh('subTest');params={hitsReturned:data.numberOfResults,query:data.query,inputLocation:data.inputLocation,autocompleteType:data.resultSetType};if(session.has('autocompleteStart')){params.msToDisplayResults=Math.round(new Date().getTime()-session.get('autocompleteStart'));}logEvent(
'searchResultPage',params);}else if(data.action==='render-one'){data.formData.linkParams.wprov=autoComplete.wprovPrefix+data.index;}else if(data.action==='click-result'){logEvent('click',{position:data.index});}else if(data.action==='submit-form'){$wprov=data.$form.find('input[name=wprov]');if($wprov.length){$wprov.val(autoComplete.wprovPrefix+data.index);}else{$wprov=$('<input>').attr({type:'hidden',name:'wprov',value:autoComplete.wprovPrefix+data.index}).appendTo(data.$form);}logEvent('click',{position:data.index});}};if(autoComplete.cameFromSearch){logEvent('visitPage',{position:autoComplete.resultPosition});interval(checkinTimes,function(checkin){logEvent('checkin',{checkin:checkin});});}mw.trackSubscribe('mediawiki.searchSuggest',track);mw.trackSubscribe('mw.widgets.SearchInputWidget',track);}function atMostOnce(fn){var called=!1;return function(){if(!called){fn.apply(this,arguments);called=!0;}};}initSubTest=atMostOnce(function(session){});function setup(fn){session=session
||new SessionState();if(session.isActive()){initSubTest(session);fn(session);}}if(isSearchResultPage||search.cameFromSearch){$(document).ready(function(){setup(setupSearchTest);});}$(document).ready(function(){var initialize=atMostOnce(function(){setup(setupAutocompleteTest);});if(autoComplete.cameFromSearch){initialize();}else{$('input[type=search]').one('input',initialize).one('change',initialize).one('paste',initialize).one('keypress',initialize);}});}(mediaWiki,jQuery));(function($,mw){var oldHide=$.fn.hide,tracked={},$geoHackLinks,$document=$(document),wmaSelector='iframe[src^=\'//wma.wmflabs.org/iframe.html\']',wiwosmSelector='iframe#openstreetmap';$.fn.hide=function(){$(this).trigger('hide');return oldHide.apply(this,arguments);};function isTitleCoordinate($el){return $el.is('#coordinates *');}function getToken(){var cookieName='GeoFeaturesUser2',token=mw.cookie.get(cookieName);if(token){return token;}token=mw.user.generateRandomSessionId();mw.cookie.set(cookieName,token,{
expires:10*60});return token;}function doTrack(feature,action,titleCoordinate,url){mw.loader.using('schema.GeoFeatures').then(function(){mw.eventLog.logEvent('GeoFeatures',{feature:feature,action:action,titleCoordinate:titleCoordinate,userToken:getToken()});});if(url){setTimeout(function(){document.location=url;},200);}}function isVisible($el){var $window=$(window),top=$window.scrollTop(),bottom=top+$window.height(),elTop=$el.offset().top,elBottom=elTop+$el.height();return(elTop>=top&&elTop<=bottom)||(elBottom>=top&&elBottom<=bottom);}function trackIframe(selector,feature){$(window).on('blur',function(){setTimeout(function(){if(!tracked[selector]&&document.activeElement instanceof HTMLIFrameElement&&$(document.activeElement).is(selector)){tracked[selector]=!0;doTrack(feature,'interaction',!!$document.data('isPrimary-'+feature));}},0);});}function trackButton(selector,callback,attemptsLeft){if(!attemptsLeft){return;}setTimeout(function(){var $button=$(selector);if($button.length){
$button.on('click',callback);}else{trackButton(selector,callback,attemptsLeft-1);}},1000);}mw.requestIdleCallback(function(){mw.cookie.set('GeoFeaturesUser',null);$geoHackLinks=$('a[href^=\'//tools.wmflabs.org/geohack/geohack.php\']');$geoHackLinks.on('click',function(event){var $this=$(this),isTitle=isTitleCoordinate($this);if(event.buttons===undefined||event.buttons>1||event.button||event.altKey||event.ctrlKey||event.metaKey||event.shiftKey){doTrack('GeoHack','open',isTitle);}else{doTrack('GeoHack','open',isTitle,$this.attr('href'));event.preventDefault();}});if($geoHackLinks.length){trackIframe(wmaSelector,'WikiMiniAtlas');mw.hook('WikiMiniAtlas.load').add(function(){$('.wmamapbutton').on('click',function(){var $this=$(this),isTitle=isTitleCoordinate($this),$container=$(wmaSelector).parent();$document.data('isPrimary-WikiMiniAtlas',isTitle);if($container.is(':visible')){doTrack('WikiMiniAtlas','open',isTitle);$container.one('hide',function(){doTrack('WikiMiniAtlas','close',isTitle);
});}});});}$document.data('isPrimary-WIWOSM',true);trackIframe(wiwosmSelector,'WIWOSM');trackButton('.osm-icon-coordinates',function(){var mapShown=$(wiwosmSelector).is(':visible');doTrack('WIWOSM',mapShown?'open':'close',true);},5);(function(){var $map;function onScroll(){if(isVisible($map)){doTrack('Wikivoyage','view',false);$(window).off('scroll',onScroll);}}$map=$('#mapwrap #mapdiv');if(!$map.length){return;}trackIframe('#mapwrap #mapdiv iframe','Wikivoyage');if(Math.random()*100>1){return;}if(isVisible($map)){doTrack('Wikivoyage','view',false);}else{$(window).on('scroll',onScroll);}}());});}(jQuery,mediaWiki));});mw.loader.implement("ext.uls.eventlogger@10zyclm",function($,jQuery,require,module){(function($,mw){'use strict';function ULSEventLogger(){this.logEventQueue=$.Callbacks('memory once');this.init();this.listen();}ULSEventLogger.prototype={init:function(){var eventLogger=this;mw.eventLog.setDefaults('UniversalLanguageSelector',{version:1,token:mw.user.id(),contentLanguage:mw.config.get('wgContentLanguage'),interfaceLanguage:mw.config.get('wgUserLanguage')});eventLogger.logEventQueue.fire();},log:function(event,schema){var deferred=$.Deferred();schema=schema||'UniversalLanguageSelector';this.logEventQueue.add(function(){mw.eventLog.logEvent(schema,event).done(deferred.resolve).fail(deferred.reject);});return deferred.promise();},listen:function(){mw.hook('mw.uls.settings.open').add($.proxy(this.ulsSettingsOpen,this));mw.hook('mw.uls.language.revert').add($.proxy(this.ulsLanguageRevert,this));mw.hook('mw.uls.ime.enable').add($.proxy(this.enableIME,this));mw.hook('mw.uls.ime.disable').add($
.proxy(this.disableIME,this));mw.hook('mw.uls.ime.change').add($.proxy(this.changeIME,this));mw.hook('mw.uls.login.click').add($.proxy(this.loginClick,this));mw.hook('mw.uls.ime.morelanguages').add($.proxy(this.imeMoreLanguages,this));mw.hook('mw.uls.interface.morelanguages').add($.proxy(this.interfaceMoreLanguages,this));mw.hook('mw.uls.interface.language.change').add($.proxy(this.interfaceLanguageChange,this));mw.hook('mw.uls.font.change').add($.proxy(this.fontChange,this));mw.hook('mw.uls.webfonts.enable').add($.proxy(this.enableWebfonts,this));mw.hook('mw.uls.webfonts.disable').add($.proxy(this.disableWebfonts,this));$('body').on('noresults.uls','.uls-menu .uls-languagefilter',$.proxy(this.noSearchResults,this));},ulsSettingsOpen:function(context){this.log({action:'settings-open',context:context});},ulsLanguageRevert:function(deferred){this.log({action:'ui-lang-revert'}).always(deferred.resolve());},disableIME:function(context){this.log({action:'ime-disable',context:context});},
enableIME:function(context){this.log({action:'ime-enable',context:context});},changeIME:function(inputMethod){this.log({action:'ime-change',inputMethod:inputMethod});},loginClick:function(deferred){this.log({action:'login-click'}).always(deferred.resolve);},imeMoreLanguages:function(){this.log({action:'more-languages-access',context:'ime'});},interfaceLanguageChange:function(language,deferred){var logParams={action:'language-change',context:'interface',interfaceLanguage:language};this.log(logParams).always(deferred.resolve);},interfaceMoreLanguages:function(){this.log({action:'more-languages-access',context:'interface'});},fontChange:function(context,language,font){var logParams={action:'font-change',context:context};if(context==='interface'){$.extend(logParams,{interfaceFont:font,interfaceLanguage:language});}else{logParams.contentFont=font;}this.log(logParams);},disableWebfonts:function(context){this.log({action:'webfonts-disable',context:context});},enableWebfonts:function(context){
this.log({action:'webfonts-enable',context:context});},noSearchResults:function(event,context){this.log({action:'no-search-results',context:context});}};mw.uls=mw.uls||{};mw.uls.eventlogger=new ULSEventLogger();}(jQuery,mediaWiki));});mw.loader.implement("ext.uls.init@1jmdr7j",function($,jQuery,require,module){});mw.loader.implement("ext.visualEditor.targetLoader@1q7upc0",function($,jQuery,require,module){(function(){var prefName,prefValue,conf=mw.config.get('wgVisualEditorConfig'),pluginCallbacks=[],modules=['ext.visualEditor.mwcore','ext.visualEditor.mwlink','ext.visualEditor.mwformatting','ext.visualEditor.data','ext.visualEditor.mwtransclusion','ext.visualEditor.mwgallery','ext.visualEditor.mwalienextension','ext.visualEditor.language','ext.visualEditor.icons'].concat(conf.pluginModules.filter(mw.loader.getState));if(conf.enableWikitext&&(mw.user.options.get('visualeditor-newwikitext')||new mw.Uri().query.veaction==='editsource')){modules.push('ext.visualEditor.mwwikitext');}if(conf.signatureNamespaces.length){modules.push('ext.visualEditor.mwsignature');}for(prefName in conf.preferenceModules){prefValue=mw.user.options.get(prefName);if(prefValue&&prefValue!=='0'){modules.push(conf.preferenceModules[prefName]);}}mw.libs.ve=mw.libs.ve||{};mw.libs.ve.targetLoader={addPlugin:function(plugin){
if(typeof plugin==='string'){modules.push(plugin);}else if($.isFunction(plugin)){pluginCallbacks.push(plugin);}},loadModules:function(){ve.track('trace.moduleLoad.enter');return mw.loader.using(modules).then(function(){ve.track('trace.moduleLoad.exit');pluginCallbacks.push(ve.init.platform.getInitializedPromise.bind(ve.init.platform));return $.when.apply($,pluginCallbacks.map(function(callback){return callback();}));});},requestPageData:function(mode,pageName,oldid,targetName,modified){if(mode==='source'){return this.requestWikitext(pageName,oldid,targetName,modified);}else{return this.requestParsoidData(pageName,oldid,targetName,modified);}},requestParsoidData:function(pageName,oldid,targetName,modified,wikitext){var start,apiXhr,restbaseXhr,apiPromise,restbasePromise,dataPromise,pageHtmlUrl,switched=!1,fromEditedState=!1,data={action:'visualeditor',paction:(conf.fullRestbaseUrl||conf.restbaseUrl)?'metadata':'parse',page:pageName,uselang:mw.config.get('wgUserLanguage')};if(oldid
!==undefined){data.oldid=oldid;}start=ve.now();ve.track('trace.apiLoad.enter');apiXhr=new mw.Api().get(data);apiPromise=apiXhr.then(function(data,jqxhr){ve.track('trace.apiLoad.exit');ve.track('mwtiming.performance.system.apiLoad',{bytes:$.byteLength(jqxhr.responseText),duration:ve.now()-start,cacheHit:/hit/i.test(jqxhr.getResponseHeader('X-Cache')),targetName:targetName});return data;});if(conf.fullRestbaseUrl||conf.restbaseUrl){ve.track('trace.restbaseLoad.enter');if(conf.fullRestbaseUrl&&(wikitext||(wikitext=$('#wpTextbox1').textSelection('getContents')))&&!$('[name=wpSection]').val()){switched=!0;fromEditedState=modified;window.onbeforeunload=null;$(window).off('beforeunload');restbaseXhr=$.ajax({url:conf.fullRestbaseUrl+'v1/transform/wikitext/to/html/'+encodeURIComponent(pageName)+(oldid===undefined?'':'/'+oldid),type:'POST',data:{title:pageName,oldid:oldid,wikitext:wikitext,stash:'true'},headers:{Accept:'text/html; charset=utf-8; profile="mediawiki.org/specs/html/1.2.0"'},
dataType:'text'});}else{if(conf.fullRestbaseUrl){pageHtmlUrl=conf.fullRestbaseUrl+'v1/page/html/';}else{pageHtmlUrl=conf.restbaseUrl;}restbaseXhr=$.ajax({url:pageHtmlUrl+encodeURIComponent(pageName)+(oldid===undefined?'':'/'+oldid)+'?redirect=false',type:'GET',headers:{Accept:'text/html; charset=utf-8; profile="mediawiki.org/specs/html/1.2.0"'},dataType:'text'});}restbasePromise=restbaseXhr.then(function(data,status,jqxhr){ve.track('trace.restbaseLoad.exit');ve.track('mwtiming.performance.system.restbaseLoad',{bytes:$.byteLength(jqxhr.responseText),duration:ve.now()-start,targetName:targetName});return[data,jqxhr.getResponseHeader('etag')];},function(response){if(response.status===404){return $.Deferred().resolve(['',undefined]).promise();}else{if(response.status){window.alert(mw.msg('visualeditor-loaderror-message','HTTP '+response.status));}else{window.alert(mw.msg('visualeditor-loaderror-message',mw.msg('visualeditor-loaderror-message-noconnect')));}mw.log.warn(
'RESTBase load failed: '+response.statusText);}});dataPromise=$.when(apiPromise,restbasePromise).then(function(apiData,restbaseData){if(apiData.visualeditor){apiData.visualeditor.content=restbaseData[0];apiData.visualeditor.etag=restbaseData[1];apiData.visualeditor.switched=switched;apiData.visualeditor.fromEditedState=fromEditedState;}return apiData;}).promise({abort:function(){apiXhr.abort();restbaseXhr.abort();}});}else{dataPromise=apiPromise.promise({abort:apiXhr.abort});}return dataPromise;},requestWikitext:function(pageName,oldid){var data={action:'visualeditor',paction:'wikitext',page:pageName,uselang:mw.config.get('wgUserLanguage')};if(oldid!==undefined){data.oldid=oldid;}return new mw.Api().get(data);}};}());},{},{"visualeditor-loaderror-message":"Error loading data from server: $1.","visualeditor-loaderror-message-noconnect":"Could not connect to the server.","visualeditor-loaderror-title":"The editor could not load"});mw.loader.implement("jquery.checkboxShiftClick@0cm2dg6",function($,jQuery,require,module){(function($){$.fn.checkboxShiftClick=function(){var prevCheckbox=null,$box=this;$box.click(function(e){if(prevCheckbox!==null&&e.shiftKey){$box.slice(Math.min($box.index(prevCheckbox),$box.index(e.target)),Math.max($box.index(prevCheckbox),$box.index(e.target))+1).filter(function(){return!this.disabled;}).prop('checked',!!e.target.checked);}prevCheckbox=e.target;});return $box;};}(jQuery));});mw.loader.implement("jquery.getAttrs@14j7lll",function($,jQuery,require,module){function serializeControls(controls){var i,data={},len=controls.length;for(i=0;i<len;i++){data[controls[i].name]=controls[i].value;}return data;}jQuery.fn.getAttrs=function(){return serializeControls(this[0].attributes);};jQuery.fn.serializeObject=function(){return serializeControls(this.serializeArray());};;});mw.loader.implement("jquery.highlightText@199y93m",function($,jQuery,require,module){(function($,mw){$.highlightText={splitAndHighlight:function(node,pat){var i,patArray=pat.split(' ');for(i=0;i<patArray.length;i++){if(patArray[i].length===0){continue;}$.highlightText.innerHighlight(node,patArray[i]);}return node;},innerHighlight:function(node,pat){var i,match,pos,spannode,middlebit,middleclone;if(node.nodeType===Node.TEXT_NODE){match=node.data.match(new RegExp('(^|\\s)'+mw.RegExp.escape(pat),'i'));if(match){pos=match.index+match[1].length;spannode=document.createElement('span');spannode.className='highlight';middlebit=node.splitText(pos);middlebit.splitText(pat.length);middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);}}else if(node.nodeType===Node.ELEMENT_NODE&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.tagName.toLowerCase()==='span'&&node.className.match(/\bhighlight/))){for(i=0;i<node.
childNodes.length;++i){$.highlightText.innerHighlight(node.childNodes[i],pat);}}}};$.fn.highlightText=function(matchString){return this.each(function(){var $el=$(this);$el.data('highlightText',{originalText:$el.text()});$.highlightText.splitAndHighlight(this,matchString);});};}(jQuery,mediaWiki));});mw.loader.implement("jquery.makeCollapsible@1rj5p4h",function($,jQuery,require,module){(function($,mw){function toggleElement($collapsible,action,$defaultToggle,options){var $collapsibleContent,$containers,hookCallback;options=options||{};if(!$collapsible.jquery){return;}if(action!=='expand'&&action!=='collapse'){return;}if($defaultToggle===undefined){$defaultToggle=null;}if($defaultToggle!==null&&!$defaultToggle.jquery){return;}$collapsible.trigger(action==='expand'?'beforeExpand.mw-collapsible':'beforeCollapse.mw-collapsible');hookCallback=function(){$collapsible.trigger(action==='expand'?'afterExpand.mw-collapsible':'afterCollapse.mw-collapsible');};if(!options.plainMode&&$collapsible.is('table')){if($collapsible.find('> caption').length){$containers=$collapsible.find('> * > tr');}else{$containers=$collapsible.find('> tbody > tr');}if($defaultToggle){$containers=$containers.not($defaultToggle.closest('tr'));}if(action==='collapse'){if(options.instantHide){$containers.hide();
hookCallback();}else{$containers.stop(true,true).fadeOut().promise().done(hookCallback);}}else{$containers.stop(true,true).fadeIn().promise().done(hookCallback);}}else if(!options.plainMode&&($collapsible.is('ul')||$collapsible.is('ol'))){$containers=$collapsible.find('> li');if($defaultToggle){$containers=$containers.not($defaultToggle.parent());}if(action==='collapse'){if(options.instantHide){$containers.hide();hookCallback();}else{$containers.stop(true,true).slideUp().promise().done(hookCallback);}}else{$containers.stop(true,true).slideDown().promise().done(hookCallback);}}else{$collapsibleContent=$collapsible.find('> .mw-collapsible-content');if(!options.plainMode&&$collapsibleContent.length){if(action==='collapse'){if(options.instantHide){$collapsibleContent.hide();hookCallback();}else{$collapsibleContent.slideUp().promise().done(hookCallback);}}else{$collapsibleContent.slideDown().promise().done(hookCallback);}}else{if(action==='collapse'){if(options.instantHide){$collapsible.
hide();hookCallback();}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeOut().promise().done(hookCallback);}else{$collapsible.slideUp().promise().done(hookCallback);}}}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeIn().promise().done(hookCallback);}else{$collapsible.slideDown().promise().done(hookCallback);}}}}}function togglingHandler($toggle,$collapsible,e,options){var wasCollapsed,$textContainer,collapseText,expandText;options=options||{};if(e){if(e.type==='click'&&options.linksPassthru&&$.nodeName(e.target,'a')&&$(e.target).attr('href')&&$(e.target).attr('href')!=='#'){return;}else if(e.type==='keypress'&&e.which!==13&&e.which!==32){return;}else{e.preventDefault();e.stopPropagation();}}if(options.wasCollapsed!==undefined){wasCollapsed=options.wasCollapsed;}else{wasCollapsed=$collapsible.hasClass('mw-collapsed');}$collapsible.toggleClass('mw-collapsed',!wasCollapsed);if(options.toggleClasses
){$toggle.toggleClass('mw-collapsible-toggle-collapsed',!wasCollapsed).toggleClass('mw-collapsible-toggle-expanded',wasCollapsed);}if(options.toggleText){collapseText=options.toggleText.collapseText;expandText=options.toggleText.expandText;$textContainer=$toggle.find('> a');if(!$textContainer.length){$textContainer=$toggle;}$textContainer.text(wasCollapsed?collapseText:expandText);}toggleElement($collapsible,wasCollapsed?'expand':'collapse',$toggle,options);}$.fn.makeCollapsible=function(options){options=options||{};this.each(function(){var $collapsible,collapseText,expandText,$caption,$toggle,actionHandler,buildDefaultToggleLink,premadeToggleHandler,$toggleLink,$firstItem,collapsibleId,$customTogglers,firstval;$collapsible=$(this).addClass('mw-collapsible');if($collapsible.data('mw-made-collapsible')){return;}else{$collapsible.data('mw-made-collapsible',true);}collapseText=options.collapseText||$collapsible.attr('data-collapsetext')||mw.msg('collapsible-collapse');expandText=options.
expandText||$collapsible.attr('data-expandtext')||mw.msg('collapsible-expand');actionHandler=function(e,opts){var defaultOpts={toggleClasses:!0,toggleText:{collapseText:collapseText,expandText:expandText}};opts=$.extend(defaultOpts,options,opts);togglingHandler($(this),$collapsible,e,opts);};buildDefaultToggleLink=function(){return $('<a>').attr({role:'button',tabindex:0}).text(collapseText).wrap('<span class="mw-collapsible-toggle"></span>').parent().prepend('<span class="mw-collapsible-bracket">[</span>').append('<span class="mw-collapsible-bracket">]</span>').on('click.mw-collapsible keypress.mw-collapsible',actionHandler);};premadeToggleHandler=function(e,opts){var defaultOpts={toggleClasses:!0,linksPassthru:!0};opts=$.extend(defaultOpts,options,opts);togglingHandler($(this),$collapsible,e,opts);};if(options.$customTogglers){$customTogglers=$(options.$customTogglers);}else{collapsibleId=$collapsible.attr('id')||'';if(collapsibleId.indexOf('mw-customcollapsible-')===0){
$customTogglers=$('.'+collapsibleId.replace('mw-customcollapsible','mw-customtoggle')).addClass('mw-customtoggle');}}if($customTogglers&&$customTogglers.length){actionHandler=function(e,opts){var defaultOpts={};opts=$.extend(defaultOpts,options,opts);togglingHandler($(this),$collapsible,e,opts);};$toggleLink=$customTogglers.on('click.mw-collapsible keypress.mw-collapsible',actionHandler).prop('tabIndex',0);}else{if($collapsible.is('table')){$caption=$collapsible.find('> caption');if($caption.length){$toggle=$caption.find('> .mw-collapsible-toggle');if(!$toggle.length){$toggleLink=buildDefaultToggleLink().appendTo($caption);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler).prop('tabIndex',0);}}else{$firstItem=$collapsible.find('tr:first th, tr:first td');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){$toggleLink=buildDefaultToggleLink().prependTo($firstItem.eq(-1));}else{actionHandler=
premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler).prop('tabIndex',0);}}}else if($collapsible.parent().is('li')&&$collapsible.parent().children('.mw-collapsible').length===1&&$collapsible.find('> .mw-collapsible-toggle').length===0){$toggleLink=buildDefaultToggleLink();$collapsible.before($toggleLink);}else if($collapsible.is('ul')||$collapsible.is('ol')){$firstItem=$collapsible.find('li:first');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){firstval=$firstItem.prop('value');if(firstval===undefined||!firstval||firstval==='-1'||firstval===-1){$firstItem.prop('value','1');}$toggleLink=buildDefaultToggleLink();$toggleLink.wrap('<li class="mw-collapsible-toggle-li"></li>').parent().prependTo($collapsible);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler).prop('tabIndex',0);}}else{$toggle=$collapsible.find('> .mw-collapsible-toggle');if(
!$collapsible.find('> .mw-collapsible-content').length){$collapsible.wrapInner('<div class="mw-collapsible-content"></div>');}if(!$toggle.length){$toggleLink=buildDefaultToggleLink().prependTo($collapsible);}else{actionHandler=premadeToggleHandler;$toggleLink=$toggle.on('click.mw-collapsible keypress.mw-collapsible',actionHandler).prop('tabIndex',0);}}}$(this).data('mw-collapsible',{collapse:function(){actionHandler.call($toggleLink.get(0),null,{instantHide:!0,wasCollapsed:!1});},expand:function(){actionHandler.call($toggleLink.get(0),null,{instantHide:!0,wasCollapsed:!0});},toggle:function(){actionHandler.call($toggleLink.get(0),null,null);}});if(options.collapsed||$collapsible.hasClass('mw-collapsed')){actionHandler.call($toggleLink.get(0),null,{instantHide:!0,wasCollapsed:!1});}});mw.hook('wikipage.collapsibleContent').fire(this);return this;};}(jQuery,mediaWiki));},{"css":[
".mw-collapsible-toggle{float:right;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}  .mw-content-ltr .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr .mw-collapsible-toggle{float:right} .mw-content-rtl .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl .mw-collapsible-toggle{float:left}.mw-customtoggle,.mw-collapsible-toggle{cursor:pointer} caption .mw-collapsible-toggle,.mw-content-ltr caption .mw-collapsible-toggle,.mw-content-rtl caption .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr caption .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl caption .mw-collapsible-toggle{float:none} li .mw-collapsible-toggle,.mw-content-ltr li .mw-collapsible-toggle,.mw-content-rtl li .mw-collapsible-toggle,.mw-content-rtl .mw-content-ltr li .mw-collapsible-toggle,.mw-content-ltr .mw-content-rtl li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}"]},{"collapsible-collapse":"hide","collapsible-expand":"show"});mw.loader.implement("jquery.mw-jump@1km9zqz",function($,jQuery,require,module){jQuery(function($){$('.mw-jump').on('focus blur','a',function(e){if(e.type==='blur'||e.type==='focusout'){$(this).closest('.mw-jump').css({height:0});}else{$(this).closest('.mw-jump').css({height:'auto'});}});});});mw.loader.implement("jquery.placeholder@1e4j57c",function($,jQuery,require,module){(function($){var isInputSupported='placeholder'in document.createElement('input'),isTextareaSupported='placeholder'in document.createElement('textarea'),prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks,hooks,placeholder;function safeActiveElement(){try{return document.activeElement;}catch(err){}}function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){if(attr.specified&&!rinlinejQuery.test(attr.name)){newAttrs[attr.name]=attr.value;}});return newAttrs;}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value===$input.attr('placeholder')&&$input.hasClass('placeholder')){if($input.data('placeholder-password')){$input=$input.hide().next().show().attr('id',$input.removeAttr('id').data('placeholder-id'));if(event===true){$input[0].value=value;return value;}$input.focus();}else{input.value='';$input.removeClass('placeholder');if
(input===safeActiveElement()){input.select();}}}}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(!input.value){if(input.type==='password'){if(!$input.data('placeholder-textinput')){try{$replacement=$input.clone().attr({type:'text'});}catch(e){$replacement=$('<input>').attr($.extend(args(this),{type:'text'}));}$replacement.removeAttr('name').data({'placeholder-password':$input,'placeholder-id':id}).bind('focus.placeholder drop.placeholder',clearPlaceholder);$input.data({'placeholder-textinput':$replacement,'placeholder-id':id}).before($replacement);}$input=$input.removeAttr('id').hide().prev().attr('id',id).show();}$input.addClass('placeholder');$input[0].value=$input.attr('placeholder');}else{$input.removeClass('placeholder');}}function changePlaceholder(text){var hasArgs=arguments.length,$input=this;if(hasArgs){if($input.attr('placeholder')!==text){$input.prop('placeholder',text);if($input.hasClass('placeholder')){$input[0].value=text;}}}}if(
isInputSupported&&isTextareaSupported){placeholder=prototype.placeholder=function(text){var hasArgs=arguments.length;if(hasArgs){changePlaceholder.call(this,text);}return this;};placeholder.input=placeholder.textarea=!0;}else{placeholder=prototype.placeholder=function(text){var $this=this,hasArgs=arguments.length;if(hasArgs){changePlaceholder.call(this,text);}$this.filter((isInputSupported?'textarea':':input')+'[placeholder]').filter(function(){return!$(this).data('placeholder-enabled');}).bind({'focus.placeholder drop.placeholder':clearPlaceholder,'blur.placeholder':setPlaceholder}).data('placeholder-enabled',true).trigger('blur.placeholder');return $this;};placeholder.input=isInputSupported;placeholder.textarea=isTextareaSupported;hooks={get:function(element){var $element=$(element),$passwordInput=$element.data('placeholder-password');if($passwordInput){return $passwordInput[0].value;}return $element.data('placeholder-enabled')&&$element.hasClass('placeholder')?'':element.value;},
set:function(element,value){var $element=$(element),$passwordInput=$element.data('placeholder-password');if($passwordInput){$passwordInput[0].value=value;return value;}if(!$element.data('placeholder-enabled')){element.value=value;return value;}if(!value){element.value=value;if(element!==safeActiveElement()){setPlaceholder.call(element);}}else if($element.hasClass('placeholder')){if(!clearPlaceholder.call(element,true,value)){element.value=value;}}else{element.value=value;}return $element;}};if(!isInputSupported){valHooks.input=hooks;propHooks.value=hooks;}if(!isTextareaSupported){valHooks.textarea=hooks;propHooks.value=hooks;}$(function(){$(document).delegate('form','submit.placeholder',function(){var $inputs=$('.placeholder',this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder);},10);});});$(window).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value='';});});}}(jQuery));});mw.loader.implement("jquery.suggestions@0ec91it",function($,jQuery,require,module){(function($){var hasOwn=Object.hasOwnProperty;$.suggestions={cancel:function(context){if(context.data.timerID!==null){clearTimeout(context.data.timerID);}if($.isFunction(context.config.cancel)){context.config.cancel.call(context.data.$textbox);}},hide:function(context){context.data.$container.find('.suggestions-result-current').removeClass('suggestions-result-current');context.data.$container.hide();},restore:function(context){context.data.$textbox.val(context.data.prevText);},update:function(context,delayed){function maybeFetch(){var val=context.data.$textbox.val(),cache=context.data.cache,cacheHit;if(typeof context.config.update.before==='function'){context.config.update.before.call(context.data.$textbox);}if(val.length===0){$.suggestions.hide(context);context.data.prevText='';}else if(val!==context.data.prevText||!context.data.$container.is(':visible')){context.data.prevText=val;if(context.config.
cache&&hasOwn.call(cache,val)){if(+new Date()-cache[val].timestamp<context.config.cacheMaxAge){context.data.$textbox.suggestions('suggestions',cache[val].suggestions);if(typeof context.config.update.after==='function'){context.config.update.after.call(context.data.$textbox,cache[val].metadata);}cacheHit=!0;}else{delete cache[val];}}if(!cacheHit&&typeof context.config.fetch==='function'){context.config.fetch.call(context.data.$textbox,val,function(suggestions,metadata){suggestions=suggestions.slice(0,context.config.maxRows);context.data.$textbox.suggestions('suggestions',suggestions);if(typeof context.config.update.after==='function'){context.config.update.after.call(context.data.$textbox,metadata);}if(context.config.cache){cache[val]={suggestions:suggestions,metadata:metadata,timestamp:+new Date()};}},context.config.maxRows);}}$.suggestions.special(context);}$.suggestions.cancel(context);if(delayed){context.data.timerID=setTimeout(maybeFetch,context.config.delay);}else{maybeFetch();}
},special:function(context){if(typeof context.config.special.render==='function'){setTimeout(function(){var $special=context.data.$container.find('.suggestions-special');context.config.special.render.call($special,context.data.$textbox.val(),context);},1);}},configure:function(context,property,value){var newCSS,$result,$results,$spanForWidth,childrenWidth,i,expWidth,maxWidth,text;switch(property){case'fetch':case'cancel':case'special':case'result':case'update':case'$region':case'expandFrom':context.config[property]=value;break;case'suggestions':context.config[property]=value;if(context.data!==undefined){if(context.data.$textbox.val().length===0){$.suggestions.hide(context);}else{context.data.$container.show();newCSS={top:context.config.$region.offset().top+context.config.$region.outerHeight(),bottom:'auto',width:context.config.$region.outerWidth(),height:'auto'};context.config.expandFrom=(function(expandFrom){var regionWidth,docWidth,regionCenter,docCenter,docDir=$(document.
documentElement).css('direction'),$region=context.config.$region;if(context.config.positionFromLeft){expandFrom='left';}else if($.inArray(expandFrom,['left','right','start','end','auto'])===-1){expandFrom='auto';}if(expandFrom==='auto'){if($region.data('searchsuggest-expand-dir')){expandFrom=$region.data('searchsuggest-expand-dir');}else{regionWidth=$region.outerWidth();docWidth=$(document).width();if(regionWidth>(0.85*docWidth)){expandFrom='start';}else{regionCenter=$region.offset().left+regionWidth/2;docCenter=docWidth/2;if(Math.abs(regionCenter-docCenter)<(0.10*docCenter)){expandFrom='start';}else{expandFrom=regionCenter>docCenter?'right':'left';}}}}if(expandFrom==='start'){expandFrom=docDir==='rtl'?'right':'left';}else if(expandFrom==='end'){expandFrom=docDir==='rtl'?'left':'right';}return expandFrom;}(context.config.expandFrom));if(context.config.expandFrom==='left'){newCSS.left=context.config.$region.offset().left;newCSS.right='auto';}else{newCSS.left='auto';newCSS.right=$('body'
).width()-(context.config.$region.offset().left+context.config.$region.outerWidth());}context.data.$container.css(newCSS);$results=context.data.$container.children('.suggestions-results');$results.empty();expWidth=-1;for(i=0;i<context.config.suggestions.length;i++){text=context.config.suggestions[i];$result=$('<div>').addClass('suggestions-result').attr('rel',i).data('text',context.config.suggestions[i]).mousemove(function(){context.data.selectedWithMouse=!0;$.suggestions.highlight(context,$(this).closest('.suggestions-results .suggestions-result'),false);}).appendTo($results);if(typeof context.config.result.render==='function'){context.config.result.render.call($result,context.config.suggestions[i],context);}else{$result.text(text);}if(context.config.highlightInput){$result.highlightText(context.data.prevText);}$spanForWidth=$result.wrapInner('<span>').children();childrenWidth=$spanForWidth.css('position','absolute').outerWidth();$spanForWidth.contents().unwrap();if(childrenWidth>
$result.width()&&childrenWidth>expWidth){expWidth=childrenWidth+(context.data.$container.width()-$result.width());}}if(expWidth>context.data.$container.width()){maxWidth=context.config.maxExpandFactor*context.data.$textbox.width();context.data.$container.width(Math.min(expWidth,maxWidth));}}}break;case'maxRows':context.config[property]=Math.max(1,Math.min(100,value));break;case'delay':context.config[property]=Math.max(0,Math.min(1200,value));break;case'cacheMaxAge':context.config[property]=Math.max(1,value);break;case'maxExpandFactor':context.config[property]=Math.max(1,value);break;case'cache':case'submitOnClick':case'positionFromLeft':case'highlightInput':context.config[property]=!!value;break;}},highlight:function(context,result,updateTextbox){var selected=context.data.$container.find('.suggestions-result-current');if(!result.get||selected.get(0)!==result.get(0)){if(result==='prev'){if(selected.hasClass('suggestions-special')){result=context.data.$container.find(
'.suggestions-result:last');}else{result=selected.prev();if(!(result.length&&result.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').prev().find('.suggestions-result').eq(0);}if(selected.length===0){if(context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}else{result=context.data.$container.find('.suggestions-results .suggestions-result:last');}}}}else if(result==='next'){if(selected.length===0){result=context.data.$container.find('.suggestions-results .suggestions-result:first');if(result.length===0&&context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}}else{result=selected.next();if(!(result.length&&result.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').next().find('.suggestions-result').eq(0);}if(selected.hasClass('suggestions-special')){result=$([]);}else if(result.
length===0&&context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}}}selected.removeClass('suggestions-result-current');result.addClass('suggestions-result-current');}if(updateTextbox){if(result.length===0||result.is('.suggestions-special')){$.suggestions.restore(context);}else{context.data.$textbox.val(result.data('text'));context.data.$textbox.change();}context.data.$textbox.trigger('change');}},keypress:function(e,context,key){var selected,wasVisible=context.data.$container.is(':visible'),preventDefault=!1;switch(key){case 40:if(wasVisible){$.suggestions.highlight(context,'next',true);context.data.selectedWithMouse=!1;}else{$.suggestions.update(context,false);}preventDefault=!0;break;case 38:if(wasVisible){$.suggestions.highlight(context,'prev',true);context.data.selectedWithMouse=!1;}preventDefault=wasVisible;break;case 27:$.suggestions.hide(context);$.suggestions.restore(context);$.suggestions.
cancel(context);context.data.$textbox.trigger('change');preventDefault=wasVisible;break;case 13:preventDefault=wasVisible;selected=context.data.$container.find('.suggestions-result-current');$.suggestions.hide(context);if(selected.length===0||context.data.selectedWithMouse){$.suggestions.cancel(context);preventDefault=!1;}else if(selected.is('.suggestions-special')){if(typeof context.config.special.select==='function'){if(context.config.special.select.call(selected,context.data.$textbox,'keyboard')===true){preventDefault=!1;}}}else{if(typeof context.config.result.select==='function'){if(context.config.result.select.call(selected,context.data.$textbox,'keyboard')===true){preventDefault=!1;}}}break;default:$.suggestions.update(context,true);break;}if(preventDefault){e.preventDefault();e.stopPropagation();}}};$.fn.suggestions=function(){var returnValue,args=arguments;$(this).each(function(){var context,key;context=$(this).data('suggestions-context');if(context===undefined||
context===null){context={config:{fetch:function(){},cancel:function(){},special:{},result:{},update:{},$region:$(this),suggestions:[],maxRows:10,delay:120,cache:!1,cacheMaxAge:60000,submitOnClick:!1,maxExpandFactor:3,expandFrom:'auto',highlightInput:!1}};}if(args.length>0){if(typeof args[0]==='object'){for(key in args[0]){$.suggestions.configure(context,key,args[0][key]);}}else if(typeof args[0]==='string'){if(args.length>1){$.suggestions.configure(context,args[0],args[1]);}else if(returnValue===null||returnValue===undefined){returnValue=(args[0]in context.config?undefined:context.config[args[0]]);}}}if(context.data===undefined){context.data={timerID:null,prevText:null,cache:{},visibleResults:0,mouseDownOn:$([]),$textbox:$(this),selectedWithMouse:!1};context.data.$container=$('<div>').css('display','none').addClass('suggestions').append($('<div>').addClass('suggestions-results').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest(
'.suggestions-results .suggestions-result');}).mouseup(function(e){var $result=$(e.target).closest('.suggestions-results .suggestions-result'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($result.get(0)!==$other.get(0)){return;}$.suggestions.highlight(context,$result,true);if(typeof context.config.result.select==='function'){context.config.result.select.call($result,context.data.$textbox,'mouse');}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){setTimeout(function(){$.suggestions.hide(context);},0);}context.data.$textbox.focus();})).append($('<div>').addClass('suggestions-special').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest('.suggestions-special');}).mouseup(function(e){var $special=$(e.target).closest('.suggestions-special'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($special.get(0)!==$other.get(0)){return;}if(typeof context.config.special.select==='function'){context.config.special.select.call($special
,context.data.$textbox,'mouse');}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){setTimeout(function(){$.suggestions.hide(context);},0);}context.data.$textbox.focus();}).mousemove(function(e){context.data.selectedWithMouse=!0;$.suggestions.highlight(context,$(e.target).closest('.suggestions-special'),false);})).appendTo($('body'));$(this).attr('autocomplete','off').keydown(function(e){context.data.keypressed=e.which;context.data.keypressedCount=0;}).keypress(function(e){context.data.keypressedCount++;$.suggestions.keypress(e,context,context.data.keypressed);}).keyup(function(e){var allowed=[40,38,27,13,46,8];if(context.data.keypressedCount===0&&e.which===context.data.keypressed&&$.inArray(e.which,allowed)!==-1){$.suggestions.keypress(e,context,context.data.keypressed);}}).blur(function(){if(context.data.mouseDownOn.length>0){return;}$.suggestions.hide(context);$.suggestions.cancel(context);});}$(this).data('suggestions-context',context);});return returnValue!==
undefined?returnValue:$(this);};}(jQuery));},{"css":[
".suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:#fff;cursor:pointer;border:solid 1px #aaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:#fff;cursor:pointer;border:solid 1px #aaa;padding:0;margin:0}.suggestions-result{color:#000;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left; overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}.suggestions-result-current{background-color:#4c59a6;color:#fff}.suggestions-special .special-label{color:#808080;text-align:left}.suggestions-special .special-query{color:#000;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:#c0c0c0}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:#fff}.highlight{font-weight:bold}"]});mw.loader.implement("mediawiki.page.ready@0f2b23o",function($,jQuery,require,module){(function(mw,$){var supportsPlaceholder='placeholder'in document.createElement('input');if(mw.config.get('wgBreakFrames')){if(window.top!==window.self){window.top.location.href=location.href;}}mw.hook('wikipage.content').add(function($content){var $sortableTables;if(!supportsPlaceholder){$content.find('input[placeholder]').placeholder();}$content.find('.mw-collapsible').makeCollapsible();$sortableTables=$content.find('table.sortable');if($sortableTables.length){mw.loader.using('jquery.tablesorter',function(){$sortableTables.tablesorter();});}$content.find('input[type="checkbox"]:not(.noshiftselect)').checkboxShiftClick();});$(function(){var $nodes;if(!supportsPlaceholder){$('input[placeholder]').not('#mw-content-text input').placeholder();}$('[accesskey]').updateTooltipAccessKeys();$nodes=$('.catlinks[data-mw="interface"]');if($nodes.length){mw.hook('wikipage.categories').fire($nodes);}});}(mediaWiki,
jQuery));});mw.loader.implement("mediawiki.searchSuggest@1mcaj3j",function($,jQuery,require,module){(function(mw,$){mw.searchSuggest={request:function(api,query,response,maxRows){return api.get({formatversion:2,action:'opensearch',search:query,namespace:0,limit:maxRows,suggest:!0}).done(function(data,jqXHR){response(data[1],{type:jqXHR.getResponseHeader('X-OpenSearch-Type'),query:query});});}};$(function(){var api,map,searchboxesSelectors,$searchRegion=$('#simpleSearch, #searchInput').first(),$searchInput=$('#searchInput'),previousSearchText=$searchInput.val();map={opera:[['>=',9.6]],konqueror:[['>=','4.11']],docomo:!1,blackberry:!1,ipod:[['>=',6]],iphone:[['>=',6]]};if(!$.client.test(map)){return;}function getFormData(context){var $form,baseHref,linkParams;if(!context.formData){$form=context.config.$region.closest('form');baseHref=$form.attr('action');baseHref+=baseHref.indexOf('?')>-1?'&':'?';linkParams=$form.serializeObject();context.formData={textParam:context.data.$textbox.attr('name'
),linkParams:linkParams,baseHref:baseHref};}return context.formData;}function onBeforeUpdate(){var searchText=this.val();if(searchText&&searchText!==previousSearchText){mw.track('mediawiki.searchSuggest',{action:'session-start'});}previousSearchText=searchText;}function getInputLocation(context){return context.config.$region.closest('form').find('[data-search-loc]').data('search-loc')||'header';}function onAfterUpdate(metadata){var context=this.data('suggestionsContext');mw.track('mediawiki.searchSuggest',{action:'impression-results',numberOfResults:context.config.suggestions.length,resultSetType:metadata.type||'unknown',query:metadata.query,inputLocation:getInputLocation(context)});}function renderFunction(text,context){var formData=getFormData(context),textboxConfig=context.data.$textbox.data('mw-searchsuggest')||{};formData.linkParams[formData.textParam]=text;mw.track('mediawiki.searchSuggest',{action:'render-one',formData:formData,index:context.config.suggestions.indexOf(text)});
this.text(text);if(textboxConfig.wrapAsLink!==false){this.wrap($('<a>').attr('href',formData.baseHref+$.param(formData.linkParams)).attr('title',text).addClass('mw-searchSuggest-link'));}}function selectFunction($input,source){var context=$input.data('suggestionsContext'),text=$input.val();if(source!=='keyboard'){mw.track('mediawiki.searchSuggest',{action:'click-result',numberOfResults:context.config.suggestions.length,index:context.config.suggestions.indexOf(text)});}return true;}function specialRenderFunction(query,context){var $el=this,formData=getFormData(context);formData.linkParams[formData.textParam]=query;mw.track('mediawiki.searchSuggest',{action:'render-one',formData:formData,index:context.config.suggestions.indexOf(query)});if($el.children().length===0){$el.append($('<div>').addClass('special-label').text(mw.msg('searchsuggest-containing')),$('<div>').addClass('special-query').text(query)).show();}else{$el.find('.special-query').text(query);}if($el.parent().hasClass(
'mw-searchSuggest-link')){$el.parent().attr('href',formData.baseHref+$.param(formData.linkParams)+'&fulltext=1');}else{$el.wrap($('<a>').attr('href',formData.baseHref+$.param(formData.linkParams)+'&fulltext=1').addClass('mw-searchSuggest-link'));}}searchboxesSelectors=['#searchInput','.mw-searchInput'];$(searchboxesSelectors.join(', ')).suggestions({fetch:function(query,response,maxRows){var node=this[0];api=api||new mw.Api();$.data(node,'request',mw.searchSuggest.request(api,query,response,maxRows));},cancel:function(){var node=this[0],request=$.data(node,'request');if(request){request.abort();$.removeData(node,'request');}},result:{render:renderFunction,select:function(){return true;}},update:{before:onBeforeUpdate,after:onAfterUpdate},cache:!0,highlightInput:!0}).bind('paste cut drop',function(){$(this).trigger('keypress');}).each(function(){var $this=$(this);$this.data('suggestions-context').data.$container.css('fontSize',$this.css('fontSize'));});if($searchRegion.length===0){
return;}$searchInput.suggestions({update:{before:onBeforeUpdate,after:onAfterUpdate},result:{render:renderFunction,select:selectFunction},special:{render:specialRenderFunction,select:function($input,source){var context=$input.data('suggestionsContext'),text=$input.val();if(source==='mouse'){mw.track('mediawiki.searchSuggest',{action:'click-result',numberOfResults:context.config.suggestions.length,index:context.config.suggestions.indexOf(text)});}else{$input.closest('form').append($('<input type="hidden" name="fulltext" value="1"/>'));}return true;}},$region:$searchRegion});$searchInput.closest('form').on('submit',function(){var context=$searchInput.data('suggestionsContext');mw.track('mediawiki.searchSuggest',{action:'submit-form',numberOfResults:context.config.suggestions.length,$form:context.config.$region.closest('form'),inputLocation:getInputLocation(context),index:context.config.suggestions.indexOf(context.data.$textbox.val())});}).find('.mw-fallbackSearchButton').remove();});}(
mediaWiki,jQuery));},{"css":[".suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{color:#000;text-decoration:none}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:#fff}.suggestions a.mw-searchSuggest-link .special-query{ overflow:hidden;-o-text-overflow:ellipsis; text-overflow:ellipsis;white-space:nowrap}"]},{"searchsuggest-containing":"containing...","searchsuggest-search":"Search"});mw.loader.implement("mediawiki.toc@0z5itej",function($,jQuery,require,module){(function(mw,$){'use strict';mw.hook('wikipage.content').add(function($content){var $toc,$tocTitle,$tocToggleLink,$tocList,hideToc;$toc=$content.find('#toc');$tocTitle=$content.find('#toctitle');$tocToggleLink=$content.find('#togglelink');$tocList=$toc.find('ul').eq(0);function toggleToc(){if($tocList.is(':hidden')){$tocList.slideDown('fast');$tocToggleLink.text(mw.msg('hidetoc'));$toc.removeClass('tochidden');mw.cookie.set('hidetoc',null);}else{$tocList.slideUp('fast');$tocToggleLink.text(mw.msg('showtoc'));$toc.addClass('tochidden');mw.cookie.set('hidetoc','1');}}if($toc.length&&$tocTitle.length&&$tocList.length&&!$tocToggleLink.length){hideToc=mw.cookie.get('hidetoc')==='1';$tocToggleLink=$('<a role="button" tabindex="0" id="togglelink"></a>').text(mw.msg(hideToc?'showtoc':'hidetoc')).on('click keypress',function(e){if(e.type==='click'||e.type==='keypress'&&e.which===13){toggleToc();}});$tocTitle.append(
$tocToggleLink.wrap('<span class="toctoggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;'));if(hideToc){$tocList.hide();$toc.addClass('tochidden');}}});}(mediaWiki,jQuery));},{"css":["@media screen {\n\t.tochidden,.toctoggle{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.toctoggle{font-size:94%}}","@media print {\n\t#toc.tochidden,.toctoggle{display:none}}"]},{"hidetoc":"hide","showtoc":"show"});mw.loader.implement("mediawiki.ui.button@1ebvwyo",function($,jQuery,require,module){},{"css":[
".mw-ui-button{font-family:inherit;font-size:1em;display:inline-block;min-width:4em;max-width:28.75em;padding:.5em 1em;margin:0;border-radius:2px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;*display:inline;zoom:1;vertical-align:middle;background-color:#f8f9fa;color:#222222;border:1px solid #9aa0a7;text-align:center;font-weight:bold;cursor:pointer}.mw-ui-button:visited{color:#222222}.mw-ui-button:hover{background-color:#ffffff;color:#444444;border-color:#a2a9b1}.mw-ui-button:focus{background-color:#ffffff;color:#222222;border-color:#3366cc;box-shadow:inset 0 0 0 1px #3366cc,inset 0 0 0 2px #ffffff}.mw-ui-button:active,.mw-ui-button.is-on,.mw-ui-button.mw-ui-checked{background-color:#d9d9d9;color:#000000;border-color:#72777d;box-shadow:none}.mw-ui-button:disabled{background-color:#c8ccd1;color:#fff;border-color:#c8ccd1}.mw-ui-button:disabled:hover,.mw-ui-button:disabled:active{background-color:#c8ccd1;color:#fff;box-shadow:none;border-color:#c8ccd1}.mw-ui-button:focus{outline-width:0}.mw-ui-button:focus::-moz-focus-inner{border-color:transparent;padding:0}.mw-ui-button:not( :disabled ){-webkit-transition:background-color 100ms,color 100ms,border-color 100ms,box-shadow 100ms;-moz-transition:background-color 100ms,color 100ms,border-color 100ms,box-shadow 100ms;transition:background-color 100ms,color 100ms,border-color 100ms,box-shadow 100ms}.mw-ui-button:disabled{text-shadow:none;cursor:default}.mw-ui-button.mw-ui-big{font-size:1.3em}.mw-ui-button.mw-ui-block{display:block;width:100%;margin-left:auto;margin-right:auto}.mw-ui-button.mw-ui-progressive,.mw-ui-button.mw-ui-constructive,.mw-ui-button.mw-ui-primary{background-color:#3366cc;color:#fff;border:1px solid #3366cc;text-shadow:0 1px rgba(0,0,0,0.1)}.mw-ui-button.mw-ui-progressive:hover,.mw-ui-button.mw-ui-constructive:hover,.mw-ui-button.mw-ui-primary:hover{background-color:#447ff5;border-color:#447ff5}.mw-ui-button.mw-ui-progressive:focus,.mw-ui-button.mw-ui-constructive:focus,.mw-ui-button.mw-ui-primary:focus{box-shadow:inset 0 0 0 1px #3366cc,inset 0 0 0 2px #ffffff}.mw-ui-button.mw-ui-progressive:active,.mw-ui-button.mw-ui-constructive:active,.mw-ui-button.mw-ui-primary:active,.mw-ui-button.mw-ui-progressive.is-on,.mw-ui-button.mw-ui-constructive.is-on,.mw-ui-button.mw-ui-primary.is-on,.mw-ui-button.mw-ui-progressive.mw-ui-checked,.mw-ui-button.mw-ui-constructive.mw-ui-checked,.mw-ui-button.mw-ui-primary.mw-ui-checked{background-color:#2a4b8d;border-color:#2a4b8d;box-shadow:none}.mw-ui-button.mw-ui-progressive:disabled,.mw-ui-button.mw-ui-constructive:disabled,.mw-ui-button.mw-ui-primary:disabled{background-color:#c8ccd1;color:#fff;border-color:#c8ccd1}.mw-ui-button.mw-ui-progressive:disabled:hover,.mw-ui-button.mw-ui-constructive:disabled:hover,.mw-ui-button.mw-ui-primary:disabled:hover,.mw-ui-button.mw-ui-progressive:disabled:active,.mw-ui-button.mw-ui-constructive:disabled:active,.mw-ui-button.mw-ui-primary:disabled:active,.mw-ui-button.mw-ui-progressive:disabled.mw-ui-checked,.mw-ui-button.mw-ui-constructive:disabled.mw-ui-checked,.mw-ui-button.mw-ui-primary:disabled.mw-ui-checked{background-color:#c8ccd1;color:#fff;border-color:#c8ccd1;box-shadow:none}.mw-ui-button.mw-ui-progressive.mw-ui-quiet,.mw-ui-button.mw-ui-constructive.mw-ui-quiet,.mw-ui-button.mw-ui-primary.mw-ui-quiet{color:#222222}.mw-ui-button.mw-ui-progressive.mw-ui-quiet:hover,.mw-ui-button.mw-ui-constructive.mw-ui-quiet:hover,.mw-ui-button.mw-ui-primary.mw-ui-quiet:hover{background-color:transparent;color:#447ff5}.mw-ui-button.mw-ui-progressive.mw-ui-quiet:active,.mw-ui-button.mw-ui-constructive.mw-ui-quiet:active,.mw-ui-button.mw-ui-primary.mw-ui-quiet:active,.mw-ui-button.mw-ui-progressive.mw-ui-quiet.mw-ui-checked,.mw-ui-button.mw-ui-constructive.mw-ui-quiet.mw-ui-checked,.mw-ui-button.mw-ui-primary.mw-ui-quiet.mw-ui-checked{color:#2a4b8d}.mw-ui-button.mw-ui-progressive.mw-ui-quiet:focus,.mw-ui-button.mw-ui-constructive.mw-ui-quiet:focus,.mw-ui-button.mw-ui-primary.mw-ui-quiet:focus{background-color:transparent;color:#3366cc}.mw-ui-button.mw-ui-progressive.mw-ui-quiet:disabled,.mw-ui-button.mw-ui-constructive.mw-ui-quiet:disabled,.mw-ui-button.mw-ui-primary.mw-ui-quiet:disabled{color:#c8ccd1}.mw-ui-button.mw-ui-destructive{background-color:#cc3333;color:#fff;border:1px solid #cc3333;text-shadow:0 1px rgba(0,0,0,0.1)}.mw-ui-button.mw-ui-destructive:hover{background-color:#e53939;border-color:#e53939}.mw-ui-button.mw-ui-destructive:focus{box-shadow:inset 0 0 0 1px #cc3333,inset 0 0 0 2px #ffffff}.mw-ui-button.mw-ui-destructive:active,.mw-ui-button.mw-ui-destructive.is-on,.mw-ui-button.mw-ui-destructive.mw-ui-checked{background-color:#873636;border-color:#873636;box-shadow:none}.mw-ui-button.mw-ui-destructive:disabled{background-color:#c8ccd1;color:#fff;border-color:#c8ccd1}.mw-ui-button.mw-ui-destructive:disabled:hover,.mw-ui-button.mw-ui-destructive:disabled:active,.mw-ui-button.mw-ui-destructive:disabled.mw-ui-checked{background-color:#c8ccd1;color:#fff;border-color:#c8ccd1;box-shadow:none}.mw-ui-button.mw-ui-destructive.mw-ui-quiet{color:#222222}.mw-ui-button.mw-ui-destructive.mw-ui-quiet:hover{background-color:transparent;color:#e53939}.mw-ui-button.mw-ui-destructive.mw-ui-quiet:active,.mw-ui-button.mw-ui-destructive.mw-ui-quiet.mw-ui-checked{color:#873636}.mw-ui-button.mw-ui-destructive.mw-ui-quiet:focus{background-color:transparent;color:#cc3333}.mw-ui-button.mw-ui-destructive.mw-ui-quiet:disabled{color:#c8ccd1}.mw-ui-button.mw-ui-quiet{background:transparent;border:0;text-shadow:none;color:#222222}.mw-ui-button.mw-ui-quiet:hover{background-color:transparent;color:#444444}.mw-ui-button.mw-ui-quiet:active,.mw-ui-button.mw-ui-quiet.mw-ui-checked{color:#000000}.mw-ui-button.mw-ui-quiet:focus{background-color:transparent;color:#222222}.mw-ui-button.mw-ui-quiet:disabled{color:#c8ccd1}.mw-ui-button.mw-ui-quiet:hover,.mw-ui-button.mw-ui-quiet:focus{box-shadow:none}.mw-ui-button.mw-ui-quiet:active,.mw-ui-button.mw-ui-quiet:disabled{background:transparent}a.mw-ui-button{text-decoration:none;line-height:normal}a.mw-ui-button:hover,a.mw-ui-button:focus{text-decoration:none}.mw-ui-button-group \u003E *{min-width:48px;border-radius:0;float:left}.mw-ui-button-group \u003E *:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}.mw-ui-button-group \u003E *:not( :first-child ){border-left:0}.mw-ui-button-group \u003E *:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}.mw-ui-button-group .is-on .button{cursor:default}"
]});mw.loader.implement("mediawiki.ui.icon@0dmiav9",function($,jQuery,require,module){},{"css":[".mw-ui-icon{position:relative;line-height:1.5em;min-height:1.5em;min-width:1.5em}.mw-ui-icon.mw-ui-icon-element{text-indent:-999px;overflow:hidden;width:3.5em;min-width:3.5em;max-width:3.5em}.mw-ui-icon.mw-ui-icon-element:before{left:0;right:0;position:absolute;margin:0 1em}.mw-ui-icon.mw-ui-icon-before:before,.mw-ui-icon.mw-ui-icon-element:before{background-position:50% 50%;background-repeat:no-repeat;background-size:100% auto;float:left;display:block;min-height:1.5em;content:''}.mw-ui-icon.mw-ui-icon-before:before{position:relative;width:1.5em;margin-right:1em}.mw-ui-icon.mw-ui-icon-small:before{background-size:66.67% auto}"]});mw.loader.implement("mmv.bootstrap@09xhd0g",function($,jQuery,require,module){(function(mw,$){var CP;function Config(viewerConfig,mwConfig,mwUser,api,localStorage){this.viewerConfig=viewerConfig;this.mwConfig=mwConfig;this.mwUser=mwUser;this.api=api;this.localStorage=localStorage;}CP=Config.prototype;CP.getFromLocalStorage=function(key,fallback){var value=null;if(this.localStorage){try{value=this.localStorage.getItem(key);}catch(e){mw.log('Failed to fetch item '+key+' from localStorage',e);}}if(value===null&&fallback!==undefined){value=fallback;}return value;};CP.setInLocalStorage=function(key,value){var success=!1;if(this.localStorage){try{this.localStorage.setItem(key,value);success=!0;}catch(e){}}return success;};CP.removeFromLocalStorage=function(key){if(this.localStorage){try{this.localStorage.removeItem(key);return true;}catch(e){return false;}}return true;};CP.setUserPreference=function(key,value){return this.api.postWithToken('options',{action:'options',optionname:key,
optionvalue:value});};CP.isMediaViewerEnabledOnClick=function(){return this.mwConfig.get('wgMediaViewer')&&this.mwConfig.get('wgMediaViewerOnClick')&&(!this.mwUser.isAnon()||this.getFromLocalStorage('wgMediaViewerOnClick',1)===1);};CP.setMediaViewerEnabledOnClick=function(enabled){var deferred,newPrefValue,defaultPrefValue=this.mwConfig.get('wgMediaViewerEnabledByDefault'),config=this,success=!0;if(this.mwUser.isAnon()){if(!enabled){success=this.setInLocalStorage('wgMediaViewerOnClick','0');}else{success=this.removeFromLocalStorage('wgMediaViewerOnClick');}if(success){deferred=$.Deferred().resolve();}else{deferred=$.Deferred().reject();}}else{if(defaultPrefValue===true){newPrefValue=enabled?'1':'';}else{newPrefValue=enabled?'1':undefined;}deferred=this.setUserPreference('multimediaviewer-enable',newPrefValue);}return deferred.done(function(){config.mwConfig.set('wgMediaViewerOnClick',enabled);if(!enabled){config.maybeEnableStatusInfo();}});};CP.canSetMediaViewerEnabledOnClick=
function(){return!this.mwUser.isAnon()||!!this.localStorage;};CP.shouldShowStatusInfo=function(){return!this.isMediaViewerEnabledOnClick()&&this.getFromLocalStorage('mmv-showStatusInfo')==='1';};CP.maybeEnableStatusInfo=function(){var currentShowStatusInfo=this.getFromLocalStorage('mmv-showStatusInfo');if(currentShowStatusInfo===null){this.setInLocalStorage('mmv-showStatusInfo','1');}};CP.disableStatusInfo=function(){this.setInLocalStorage('mmv-showStatusInfo','0');};CP.extensions=function(){return this.viewerConfig.extensions;};CP.language=function(){return this.mwConfig.get('wgUserLanguage',false)||this.mwConfig.get('wgContentLanguage','en');};CP.recordVirtualViewBeaconURI=function(){return this.viewerConfig.recordVirtualViewBeaconURI;};CP.useThumbnailGuessing=function(){return this.viewerConfig.useThumbnailGuessing;};CP.imageQueryParameter=function(){return this.viewerConfig.imageQueryParameter;};mw.mmv.Config=Config;}(mediaWiki,jQuery));(function(mw,$){var HUP,cache;cache={text:{},
textWithLinks:{},textWithTags:{}};function HtmlUtils(){}HUP=HtmlUtils.prototype;HUP.wrapAndJquerify=function(html){if(this.isJQueryOrHTMLElement(html)){return $('<div>').append($(html).clone());}else if(typeof html==='string'){return $('<div>'+html+'</div>');}else{mw.log.warn('wrapAndJquerify: unknown type',html);throw'wrapAndJquerify: unknown type';}};HUP.isJQueryOrHTMLElement=function(html){if(html instanceof jQuery){return true;}if(window.HTMLElement){if(html instanceof HTMLElement){return true;}}return false;};HUP.filterInvisible=function($jq){$jq.find('[style]').filter(function(){return this.style.display==='none';}).remove();};HUP.whitelistHtml=function($el,whitelist){var child,$prev,$child=$el.children().first();while($child&&$child.length){child=$child.get(0);if(child.nodeType!==child.ELEMENT_NODE){return;}this.whitelistHtml($child,whitelist);if(!$child.is(whitelist)){$prev=$child.prev();$child.replaceWith($child.contents());}else{$prev=$child;}if($prev&&$prev.length===1){
$child=$prev.next();}else{$child=$el.children().first();}}};HUP.appendWhitespaceToBlockElements=function($el){$el.find('blockquote, dd, dl, dt, li, td').before(' ').after(' ');$el.find('br, tr, p').before('\n').after('\n');};HUP.jqueryToHtml=function($el){return $('<div>').append($el).html();};HUP.mergeWhitespace=function(html){html=html.replace(/^\s+|\s+$/g,'');html=html.replace(/\s*\n\s*/g,'\n');html=html.replace(/ {2,}/g,' ');return html;};HUP.htmlToText=function(html){var $html;if(!cache.text[html]){$html=this.wrapAndJquerify(html);this.filterInvisible($html);this.appendWhitespaceToBlockElements($html);cache.text[html]=this.mergeWhitespace($html.text());}return cache.text[html];};HUP.htmlToTextWithTags=function(html){var $html;if(!cache.textWithTags[html]){$html=this.wrapAndJquerify(html);this.filterInvisible($html);this.appendWhitespaceToBlockElements($html);this.whitelistHtml($html,'a, span, i, b');cache.textWithTags[html]=this.mergeWhitespace($html.html());}return cache.
textWithTags[html];};HUP.htmlToTextWithLinks=function(html){var $html;if(!cache.textWithLinks[html]){$html=this.wrapAndJquerify(html);this.filterInvisible($html);this.appendWhitespaceToBlockElements($html);this.whitelistHtml($html,'a, span');cache.textWithLinks[html]=this.mergeWhitespace($html.html());}return cache.textWithLinks[html];};HUP.makeLinkText=function(text,props){var key;for(key in props){if(!props.hasOwnProperty(key)){continue;}props[key]=this.htmlToText(props[key]);}return this.jqueryToHtml($('<a>').prop(props).text(text));};mw.mmv.HtmlUtils=HtmlUtils;}(mediaWiki,jQuery));(function(mw,$){var MMVB;function MultimediaViewerBootstrap(){var localStorage=!1;try{localStorage=window.localStorage||!1;}catch(e){}this.hoverWaitDuration=200;this.config=new mw.mmv.Config(mw.config.get('wgMultimediaViewer',{}),mw.config,mw.user,new mw.Api(),localStorage);this.validExtensions=this.config.extensions();this.htmlUtils=new mw.mmv.HtmlUtils();this.viewerIsBroken=!1;this.
thumbsReadyDeferred=$.Deferred();this.thumbs=[];this.$thumbs=null;mw.hook('wikipage.content').add($.proxy(this,'processThumbs'));this.browserHistory=window.history;}MMVB=MultimediaViewerBootstrap.prototype;MMVB.loadViewer=function(setupOverlay){var deferred=$.Deferred(),bs=this,viewer,message;if(mw.config.get('wgMediaViewer')!==true){return deferred.reject();}if(setupOverlay){bs.setupOverlay();}mw.loader.using('mmv',function(){try{viewer=bs.getViewer();}catch(e){message=e.message;if(e.stack){message+='\n'+e.stack;}deferred.reject(message);return;}deferred.resolve(viewer);},function(error){deferred.reject(error.message);});return deferred.done(function(viewer){if(!bs.viewerInitialized){if(bs.thumbs.length){viewer.initWithThumbs(bs.thumbs);}bs.viewerInitialized=!0;}}).fail(function(message){mw.log.warn(message);bs.cleanupOverlay();bs.viewerIsBroken=!0;mw.notify('Error loading MediaViewer: '+message);});};MMVB.processThumbs=function($content){var bs=this;this.$thumbs=$content.find(
'.gallery .image img, '+'a.image img, '+'#file a img, '+'figure[typeof*="mw:Image"] > *:first-child > img, '+'span[typeof*="mw:Image"] img');try{this.$thumbs.each(function(i,thumb){bs.processThumb(thumb);});}finally{this.thumbsReadyDeferred.resolve();$(document).off('click.mmv-head');}};MMVB.isAllowedThumb=function($thumb){return $thumb.closest('.metadata, .noviewer, .noarticletext, #siteNotice').length===0;};MMVB.processThumb=function(thumb){var bs=this,$thumb=$(thumb),$link=$thumb.closest('a.image, [typeof*="mw:Image"] > a'),$thumbContain=$link.closest('.thumb, [typeof*="mw:Image"]'),$enlarge=$thumbContain.find('.magnify a'),title=mw.Title.newFromImg($thumb),link=$link.prop('href'),alt=$thumb.attr('alt');if(!title||!title.getExtension()||!(title.getExtension().toLowerCase()in bs.validExtensions)){return;}if(!bs.isAllowedThumb($thumb)){return;}if($thumbContain.length){$thumbContain.mouseenter(function(){if(!bs.config.isMediaViewerEnabledOnClick()){return;}bs.preloadOnHoverTimer=
setTimeout(function(){mw.loader.load('mmv');},bs.hoverWaitDuration);}).mouseleave(function(){if(bs.preloadOnHoverTimer){clearTimeout(bs.preloadOnHoverTimer);}});}if($thumb.closest('#file').length>0){this.processFilePageThumb($thumb,title);return;}this.thumbs.push({thumb:thumb,$thumb:$thumb,title:title,link:link,alt:alt,caption:this.findCaption($thumbContain,$link)});$link.add($enlarge).click(function(e){return bs.click(this,e,title);});};MMVB.processFilePageThumb=function($thumb,title){var $link,$configLink,$filepageButtons,bs=this,link=$thumb.closest('a').prop('href');$('.mw-mmv-filepage-buttons').next().addBack().remove();$link=$('<a>').prop('href',link).addClass('mw-mmv-view-expanded mw-ui-button mw-ui-icon mw-ui-icon-before').text(mw.message('multimediaviewer-view-expanded').text());$configLink=$('<a>').prop('href',$thumb.closest('a').prop('href')).addClass('mw-mmv-view-config mw-ui-button mw-ui-icon mw-ui-icon-element').text(mw.message('multimediaviewer-view-config').text());
$filepageButtons=$('<div>').addClass('mw-ui-button-group mw-mmv-filepage-buttons').append($link,$configLink);$('.fullMedia').append($filepageButtons,$('<div>').css('clear','both'));this.thumbs.push({thumb:$thumb.get(0),$thumb:$thumb,title:title,link:link});$link.click(function(){if(bs.statusInfoDialog){bs.statusInfoDialog.close();}bs.openImage(this,title);return false;});$configLink.click(function(){if(bs.statusInfoDialog){bs.statusInfoDialog.close();}bs.openImage(this,title).then(function(){$(document).trigger('mmv-options-open');});return false;});if(this.config.shouldShowStatusInfo()){this.config.disableStatusInfo();this.showStatusInfo();}};MMVB.showStatusInfo=function(){var bs=this;mw.loader.using('mmv.ui.tipsyDialog').done(function(){bs.statusInfoDialog=new mw.mmv.ui.TipsyDialog($('.mw-mmv-view-expanded'),{gravity:'sw'});bs.statusInfoDialog.setContent(mw.message('multimediaviewer-disable-info-title').plain(),mw.message('multimediaviewer-disable-info').escaped());window.setTimeout(
function(){bs.statusInfoDialog.open();},1000);});};MMVB.findCaption=function($thumbContain,$link){var $thumbCaption,$potentialCaptions;if(!$thumbContain.length){return $link.prop('title')||undefined;}$potentialCaptions=$thumbContain.find('.thumbcaption, figcaption');if($potentialCaptions.length<2){$thumbCaption=$potentialCaptions.eq(0);}else{$thumbCaption=$link.closest(':has(> .thumbcaption)',$thumbContain).find('> .thumbcaption');}if(!$thumbCaption.length){$thumbCaption=$thumbContain.closest('.gallerybox').not(function(){return $thumbContain.closest('#mw-category-media').length;}).not(function(){var $specialFileRelatedPages=$('.page-Special_NewFiles, '+'.page-Special_MostLinkedFiles,'+'.page-Special_MostGloballyLinkedFiles, '+'.page-Special_UncategorizedFiles, '+'.page-Special_UnusedFiles');return $thumbContain.closest($specialFileRelatedPages).length;}).find('.gallerytext');}if($thumbCaption.find('.magnify').length){$thumbCaption=$thumbCaption.clone();$thumbCaption.find('.magnify').
remove();}return this.htmlUtils.htmlToTextWithTags($thumbCaption.html()||'');};MMVB.openImage=function(element,title){var $element=$(element);mw.mmv.durationLogger.start(['click-to-first-image','click-to-first-metadata']);if($element.is('a.image, [typeof*="mw:Image"] > a')){mw.mmv.actionLogger.log('thumbnail');}else if($element.is('.magnify a')){mw.mmv.actionLogger.log('enlarge');}this.ensureEventHandlersAreSetUp();return this.loadViewer(true).then(function(viewer){viewer.loadImageByTitle(title,true);});};MMVB.click=function(element,e,title){if((e.button!==0&&e.which!==1)||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){return true;}if(!this.config.isMediaViewerEnabledOnClick()){return true;}if(this.viewerIsBroken){return true;}this.openImage(element,title);e.preventDefault();return false;};MMVB.isViewerHash=function(){return window.location.hash.indexOf('#mediaviewer/')===0||window.location.hash.indexOf('#/media/')===0;};MMVB.hash=function(initialHash){var bootstrap=this;if(!this.
viewerInitialized&&!this.isViewerHash()){return;}if(this.skipNextHashHandling){this.skipNextHashHandling=!1;return;}this.loadViewer(this.isViewerHash()).then(function(viewer){viewer.hash();if(!viewer.isOpen){bootstrap.cleanupOverlay();}else if(initialHash){mw.mmv.actionLogger.log('hash-load');}else{mw.mmv.actionLogger.log('history-navigation');}});};MMVB.internalHashChange=function(e){var hash=e.hash,title=e.title;if(this.browserHistory&&this.browserHistory.pushState){if(hash==='#'){hash=window.location.href.replace(/#.*$/,'');}window.history.pushState(null,title,hash);}else{this.skipNextHashHandling=!0;window.location.hash=hash;}document.title=title;};MMVB.getViewer=function(){if(this.viewer===undefined){this.viewer=new mw.mmv.MultimediaViewer(this.config);this.viewer.setupEventHandlers();mw.mmv.viewer=this.viewer;}return this.viewer;};MMVB.setupEventHandlers=function(){var self=this;this.eventHandlersHaveBeenSetUp=!0;$(window).on(this.browserHistory&&this.browserHistory.
pushState?'popstate.mmvb':'hashchange',function(){self.hash();});self.hash(true);$(document).on('mmv-hash',function(e){self.internalHashChange(e);}).on('mmv-cleanup-overlay',function(){self.cleanupOverlay();});};MMVB.cleanupEventHandlers=function(){$(window).off('hashchange popstate.mmvb');$(document).off('mmv-hash');this.eventHandlersHaveBeenSetUp=!1;};MMVB.ensureEventHandlersAreSetUp=function(){if(!this.eventHandlersHaveBeenSetUp){this.setupEventHandlers();}};MMVB.setupOverlay=function(){var $scrollTo=$.scrollTo(),$body=$(document.body);if($body.hasClass('mw-mmv-lightbox-open')){return;}if(!this.$overlay){this.$overlay=$('<div>').addClass('mw-mmv-overlay');}this.savedScroll={top:$scrollTo.scrollTop(),left:$scrollTo.scrollLeft()};$body.addClass('mw-mmv-lightbox-open').append(this.$overlay);};MMVB.cleanupOverlay=function(){var bootstrap=this;$(document.body).removeClass('mw-mmv-lightbox-open');if(this.$overlay){this.$overlay.remove();}if(this.savedScroll){setTimeout(function(){$.
scrollTo(bootstrap.savedScroll,0);bootstrap.savedScroll=undefined;},0);}};MMVB.whenThumbsReady=function(){return this.thumbsReadyDeferred.promise();};mw.mmv.MultimediaViewerBootstrap=MultimediaViewerBootstrap;}(mediaWiki,jQuery));(function(mw,$){var L;function Logger(){this.Geo=undefined;this.eventLog=undefined;}L=Logger.prototype;L.samplingFactor=0;L.schema='';L.setGeo=function(Geo){this.Geo=Geo;};L.setEventLog=function(eventLog){this.eventLog=eventLog;};L.loadDependencies=function(){var self=this,waitForEventLog=$.Deferred();$(document).ready(function(){if(window.Geo){self.setGeo(window.Geo);}try{mw.loader.using(['ext.eventLogging','schema.'+self.schema],function(){self.setEventLog(mw.eventLog);waitForEventLog.resolve();});}catch(e){waitForEventLog.reject();}});return waitForEventLog;};L.isInSample=function(){if(!$.isNumeric(this.samplingFactor)||this.samplingFactor<1){return false;}return Math.floor(Math.random()*this.samplingFactor)===0;};L.isEnabled=function(){return $.isNumeric(
this.samplingFactor)&&this.samplingFactor>=1;};L.schemaSupportsCountry=function(){return this.eventLog&&this.eventLog.schemas&&this.schema in this.eventLog.schemas&&'country'in this.eventLog.schemas[this.schema].schema.properties;};L.log=function(data){var self=this;if(self.isInSample()){return this.loadDependencies().then(function(){if(self.Geo&&self.Geo.country!==undefined&&self.schemaSupportsCountry()){data.country=self.Geo.country;}self.eventLog.logEvent(self.schema,data);});}else{return $.Deferred().resolve();}};mw.mmv.logging={};mw.mmv.logging.Logger=Logger;}(mediaWiki,jQuery));(function(mw,$,oo){var L;function ActionLogger(){}oo.inheritClass(ActionLogger,mw.mmv.logging.Logger);L=ActionLogger.prototype;L.samplingFactorMap=mw.config.get('wgMultimediaViewer').actionLoggingSamplingFactorMap;L.schema='MediaViewer';L.logActions={thumbnail:'User clicked on a thumbnail to open Media Viewer.',enlarge:'User clicked on an enlarge link to open Media Viewer.',fullscreen:
'User entered fullscreen mode.',defullscreen:'User exited fullscreen mode.',close:'User closed Media Viewer.','view-original-file':'User clicked on the direct link to the original file','file-description-page':'User opened the file description page.','file-description-page-abovefold':'User opened the file description page via the above-the-fold button.','use-this-file-open':'User opened the dialog to use this file.','image-view':'User viewed an image.','metadata-open':'User opened the metadata panel.','metadata-close':'User closed the metadata panel.','metadata-scroll-open':'User opened the metadata panel by scrolling.','metadata-scroll-close':'User closed the metadata panel by scrolling.','next-image':'User viewed the next image.','prev-image':'User viewed the previous image.','terms-open':'User opened the usage terms.','license-page':'User opened the license page.','author-page':'User opened the author page.','source-page':'User opened the source page.','hash-load':
'User loaded the image via a hash on pageload.','history-navigation':'User navigated with the browser history.','optout-loggedin':'opt-out (via quick link at bottom of metadata panel) by logged-in user','optout-anon':'opt-out by anonymous user','optin-loggedin':'opt-in (via quick link at bottom of metadata panel) by logged-in user','optin-anon':'opt-in by anonymous user','about-page':'User opened the about page.','discuss-page':'User opened the discuss page.','help-page':'User opened the help page.','location-page':'User opened the location page.','download-select-menu-original':'User selected the original size in the download dropdown menu.','download-select-menu-small':'User selected the small size in the download dropdown menu.','download-select-menu-medium':'User selected the medium size in the download dropdown menu.','download-select-menu-large':'User selected the large size in the download dropdown menu.',download:'User clicked on the button to download a file.',
'download-view-in-browser':'User clicked on the link to view the image in the browser in the download tab.','right-click-image':'User right-clicked on the image.','share-page':'User opened the link to the current image.','share-link-copied':'User copied the share link.','embed-html-copied':'User copied the HTML embed code.','embed-wikitext-copied':'User copied the wikitext embed code.','embed-switched-to-html':'User switched to the HTML embed code.','embed-switched-to-wikitext':'User switched to the wikitext embed code.','embed-select-menu-wikitext-default':'User switched to the default thumbnail size on wikitext.','embed-select-menu-wikitext-small':'User switched to the small thumbnail size on wikitext.','embed-select-menu-wikitext-medium':'User switched to the medium thumbnail size on wikitext.','embed-select-menu-wikitext-large':'User switched to the large thumbnail size on wikitext.','embed-select-menu-html-original':'User switched to the original thumbnail size on html.',
'embed-select-menu-html-small':'User switched to the small thumbnail size on html.','embed-select-menu-html-medium':'User switched to the medium thumbnail size on html.','embed-select-menu-html-large':'User switched to the large thumbnail size on html.','use-this-file-close':'User closed the dialog to use this file.','download-open':'User opened the dialog to download this file.','download-close':'User closed the dialog to download this file.','options-open':'User opened the enable/disable dialog.','options-close':'User either canceled an enable/disable action or closed a confirmation window.','disable-about-link':'User clicked on the "Learn more" link in the disable window.','enable-about-link':'User clicked on the "Learn more" link in the enable window.','image-unview':'User stopped looking at the current image.'};L.log=function(action,forceEventLog){var actionText=this.logActions[action]||action,self=this;if(this.isEnabled(action)){mw.log(actionText);}if(forceEventLog||self.
isInSample(action)){return this.loadDependencies().then(function(){self.eventLog.logEvent(self.schema,{action:action,samplingFactor:self.getActionFactor(action)});return true;});}else{return $.Deferred().resolve(false);}};L.getActionFactor=function(action){return this.samplingFactorMap[action]||this.samplingFactorMap['default'];};L.isInSample=function(action){var factor=this.getActionFactor(action);if(!$.isNumeric(factor)||factor<1){return false;}return Math.floor(Math.random()*factor)===0;};L.isEnabled=function(action){var factor=this.getActionFactor(action);return $.isNumeric(factor)&&factor>=1;};mw.mmv.logging.ActionLogger=ActionLogger;mw.mmv.actionLogger=new ActionLogger();}(mediaWiki,jQuery,OO));(function(mw,$,oo){var L;function DurationLogger(){this.starts={};this.stops={};}oo.inheritClass(DurationLogger,mw.mmv.logging.Logger);L=DurationLogger.prototype;L.samplingFactor=mw.config.get('wgMultimediaViewer').durationSamplingFactor;if(mw.config.get('wgMultimediaViewer').
durationSamplingFactorLoggedin&&!mw.user.isAnon()){L.samplingFactor=mw.config.get('wgMultimediaViewer').durationSamplingFactorLoggedin;}L.schema='MultimediaViewerDuration';L.start=function(typeOrTypes){var i,start=$.now();if(!typeOrTypes){throw'Must specify type';}if(!$.isArray(typeOrTypes)){typeOrTypes=[typeOrTypes];}for(i=0;i<typeOrTypes.length;i++){if(!this.starts.hasOwnProperty(typeOrTypes[i])){this.starts[typeOrTypes[i]]=start;}}return this;};L.stop=function(type,start){var stop=$.now();if(!type){throw'Must specify type';}if(!this.stops.hasOwnProperty(type)){this.stops[type]=stop;}if(start!==undefined&&!this.starts.hasOwnProperty(type)){this.starts[type]=start;}return this;};L.record=function(type,extraData){var e,duration;if(!type){throw'Must specify type';}if(!this.starts.hasOwnProperty(type)||this.starts[type]===undefined){return;}if(!this.stops.hasOwnProperty(type)||this.stops[type]===undefined){return;}duration=this.stops[type]-this.starts[type];e={type:type,duration:duration
,loggedIn:!mw.user.isAnon(),samplingFactor:this.samplingFactor};if(extraData){$.each(extraData,function(key,value){e[key]=value;});}if(this.isEnabled()){mw.log('mw.mmw.logger.DurationLogger',e);}this.log(e);delete this.starts[type];delete this.stops[type];return this;};mw.mmv.durationLogger=new DurationLogger();}(mediaWiki,jQuery,OO));(function($,window,undefined){'$:nomunge';var str_hashchange='hashchange',doc=document,fake_onhashchange,special=$.event.special,supports_onhashchange='on'+str_hashchange in window;function get_fragment(url){url=url||location.href;return'#'+url.replace(/^[^#]*#?(.*)$/,'$1');};$.fn[str_hashchange]=function(fn){return fn?this.bind(str_hashchange,fn):this.trigger(str_hashchange);};$.fn[str_hashchange].delay=50;special[str_hashchange]=$.extend(special[str_hashchange],{setup:function(){if(supports_onhashchange){return false;}$(fake_onhashchange.start);},teardown:function(){if(supports_onhashchange){return false;}$(fake_onhashchange.stop);}});fake_onhashchange=
(function(){var self={},timeout_id,last_hash=get_fragment(),fn_retval=function(val){return val;},history_set=fn_retval,history_get=fn_retval;self.start=function(){timeout_id||poll();};self.stop=function(){timeout_id&&clearTimeout(timeout_id);timeout_id=undefined;};function poll(){var hash=get_fragment(),history_hash=history_get(last_hash);if(hash!==last_hash){history_set(last_hash=hash,history_hash);$(window).trigger(str_hashchange);}else if(history_hash!==last_hash){location.href=location.href.replace(/#.*/,'')+history_hash;}timeout_id=setTimeout(poll,$.fn[str_hashchange].delay);};return self;})();})(jQuery,this);;(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}(function($){var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings);};$scrollTo.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:!0};$scrollTo.window=function(scope){return $(window).
_scrollable();};$.fn._scrollable=function(){return this.map(function(){var elem=this,isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return elem;var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return/webkit/i.test(navigator.userAgent)||doc.compatMode=='BackCompat'?doc.body:doc.documentElement;});};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=='object'){settings=duration;duration=0;}if(typeof settings=='function')settings={onAfter:settings};if(target=='max')target=9e9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue)duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){if(target==null)return;var elem=this,$elem=$(elem),targ=target,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number'
:case'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break;}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset();}var offset=$.isFunction(settings.offset)&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(''),function(i,axis){var Pos=axis=='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,old=elem[key],max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css('margin'+Pos))||0;attr[key]-=parseInt(targ.css('border'+Pos+'Width'))||0;}attr[key]+=offset[pos]||0;if(settings.over[pos])attr[key]+=targ[axis=='x'?'width':'height']()*settings.over[pos];}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)=='%'?parseFloat(val)/100*max:val;}if(settings.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.queue){if(old!=attr[key])animate(settings.onAfterFirst);delete
attr[key];}});animate(settings.onAfter);function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,targ,settings);});};}).end();};$scrollTo.max=function(elem,axis){var Dim=axis=='x'?'Width':'Height',scroll='scroll'+Dim;if(!$(elem).is('html,body'))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size='client'+Dim,html=elem.ownerDocument.documentElement,body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size]);};function both(val){return $.isFunction(val)||typeof val=='object'?val:{top:val,left:val};};return $scrollTo;}));},{"css":[
".mw-mmv-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;background-color:#000000}body.mw-mmv-lightbox-open{overflow-y:auto;  }body.mw-mmv-lightbox-open #mw-page-base,body.mw-mmv-lightbox-open #mw-head-base,body.mw-mmv-lightbox-open #mw-navigation,body.mw-mmv-lightbox-open #content,body.mw-mmv-lightbox-open #footer,body.mw-mmv-lightbox-open #globalWrapper{ display:none}body.mw-mmv-lightbox-open \u003E *{ display:none}body.mw-mmv-lightbox-open \u003E .mw-mmv-overlay,body.mw-mmv-lightbox-open \u003E .mw-mmv-wrapper{display:block}.mw-mmv-filepage-buttons{margin-top:5px}.mw-mmv-filepage-buttons .mw-mmv-view-expanded,.mw-mmv-filepage-buttons .mw-mmv-view-config{display:block;line-height:inherit}.mw-mmv-filepage-buttons .mw-mmv-view-expanded.mw-ui-icon:before{background-image:url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%20768%22%3E%0A%20%20%20%20%3Cg%20fill%3D%22%23777%22%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M851.2%2071.6L690.7%20232.1l-40.1-40.3-9.6%20164.8%20164.8-9.3-40.3-40.4L926%20146.4l58.5%2058.5L997.6%200%20792.7%2013.1%22%2F%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M769.6%2089.3H611.9l70.9%2070.8%207.9%207.5m-47.1%20234.6l-51.2%203%203-51.2%209.4-164.4%205.8-100.3H26.4V768h883.1V387l-100.9%205.8-165%209.4zM813.9%20678H113.6l207.2-270.2%2031.5-12.9L548%20599.8l105.9-63.2%20159.8%20140.8.2.6zm95.6-291.9V228l-79.1%2078.9%207.8%207.9%22%2F%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A);background-image:url(/w/extensions/MultimediaViewer/resources/mmv/img/expand.svg?b714e)!ie}.mw-mmv-filepage-buttons .mw-mmv-view-config.mw-ui-icon:before{background-image:url(data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%201024%20768%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M897%20454.6V313.4L810.4%20299c-6.4-23.3-16-45.7-27.3-65.8l50.5-71.4-99.4-100.2-71.4%2050.5c-20.9-11.2-42.5-20.9-65.8-27.3L582.6-1H441.4L427%2085.6c-23.3%206.4-45.7%2016-65.8%2027.3l-71.4-50.5-100.3%2099.5%2050.5%2071.4c-11.2%2020.9-20.9%2042.5-27.3%2066.6L127%20313.4v141.2l85.8%2014.4c6.4%2023.3%2016%2045.7%2027.3%2066.6L189.6%20607l99.5%2099.5%2071.4-50.5c20.9%2011.2%2042.5%2020.9%2066.6%2027.3l14.4%2085.8h141.2l14.4-86.6c23.3-6.4%2045.7-16%2065.8-27.3l71.4%2050.5%2099.5-99.5-50.5-71.4c11.2-20.9%2020.9-42.5%2027.3-66.6l86.4-13.6zm-385%2077c-81.8%200-147.6-66.6-147.6-147.6%200-81.8%2066.6-147.6%20147.6-147.6S659.6%20302.2%20659.6%20384%20593.8%20531.6%20512%20531.6z%22%20fill%3D%22%23777%22%2F%3E%0A%3C%2Fsvg%3E%0A);background-image:url(/w/extensions/MultimediaViewer/resources/mmv/img/gear_gray.svg?330ae)!ie;opacity:0.75}.mw-mmv-filepage-buttons .mw-mmv-view-config.mw-ui-icon:before:hover{opacity:1}"
]},{"multimediaviewer-disable-info":"You can still view individual files with Media Viewer.","multimediaviewer-disable-info-title":"You have disabled Media Viewer","multimediaviewer-view-config":"Configuration","multimediaviewer-view-expanded":"Open in Media Viewer"});mw.loader.implement("mmv.bootstrap.autostart@0e7jbwc",function($,jQuery,require,module){(function(mw,$){var bootstrap;if(!mw.mmv.isBrowserSupported()){return;}bootstrap=new mw.mmv.MultimediaViewerBootstrap();$(document).ready(function(){bootstrap.setupEventHandlers();});mw.mmv.bootstrap=bootstrap;}(mediaWiki,jQuery));});mw.loader.implement("oojs@0jw7dj3",function($,jQuery,require,module){(function(global){'use strict';var oo={},hasOwn=oo.hasOwnProperty,toString=oo.toString,createObject=Object.create||(function(){function Empty(){}return function(prototype,properties){var obj;Empty.prototype=prototype;obj=new Empty();if(properties&&hasOwn.call(properties,'constructor')){obj.constructor=properties.constructor.value;}return obj;};})();oo.initClass=function(fn){fn.static=fn.static||{};};oo.inheritClass=function(targetFn,originFn){var targetConstructor;if(targetFn.prototype instanceof originFn){throw new Error('Target already inherits from origin');}targetConstructor=targetFn.prototype.constructor;targetFn['super']=targetFn.parent=originFn;targetFn.prototype=createObject(originFn.prototype,{constructor:{value:targetConstructor,enumerable:!1,writable:!0,configurable:!0}});oo.initClass(originFn);targetFn.static=createObject(originFn.static);};oo.mixinClass=function(targetFn,originFn){var key;for(key in
originFn.prototype){if(key!=='constructor'&&hasOwn.call(originFn.prototype,key)){targetFn.prototype[key]=originFn.prototype[key];}}oo.initClass(targetFn);if(originFn.static){for(key in originFn.static){if(hasOwn.call(originFn.static,key)){targetFn.static[key]=originFn.static[key];}}}else{oo.initClass(originFn);}};oo.getProp=function(obj){var i,retval=obj;for(i=1;i<arguments.length;i++){if(retval===undefined||retval===null){return undefined;}retval=retval[arguments[i]];}return retval;};oo.setProp=function(obj){var i,prop=obj;if(Object(obj)!==obj){return;}for(i=1;i<arguments.length-2;i++){if(prop[arguments[i]]===undefined){prop[arguments[i]]={};}if(Object(prop[arguments[i]])!==prop[arguments[i]]){return;}prop=prop[arguments[i]];}prop[arguments[arguments.length-2]]=arguments[arguments.length-1];};oo.cloneObject=function(origin){var key,r;r=createObject(origin.constructor.prototype);for(key in origin){if(hasOwn.call(origin,key)){r[key]=origin[key];}}return r;};oo.getObjectValues=function(
obj){var key,values;if(obj!==Object(obj)){throw new TypeError('Called on non-object');}values=[];for(key in obj){if(hasOwn.call(obj,key)){values[values.length]=obj[key];}}return values;};oo.binarySearch=function(arr,searchFunc,forInsertion){var mid,cmpResult,left=0,right=arr.length;while(left<right){mid=(left+right)>>1;cmpResult=searchFunc(arr[mid]);if(cmpResult<0){right=mid;}else if(cmpResult>0){left=mid+1;}else{return mid;}}return forInsertion?right:null;};oo.compare=function(a,b,asymmetrical){var aValue,bValue,aType,bType,k;if(a===b){return true;}a=a||{};b=b||{};if(typeof a.nodeType==='number'&&typeof a.isEqualNode==='function'){return a.isEqualNode(b);}for(k in a){if(!hasOwn.call(a,k)||a[k]===undefined||a[k]===b[k]){continue;}aValue=a[k];bValue=b[k];aType=typeof aValue;bType=typeof bValue;if(aType!==bType||((aType==='string'||aType==='number'||aType==='boolean')&&aValue!==bValue)||(aValue===Object(aValue)&&!oo.compare(aValue,bValue,true))){return false;}}return asymmetrical?true:oo
.compare(b,a,true);};oo.copy=function(source,leafCallback,nodeCallback){var key,destination;if(nodeCallback){destination=nodeCallback(source);if(destination!==undefined){return destination;}}if(Array.isArray(source)){destination=new Array(source.length);}else if(source&&typeof source.clone==='function'){return leafCallback?leafCallback(source.clone()):source.clone();}else if(source&&typeof source.cloneNode==='function'){return leafCallback?leafCallback(source.cloneNode(true)):source.cloneNode(true);}else if(oo.isPlainObject(source)){destination={};}else{return leafCallback?leafCallback(source):source;}for(key in source){destination[key]=oo.copy(source[key],leafCallback,nodeCallback);}return destination;};oo.getHash=function(val){return JSON.stringify(val,oo.getHash.keySortReplacer);};oo.getHash.keySortReplacer=function(key,val){var normalized,keys,i,len;if(val&&typeof val.getHashObject==='function'){val=val.getHashObject();}if(!Array.isArray(val)&&Object(val)===val){normalized={};keys=
Object.keys(val).sort();i=0;len=keys.length;for(;i<len;i+=1){normalized[keys[i]]=val[keys[i]];}return normalized;}else{return val;}};oo.unique=function(arr){return arr.reduce(function(result,current){if(result.indexOf(current)===-1){result.push(current);}return result;},[]);};oo.simpleArrayUnion=function(){var i,ilen,arr,j,jlen,obj={},result=[];for(i=0,ilen=arguments.length;i<ilen;i++){arr=arguments[i];for(j=0,jlen=arr.length;j<jlen;j++){if(!obj[arr[j]]){obj[arr[j]]=!0;result.push(arr[j]);}}}return result;};function simpleArrayCombine(a,b,includeB){var i,ilen,isInB,bObj={},result=[];for(i=0,ilen=b.length;i<ilen;i++){bObj[b[i]]=!0;}for(i=0,ilen=a.length;i<ilen;i++){isInB=!!bObj[a[i]];if(isInB===includeB){result.push(a[i]);}}return result;}oo.simpleArrayIntersection=function(a,b){return simpleArrayCombine(a,b,true);};oo.simpleArrayDifference=function(a,b){return simpleArrayCombine(a,b,false);};oo.isPlainObject=$.isPlainObject;(function(){oo.EventEmitter=function OoEventEmitter(){this
.bindings={};};oo.initClass(oo.EventEmitter);function validateMethod(method,context){if(typeof method==='string'){if(context===undefined||context===null){throw new Error('Method name "'+method+'" has no context.');}if(typeof context[method]!=='function'){throw new Error('Property "'+method+'" is not a function');}}else if(typeof method!=='function'){throw new Error('Invalid callback. Function or method name expected.');}}oo.EventEmitter.prototype.on=function(event,method,args,context){var bindings;validateMethod(method,context);if(hasOwn.call(this.bindings,event)){bindings=this.bindings[event];}else{bindings=this.bindings[event]=[];}bindings.push({method:method,args:args,context:(arguments.length<4)?null:context});return this;};oo.EventEmitter.prototype.once=function(event,listener){var eventEmitter=this,wrapper=function(){eventEmitter.off(event,wrapper);return listener.apply(this,arguments);};return this.on(event,wrapper);};oo.EventEmitter.prototype.off=function(event,method,context){
var i,bindings;if(arguments.length===1){delete this.bindings[event];return this;}validateMethod(method,context);if(!hasOwn.call(this.bindings,event)||!this.bindings[event].length){return this;}if(arguments.length<3){context=null;}bindings=this.bindings[event];i=bindings.length;while(i--){if(bindings[i].method===method&&bindings[i].context===context){bindings.splice(i,1);}}if(bindings.length===0){delete this.bindings[event];}return this;};oo.EventEmitter.prototype.emit=function(event){var args=[],i,len,binding,bindings,method;if(hasOwn.call(this.bindings,event)){bindings=this.bindings[event].slice();for(i=1,len=arguments.length;i<len;i++){args.push(arguments[i]);}for(i=0,len=bindings.length;i<len;i++){binding=bindings[i];if(typeof binding.method==='string'){method=binding.context[binding.method];}else{method=binding.method;}method.apply(binding.context,binding.args?binding.args.concat(args):args);}return true;}return false;};oo.EventEmitter.prototype.connect=function(context,methods){
var method,args,event;for(event in methods){method=methods[event];if(Array.isArray(method)){args=method.slice(1);method=method[0];}else{args=[];}this.on(event,method,args,context);}return this;};oo.EventEmitter.prototype.disconnect=function(context,methods){var i,event,method,bindings;if(methods){for(event in methods){method=methods[event];if(Array.isArray(method)){method=method[0];}this.off(event,method,context);}}else{for(event in this.bindings){bindings=this.bindings[event];i=bindings.length;while(i--){if(bindings[i]&&bindings[i].context===context){this.off(event,bindings[i].method,context);}}}}return this;};}());(function(){oo.EmitterList=function OoEmitterList(){this.items=[];this.aggregateItemEvents={};};function normalizeArrayIndex(arr,index){return(index===undefined||index<0||index>=arr.length)?arr.length:index;}oo.EmitterList.prototype.getItems=function(){return this.items.slice(0);};oo.EmitterList.prototype.getItemIndex=function(item){return this.items.indexOf(item);};oo.
EmitterList.prototype.getItemCount=function(){return this.items.length;};oo.EmitterList.prototype.isEmpty=function(){return!this.items.length;};oo.EmitterList.prototype.aggregate=function(events){var i,item,add,remove,itemEvent,groupEvent;for(itemEvent in events){groupEvent=events[itemEvent];if(Object.prototype.hasOwnProperty.call(this.aggregateItemEvents,itemEvent)){if(groupEvent){throw new Error('Duplicate item event aggregation for '+itemEvent);}for(i=0;i<this.items.length;i++){item=this.items[i];if(item.connect&&item.disconnect){remove={};remove[itemEvent]=['emit',this.aggregateItemEvents[itemEvent],item];item.disconnect(this,remove);}}delete this.aggregateItemEvents[itemEvent];}if(groupEvent){this.aggregateItemEvents[itemEvent]=groupEvent;for(i=0;i<this.items.length;i++){item=this.items[i];if(item.connect&&item.disconnect){add={};add[itemEvent]=['emit',groupEvent,item];item.connect(this,add);}}}}};oo.EmitterList.prototype.addItems=function(items,index){var i,oldIndex;if(!Array.
isArray(items)){items=[items];}if(items.length===0){return this;}index=normalizeArrayIndex(this.items,index);for(i=0;i<items.length;i++){oldIndex=this.items.indexOf(items[i]);if(oldIndex!==-1){index=this.moveItem(items[i],index);this.emit('move',items[i],index,oldIndex);}else{index=this.insertItem(items[i],index);this.emit('add',items[i],index);}index++;}return this;};oo.EmitterList.prototype.moveItem=function(item,newIndex){var existingIndex=this.items.indexOf(item);if(existingIndex===-1){throw new Error('Item cannot be moved, because it is not in the list.');}newIndex=normalizeArrayIndex(this.items,newIndex);this.items.splice(existingIndex,1);newIndex--;this.items.splice(newIndex,0,item);return newIndex;};oo.EmitterList.prototype.insertItem=function(item,index){var events,event;if(item.connect&&item.disconnect){events={};for(event in this.aggregateItemEvents){events[event]=['emit',this.aggregateItemEvents[event],item];}item.connect(this,events);}index=normalizeArrayIndex(this.items,
index);this.items.splice(index,0,item);return index;};oo.EmitterList.prototype.removeItems=function(items){var i,item,index;if(!Array.isArray(items)){items=[items];}if(items.length===0){return this;}for(i=0;i<items.length;i++){item=items[i];index=this.items.indexOf(item);if(index!==-1){if(item.connect&&item.disconnect){item.disconnect(this);}this.items.splice(index,1);this.emit('remove',item,index);}}return this;};oo.EmitterList.prototype.clearItems=function(){var i,item,cleared=this.items.splice(0,this.items.length);for(i=0;i<cleared.length;i++){item=cleared[i];if(item.connect&&item.disconnect){item.disconnect(this);}}this.emit('clear');return this;};}());oo.SortedEmitterList=function OoSortedEmitterList(sortingCallback){oo.EmitterList.call(this);this.sortingCallback=sortingCallback;this.aggregate({sortChange:'itemSortChange'});this.connect(this,{itemSortChange:'onItemSortChange'});};oo.mixinClass(oo.SortedEmitterList,oo.EmitterList);oo.SortedEmitterList.prototype.onItemSortChange=
function(item){this.removeItems(item);this.addItems(item);};oo.SortedEmitterList.prototype.setSortingCallback=function(sortingCallback){var items=this.getItems();this.sortingCallback=sortingCallback;this.clearItems();this.addItems(items);};oo.SortedEmitterList.prototype.addItems=function(items){var index,i,insertionIndex;if(!Array.isArray(items)){items=[items];}if(items.length===0){return this;}for(i=0;i<items.length;i++){insertionIndex=this.findInsertionIndex(items[i]);if(insertionIndex<=this.items.length&&this.items[insertionIndex]&&this.sortingCallback(this.items[insertionIndex],items[i])===0){this.removeItems(this.items[insertionIndex]);}index=this.insertItem(items[i],insertionIndex);this.emit('add',items[i],insertionIndex);}return this;};oo.SortedEmitterList.prototype.findInsertionIndex=function(item){var list=this;return oo.binarySearch(this.items,function(otherItem){return list.sortingCallback(item,otherItem);},true);};oo.Registry=function OoRegistry(){oo.EventEmitter.call(this)
;this.registry={};};oo.mixinClass(oo.Registry,oo.EventEmitter);oo.Registry.prototype.register=function(name,data){var i,len;if(typeof name==='string'){this.registry[name]=data;this.emit('register',name,data);}else if(Array.isArray(name)){for(i=0,len=name.length;i<len;i++){this.register(name[i],data);}}else{throw new Error('Name must be a string or array, cannot be a '+typeof name);}};oo.Registry.prototype.unregister=function(name){var i,len,data;if(typeof name==='string'){data=this.lookup(name);if(data!==undefined){delete this.registry[name];this.emit('unregister',name,data);}}else if(Array.isArray(name)){for(i=0,len=name.length;i<len;i++){this.unregister(name[i]);}}else{throw new Error('Name must be a string or array, cannot be a '+typeof name);}};oo.Registry.prototype.lookup=function(name){if(hasOwn.call(this.registry,name)){return this.registry[name];}};oo.Factory=function OoFactory(){oo.Factory.parent.call(this);};oo.inheritClass(oo.Factory,oo.Registry);oo.Factory.prototype.
register=function(constructor){var name;if(typeof constructor!=='function'){throw new Error('constructor must be a function, cannot be a '+typeof constructor);}name=constructor.static&&constructor.static.name;if(typeof name!=='string'||name===''){throw new Error('Name must be a string and must not be empty');}oo.Factory.parent.prototype.register.call(this,name,constructor);};oo.Factory.prototype.unregister=function(constructor){var name;if(typeof constructor!=='function'){throw new Error('constructor must be a function, cannot be a '+typeof constructor);}name=constructor.static&&constructor.static.name;if(typeof name!=='string'||name===''){throw new Error('Name must be a string and must not be empty');}oo.Factory.parent.prototype.unregister.call(this,name);};oo.Factory.prototype.create=function(name){var obj,i,args=[],constructor=this.lookup(name);if(!constructor){throw new Error('No class registered by that name: '+name);}for(i=1;i<arguments.length;i++){args.push(arguments[i]);}obj=
createObject(constructor.prototype);constructor.apply(obj,args);return obj;};if(typeof module!=='undefined'&&module.exports){module.exports=oo;}else{global.OO=oo;}}(this));window.OO=module.exports;});mw.loader.implement("site@1ej3iv6",
"mw.loader.using(['mediawiki.user','mediawiki.util','mediawiki.notify','jquery.client']).done(function(){if(mw.config.get('wgPageName')==='Main_Page'||mw.config.get('wgPageName')==='Talk:Main_Page'){$(function(){mw.util.addPortletLink('p-lang','//meta.wikimedia.org/wiki/List_of_Wikipedias','Complete list','interwiki-completelist','Complete list of Wikipedias');});}if(mw.config.get('wgArticleId')===0\u0026\u0026mw.config.get('wgNamespaceNumber')===2){var titleParts=mw.config.get('wgPageName').split('/');if(titleParts.length==2){var userSkinPage=titleParts.shift()+'/'+mw.config.get('skin');if(titleParts.slice(-1)=='skin.js'){window.location.href=mw.util.getUrl(userSkinPage+'.js');}else if(titleParts.slice(-1)=='skin.css'){window.location.href=mw.util.getUrl(userSkinPage+'.css');}}}mw.log.deprecate(window,'addPortletLink',mw.util.addPortletLink,'Use mw.util.addPortletLink instead');mw.log.deprecate(window,'getURLParamValue',mw.util.getParamValue,'Use mw.util.getParamValue instead');mw.log.deprecate(\nwindow,'hasClass',function(element,className){return $(element).hasClass(className);},'Use jQuery.hasClass() instead');var extraCSS=mw.util.getParamValue('withCSS'),extraJS=mw.util.getParamValue('withJS');if(extraCSS){if(extraCSS.match(/^MediaWiki:[^\u0026\u003C\u003E=%#]*\\.css$/)){mw.loader.load('/w/index.php?title='+extraCSS+'\u0026action=raw\u0026ctype=text/css','text/css');}else{mw.notify('Only pages from the MediaWiki namespace are allowed.',{title:'Invalid withCSS value'});}}if(extraJS){if(extraJS.match(/^MediaWiki:[^\u0026\u003C\u003E=%#]*\\.js$/)){mw.loader.load('/w/index.php?title='+extraJS+'\u0026action=raw\u0026ctype=text/javascript');}else{mw.notify('Only pages from the MediaWiki namespace are allowed.',{title:'Invalid withJS value'});}}(function(){var require_wikiminiatlas=!1;var coord_filter=/geohack/;$(function(){$('a.external.text').each(function(key,link){if(link.href\u0026\u0026coord_filter.exec(link.href)){require_wikiminiatlas=!0;return false;}});if($('div.kmldata').length){require_wikiminiatlas=!0;}if(\nrequire_wikiminiatlas){mw.loader.load('//meta.wikimedia.org/w/index.php?title=MediaWiki:Wikiminiatlas.js\u0026action=raw\u0026ctype=text/javascript');}});})();var autoCollapse=2;var collapseCaption='hide';var expandCaption='show';var tableIndex=0;function collapseTable(tableIndex){var Button=document.getElementById('collapseButton'+tableIndex);var Table=document.getElementById('collapsibleTable'+tableIndex);if(!Table||!Button){return false;}var Rows=Table.rows;var i;var $row0=$(Rows[0]);if(Button.firstChild.data===collapseCaption){for(i=1;i\u003CRows.length;i++){Rows[i].style.display='none';}Button.firstChild.data=expandCaption;}else{for(i=1;i\u003CRows.length;i++){Rows[i].style.display=$row0.css('display');}Button.firstChild.data=collapseCaption;}}function createClickHandler(tableIndex){return function(e){e.preventDefault();collapseTable(tableIndex);};}function createCollapseButtons($content){var NavigationBoxes={};var $Tables=$content.find('table');var i;$Tables.each(function(i,table){if($(table).\nhasClass('collapsible')){var HeaderRow=table.getElementsByTagName('tr')[0];if(!HeaderRow){return;}var Header=table.getElementsByTagName('th')[0];if(!Header){return;}NavigationBoxes[tableIndex]=table;table.setAttribute('id','collapsibleTable'+tableIndex);var Button=document.createElement('span');var ButtonLink=document.createElement('a');var ButtonText=document.createTextNode(collapseCaption);Button.className='collapseButton';ButtonLink.style.color=Header.style.color;ButtonLink.setAttribute('id','collapseButton'+tableIndex);ButtonLink.setAttribute('href','#');$(ButtonLink).on('click',createClickHandler(tableIndex));ButtonLink.appendChild(ButtonText);Button.appendChild(document.createTextNode('['));Button.appendChild(ButtonLink);Button.appendChild(document.createTextNode(']'));Header.insertBefore(Button,Header.firstChild);tableIndex++;}});for(i=0;i\u003CtableIndex;i++){if($(NavigationBoxes[i]).hasClass('collapsed')||(tableIndex\u003E=autoCollapse\u0026\u0026$(NavigationBoxes[i]).hasClass('autocollapse'))){\ncollapseTable(i);}else if($(NavigationBoxes[i]).hasClass('innercollapse')){var element=NavigationBoxes[i];while((element=element.parentNode)){if($(element).hasClass('outercollapse')){collapseTable(i);break;}}}}}mw.hook('wikipage.content').add(createCollapseButtons);var NavigationBarHide='['+collapseCaption+']';var NavigationBarShow='['+expandCaption+']';var indexNavigationBar=0;window.toggleNavigationBar=function(indexNavigationBar,event){var NavToggle=document.getElementById('NavToggle'+indexNavigationBar);var NavFrame=document.getElementById('NavFrame'+indexNavigationBar);var NavChild;if(!NavFrame||!NavToggle){return false;}if(NavToggle.firstChild.data===NavigationBarHide){for(NavChild=NavFrame.firstChild;NavChild!=null;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavContent')||$(NavChild).hasClass('NavPic')){NavChild.style.display='none';}}NavToggle.firstChild.data=NavigationBarShow;}else if(NavToggle.firstChild.data===NavigationBarShow){for(NavChild=NavFrame.firstChild;\nNavChild!=null;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavContent')||$(NavChild).hasClass('NavPic')){NavChild.style.display='block';}}NavToggle.firstChild.data=NavigationBarHide;}event.preventDefault();};function createNavigationBarToggleButton($content){var NavChild;var $divs=$content.find('div');$divs.each(function(i,NavFrame){if($(NavFrame).hasClass('NavFrame')){indexNavigationBar++;var NavToggle=document.createElement('a');NavToggle.className='NavToggle';NavToggle.setAttribute('id','NavToggle'+indexNavigationBar);NavToggle.setAttribute('href','#');$(NavToggle).on('click',$.proxy(window.toggleNavigationBar,window,indexNavigationBar));var isCollapsed=$(NavFrame).hasClass('collapsed');for(NavChild=NavFrame.firstChild;NavChild!=null\u0026\u0026!isCollapsed;NavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavPic')||$(NavChild).hasClass('NavContent')){if(NavChild.style.display==='none'){isCollapsed=!0;}}}if(isCollapsed){for(NavChild=NavFrame.firstChild;NavChild!=null;\nNavChild=NavChild.nextSibling){if($(NavChild).hasClass('NavPic')||$(NavChild).hasClass('NavContent')){NavChild.style.display='none';}}}var NavToggleText=document.createTextNode(isCollapsed?NavigationBarShow:NavigationBarHide);NavToggle.appendChild(NavToggleText);for(var j=0;j\u003CNavFrame.childNodes.length;j++){if($(NavFrame.childNodes[j]).hasClass('NavHead')){NavToggle.style.color=NavFrame.childNodes[j].style.color;NavFrame.childNodes[j].appendChild(NavToggle);}}NavFrame.setAttribute('id','NavFrame'+indexNavigationBar);}});}mw.hook('wikipage.content').add(createNavigationBarToggleButton);function uploadwizard_newusers(){if(mw.config.get('wgNamespaceNumber')===4\u0026\u0026mw.config.get('wgTitle')==='Upload'\u0026\u0026mw.config.get('wgAction')==='view'){var oldDiv=document.getElementById('autoconfirmedusers'),newDiv=document.getElementById('newusers');if(oldDiv\u0026\u0026newDiv){var userGroups=mw.config.get('wgUserGroups');if(userGroups){for(var i=0;i\u003CuserGroups.length;i++){if(userGroups[i]==='autoconfirmed'){oldDiv.\nstyle.display='block';newDiv.style.display='none';return;}}}oldDiv.style.display='none';newDiv.style.display='block';return;}}}$(uploadwizard_newusers);function addEditIntro(name){$('.mw-editsection, #ca-edit').find('a').each(function(i,el){el.href=$(this).attr('href')+'\u0026editintro='+name;});}if(mw.config.get('wgNamespaceNumber')===0){$(function(){if(document.getElementById('disambigbox')){addEditIntro('Template:Disambig_editintro');}});$(function(){var cats=mw.config.get('wgCategories');if(!cats){return;}if($.inArray('Living people',cats)!==-1||$.inArray('Possibly living people',cats)!==-1){addEditIntro('Template:BLP_editintro');}});}});;"
);mw.loader.implement("schema.NavigationTiming@15a5axw",function($,jQuery,require,module){mediaWiki.eventLog.declareSchema("NavigationTiming",{"schema":{"title":"NavigationTiming","properties":{"action":{"type":"string"},"lazyLoadImages":{"type":"string","enum":["A","B","C"]},"firstImage":{"type":"integer"},"connectEnd":{"type":"integer"},"connectStart":{"type":"integer"},"dnsLookup":{"type":"integer"},"domContentLoadedEventStart":{"type":"integer"},"domContentLoadedEventEnd":{"type":"integer"},"domComplete":{"type":"integer"},"domInteractive":{"type":"integer"},"domLoading":{"type":"integer"},"domainLookupStart":{"type":"integer"},"domainLookupEnd":{"type":"integer"},"fetchStart":{"type":"integer"},"isAnon":{"required":!0,"type":"boolean"},"isHttp2":{"type":"boolean"},"isHiDPI":{"type":"boolean"},"loadEventEnd":{"type":"integer"},"loadEventStart":{"type":"integer"},"mobileMode":{"enum":["alpha","beta","stable"],"type":"string"},"mediaWikiVersion":{"type":"string"},"originCountry":{
"type":"string"},"originRegion":{"type":"string"},"pageId":{"type":"integer"},"namespaceId":{"type":"integer"},"redirectCount":{"type":"integer"},"redirecting":{"type":"integer"},"redirectStart":{"type":"integer"},"redirectEnd":{"type":"integer"},"requestStart":{"type":"integer"},"responseEnd":{"type":"integer"},"responseStart":{"type":"integer"},"secureConnectionStart":{"type":"integer"},"unloadEventStart":{"type":"integer"},"unloadEventEnd":{"type":"integer"},"mediaWikiLoadComplete":{"type":"integer"},"mediaWikiLoadStart":{"type":"integer"},"mediaWikiLoadEnd":{"type":"integer"},"revId":{"type":"integer"},"firstPaint":{"type":"integer"}}},"revision":15485142});});mw.loader.implement("schema.SaveTiming@10h98u7",function($,jQuery,require,module){mediaWiki.eventLog.declareSchema("SaveTiming",{"schema":{"title":"SaveTiming","properties":{"saveTiming":{"type":"integer","required":!0},"mediaWikiVersion":{"type":"string"}}},"revision":15396492});});mw.loader.implement("schema.UniversalLanguageSelector@1ld3j2q",function($,jQuery,require,module){mediaWiki.eventLog.declareSchema("UniversalLanguageSelector",{"schema":{"title":"UniversalLanguageSelector","properties":{"version":{"type":"integer","required":!0},"token":{"type":"string","required":!0},"action":{"type":"string","enum":["ime-change","ime-enable","ime-disable","language-change","font-change","no-search-results","login-click","settings-open","ui-lang-revert","more-languages-access","webfonts-enable","webfonts-disable"],"required":!0},"context":{"type":"string","required":!1},"interfaceLanguage":{"type":"string","required":!0},"contentLanguage":{"type":"string","required":!0},"inputMethod":{"type":"string","required":!1},"contentFont":{"type":"string","required":!1},"interfaceFont":{"type":"string","required":!1},"languageSelectionMethod":{"type":"string","required":!1,"enum":["map","search","common"]}}},"revision":7327441});});