/*!
 * jQuery Form Plugin
 * version: 3.18 (28-SEP-2012)
 * @requires jQuery v1.5 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses:
 *    http://malsup.github.com/mit-license.txt
 *    http://malsup.github.com/gpl-license-v2.txt
 */
(function(f){var d={};d.fileapi=f("<input type='file'/>").get(0).files!==undefined;d.formdata=window.FormData!==undefined;f.fn.ajaxSubmit=function(j){if(!this.length){e("ajaxSubmit: skipping submit process - no element selected");return this}var h,B,m,o=this;if(typeof j=="function"){j={success:j}}h=this.attr("method");B=this.attr("action");m=(typeof B==="string")?f.trim(B):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:h||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var v={};this.trigger("form-pre-serialize",[this,j,v]);
if(v.veto){e("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){e("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var t=[];var E,F=this.formToArray(j.semantic,t);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){e("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,v]);if(v.veto){e("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var z=f.param(F,n);if(E){z=(z?(z+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+z;j.data=null}else{j.data=z}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";
f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};var D=f("input:file:enabled[value]",this);var p=D.length>0;var C="multipart/form-data";var y=(o.attr("enctype")==C||o.attr("encoding")==C);var x=d.fileapi&&d.formdata;e("fileAPI :"+x);var r=(p||y)&&!x;var w;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){w=G(F)})}else{w=G(F)}}else{if((p||y)&&x){w=u(F)}else{w=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",w);for(var A=0;A<t.length;A++){t[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K).split("&");var q=L.length;var k={};var J,I;for(J=0;J<q;J++){I=L[J].split("=");k[decodeURIComponent(I[0])]=decodeURIComponent(I[1])}return k}function u(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(var M in L){if(L.hasOwnProperty(M)){k.append(M,L[M])
}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:h||"POST"});if(j.uploadProgress){K.xhr=function(){var N=jQuery.ajaxSettings.xhr();if(N.upload){N.upload.onprogress=function(R){var Q=0;var O=R.loaded||R.position;var P=R.total;if(R.lengthComputable){Q=Math.ceil(O/P*100)}j.uploadProgress(R,O,P,Q)}}return N}}K.data=null;var J=K.beforeSend;K.beforeSend=function(O,N){N.data=k;if(J){J.call(this,O,N)}};return f.ajax(K)}function G(ag){var L=o[0],K,ac,W,ae,Z,N,R,P,Q,aa,ad,U;var O=!!f.fn.prop;var aj=f.Deferred();if(f(":input[name=submit],:input[id=submit]",L).length){alert('Error: Form elements must not have name or id of "submit".');aj.reject();return aj}if(ag){for(ac=0;ac<t.length;ac++){K=f(t[ac]);if(O){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}W=f.extend(true,{},f.ajaxSettings,j);W.context=W.context||W;Z="jqFormIO"+(new Date().getTime());if(W.iframeTarget){N=f(W.iframeTarget);aa=N.attr("name");if(!aa){N.attr("name",Z)}else{Z=aa
}}else{N=f('<iframe name="'+Z+'" src="'+W.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}R=N[0];P={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ak){var al=(ak==="timeout"?"timeout":"aborted");e("aborting upload... "+al);this.aborted=1;if(R.contentWindow.document.execCommand){try{R.contentWindow.document.execCommand("Stop")}catch(am){}}N.attr("src",W.iframeSrc);P.error=al;if(W.error){W.error.call(W.context,P,al,ak)}if(ae){f.event.trigger("ajaxError",[P,W,al])}if(W.complete){W.complete.call(W.context,P,al)}}};ae=W.global;if(ae&&0===f.active++){f.event.trigger("ajaxStart")}if(ae){f.event.trigger("ajaxSend",[P,W])}if(W.beforeSend&&W.beforeSend.call(W.context,P,W)===false){if(W.global){f.active--}aj.reject();return aj}if(P.aborted){aj.reject();return aj}Q=L.clk;if(Q){aa=Q.name;if(aa&&!Q.disabled){W.extraData=W.extraData||{};W.extraData[aa]=Q.value;
if(Q.type=="image"){W.extraData[aa+".x"]=L.clk_x;W.extraData[aa+".y"]=L.clk_y}}}var V=1;var S=2;function T(al){var ak=al.contentWindow?al.contentWindow.document:al.contentDocument?al.contentDocument:al.document;return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){W.extraData=W.extraData||{};W.extraData[I]=J}function ab(){var am=o.attr("target"),ak=o.attr("action");L.setAttribute("target",Z);if(!h){L.setAttribute("method","POST")}if(ak!=W.url){L.setAttribute("action",W.url)}if(!W.skipEncodingOverride&&(!h||/post/i.test(h))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(W.timeout){U=setTimeout(function(){ad=true;Y(V)},W.timeout)}function an(){try{var ap=T(R).readyState;e("state = "+ap);if(ap&&ap.toLowerCase()=="uninitialized"){setTimeout(an,50)}}catch(aq){e("Server abort: ",aq," (",aq.name,")");Y(S);if(U){clearTimeout(U)}U=undefined}}var al=[];try{if(W.extraData){for(var ao in W.extraData){if(W.extraData.hasOwnProperty(ao)){if(f.isPlainObject(W.extraData[ao])&&W.extraData[ao].hasOwnProperty("name")&&W.extraData[ao].hasOwnProperty("value")){al.push(f('<input type="hidden" name="'+W.extraData[ao].name+'">').attr("value",W.extraData[ao].value).appendTo(L)[0])
}else{al.push(f('<input type="hidden" name="'+ao+'">').attr("value",W.extraData[ao]).appendTo(L)[0])}}}}if(!W.iframeTarget){N.appendTo("body");if(R.attachEvent){R.attachEvent("onload",Y)}else{R.addEventListener("load",Y,false)}}setTimeout(an,15);L.submit()}finally{L.setAttribute("action",ak);if(am){L.setAttribute("target",am)}else{o.removeAttr("target")}f(al).remove()}}if(W.forceSync){ab()}else{setTimeout(ab,10)}var ah,ai,af=50,M;function Y(ap){if(P.aborted||M){return}try{ai=T(R)}catch(at){e("cannot access response document: ",at);ap=S}if(ap===V&&P){P.abort("timeout");aj.reject(P,"timeout");return}else{if(ap==S&&P){P.abort("server abort");aj.reject(P,"error","server abort");return}}if(!ai||ai.location.href==W.iframeSrc){if(!ad){return}}if(R.detachEvent){R.detachEvent("onload",Y)}else{R.removeEventListener("load",Y,false)}var an="success",ar;try{if(ad){throw"timeout"}var am=W.dataType=="xml"||ai.XMLDocument||f.isXMLDoc(ai);e("isXml="+am);if(!am&&window.opera&&(ai.body===null||!ai.body.innerHTML)){if(--af){e("requeing onLoad callback, DOM not available");
setTimeout(Y,250);return}}var au=ai.body?ai.body:ai.documentElement;P.responseText=au?au.innerHTML:null;P.responseXML=ai.XMLDocument?ai.XMLDocument:ai;if(am){W.dataType="xml"}P.getResponseHeader=function(ax){var aw={"content-type":W.dataType};return aw[ax]};if(au){P.status=Number(au.getAttribute("status"))||P.status;P.statusText=au.getAttribute("statusText")||P.statusText}var ak=(W.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(ak);if(aq||W.textarea){var ao=ai.getElementsByTagName("textarea")[0];if(ao){P.responseText=ao.value;P.status=Number(ao.getAttribute("status"))||P.status;P.statusText=ao.getAttribute("statusText")||P.statusText}else{if(aq){var al=ai.getElementsByTagName("pre")[0];var av=ai.getElementsByTagName("body")[0];if(al){P.responseText=al.textContent?al.textContent:al.innerText}else{if(av){P.responseText=av.textContent?av.textContent:av.innerText}}}}}else{if(ak=="xml"&&!P.responseXML&&P.responseText){P.responseXML=X(P.responseText)}}try{ah=k(P,ak,W)}catch(ap){an="parsererror";
P.error=ar=(ap||an)}}catch(ap){e("error caught: ",ap);an="error";P.error=ar=(ap||an)}if(P.aborted){e("upload aborted");an=null}if(P.status){an=(P.status>=200&&P.status<300||P.status===304)?"success":"error"}if(an==="success"){if(W.success){W.success.call(W.context,ah,"success",P)}aj.resolve(P.responseText,"success",P);if(ae){f.event.trigger("ajaxSuccess",[P,W])}}else{if(an){if(ar===undefined){ar=P.statusText}if(W.error){W.error.call(W.context,P,an,ar)}aj.reject(P,"error",ar);if(ae){f.event.trigger("ajaxError",[P,W,ar])}}}if(ae){f.event.trigger("ajaxComplete",[P,W])}if(ae&&!--f.active){f.event.trigger("ajaxStop")}if(W.complete){W.complete.call(W.context,P,an)}M=true;if(W.timeout){clearTimeout(U)}setTimeout(function(){if(!W.iframeTarget){N.remove()}P.responseXML=null},100)}var X=f.parseXML||function(ak,al){if(window.ActiveXObject){al=new ActiveXObject("Microsoft.XMLDOM");al.async="false";al.loadXML(ak)}else{al=(new DOMParser()).parseFromString(ak,"text/xml")}return(al&&al.documentElement&&al.documentElement.nodeName!="parsererror")?al:null
};var q=f.parseJSON||function(ak){return window["eval"]("("+ak+")")};var k=function(ap,an,am){var al=ap.getResponseHeader("content-type")||"",ak=an==="xml"||!an&&al.indexOf("xml")>=0,ao=ak?ap.responseXML:ap.responseText;if(ak&&ao.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(am&&am.dataFilter){ao=am.dataFilter(ao,an)}if(typeof ao==="string"){if(an==="json"||!an&&al.indexOf("json")>=0){ao=q(ao)}else{if(an==="script"||!an&&al.indexOf("javascript")>=0){f.globalEval(ao)}}}return ao};return aj}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){e("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}e("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);
return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(this).ajaxSubmit(g)}}function a(l){var k=l.target;var h=f(k);if(!(h.is(":submit,input:image"))){var g=h.closest(":submit");if(g.length===0){return}k=g[0]}var j=this;j.clk=k;if(k.type=="image"){if(l.offsetX!==undefined){j.clk_x=l.offsetX;j.clk_y=l.offsetY}else{if(typeof f.fn.offset=="function"){var m=h.offset();j.clk_x=l.pageX-m.left;j.clk_y=l.pageY-m.top}else{j.clk_x=l.pageX-k.offsetLeft;j.clk_y=l.pageY-k.offsetTop}}}setTimeout(function(){j.clk=j.clk_x=j.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(y,g){var x=[];if(this.length===0){return x}var l=this[0];var p=y?l.getElementsByTagName("*"):l.elements;if(!p){return x}var r,q,o,z,m,u,k;for(r=0,u=p.length;r<u;r++){m=p[r];o=m.name;if(!o){continue}if(y&&l.clk&&m.type=="image"){if(!m.disabled&&l.clk==m){x.push({name:o,value:f(m).val(),type:m.type});
x.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}z=f.fieldValue(m,true);if(z&&z.constructor==Array){if(g){g.push(m)}for(q=0,k=z.length;q<k;q++){x.push({name:o,value:z[q]})}}else{if(d.fileapi&&m.type=="file"&&!m.disabled){if(g){g.push(m)}var h=m.files;if(h.length){for(q=0;q<h.length;q++){x.push({name:o,value:h[q],type:m.type})}}else{x.push({name:o,value:"",type:m.type})}}else{if(z!==null&&typeof z!="undefined"){if(g){g.push(m)}x.push({name:o,value:z,type:m.type,required:m.required})}}}}if(!y&&l.clk){var t=f(l.clk),w=t[0];o=w.name;if(o&&!w.disabled&&w.type=="image"){x.push({name:o,value:t.val()});x.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return x};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})
}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,w=g.type,x=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||w=="reset"||w=="button"||(w=="checkbox"||w=="radio")&&!g.checked||(w=="submit"||w=="image")&&g.form&&g.form.clk!=g||x=="select"&&g.selectedIndex==-1)){return null}if(x=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(w=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var u=m.value;if(!u){u=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return u}r.push(u)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})
};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var k=this.type,j=this.tagName.toLowerCase();if(h.test(k)||j=="textarea"){this.value=""}else{if(k=="checkbox"||k=="radio"){this.checked=false}else{if(j=="select"){this.selectedIndex=-1}else{if(g){if((g===true&&/hidden/.test(k))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var j=f(this).parent("select");if(g&&j[0]&&j[0].type=="select-one"){j.find("option").selected(false)
}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function e(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}})(jQuery);if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;
function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;
i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);
if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null"}var type=typeof o;if(type==="undefined"){return undefined}if(type==="number"||type==="boolean"){return""+o}if(type==="string"){return $.quoteString(o)}if(type==="object"){if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON())
}if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month="0"+month}if(day<10){day="0"+day}if(hours<10){hours="0"+hours}if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}if(milli<100){milli="0"+milli}if(milli<10){milli="0"+milli}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"'}if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||"null")}return"["+ret.join(",")+"]"}var name,val,pairs=[];for(var k in o){type=typeof k;if(type==="number"){name='"'+k+'"'}else{if(type==="string"){name=$.quoteString(k)}else{continue}}type=typeof o[k];if(type==="function"||type==="undefined"){continue}val=$.toJSON(o[k]);pairs.push(name+":"+val)}return"{"+pairs.join(",")+"}"}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")
};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+src+")")}else{throw new SyntaxError("Error parsing JSON, source is not valid.")}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+string+'"'}})(jQuery);var sActionLinkBodySet=false;var sActionLinkBodySet2=false;(function(a){a.fn.sActionLinks=function(e){var g=a.extend({},a.fn.sActionLinks.defaults,e);if(g.hide_all){a(".action-links-unfold").removeClass("active").next().hide();a(".sActionLinksVisible").removeClass("sActionLinksVisible");return}var h=e.hidden;var k=e.wrapper;var d=e.rowClass;var f=a(this);
if(h&&g.onTargetSelector==""){f.unbind("mouseenter").bind("mouseenter",function(m){var l=a(this);if(k.length>0){a(k,l).addClass("sActionLinksVisible")}});f.unbind("mouseleave").bind("mouseleave",function(){var l=a(this);if(!a(".action-links",l).is(":visible")){if(k.length>0){a(k,l).removeClass("sActionLinksVisible")}a(".action-links",l).hide()}}).trigger("mouseleave")}a(".action-links-unfold").data("s_actionlinks_opts",g);if(g.onTargetSelector!=""){a(f).off("click.sactionlinks").on("click.sactionlinks",g.onTargetSelector+" .action-links-unfold",j).on("click.sactionlinks",g.onTargetSelector+" .action-links a",b)}else{a(".action-links-unfold",f).unbind("click.sactionlinks").bind("click.sactionlinks",j);a(".action-links a",f).unbind("click.sactionlinks").bind("click.sactionlinks",b)}function j(l){a(".keep-open").each(function(){a(this).trigger("sActionsClicked")});l.stopPropagation();if(!a(this).hasClass("disabled")){a(this).toggleClass("active").next().toggle();a(".action-links-unfold").not(a(this)).removeClass("active").next().hide();
a(".sActionLinksVisible").not(a(this).parents(".sActionLinksVisible")).removeClass("sActionLinksVisible");if(a(this).hasClass("active")){f.trigger("mouseenter");a(document).unbind("click.sactionlinks").bind("click.sactionlinks",function(p){var n=a(p.target).parents("li");var m=n.parent(".action-links").siblings(".action-links-unfold");var o=m.data("s_actionlinks_opts");if(typeof o=="object"&&o&&o.stay_open){return}a(".action-links-unfold").not(n).not(".keep-open").removeClass("active").next().hide();if(a(".action-links-unfold.active").size()==0){a(document).unbind("click.sactionlinks");a(k,f).removeClass("sActionLinksVisible")}})}else{f.trigger("mouseleave");a(document).unbind("click.sactionlinks")}}}function b(n){var l=a(this).parents(".action-links");var m=l.siblings(".action-links-unfold");l.hide();m.removeClass("active")}};a.fn.sActionLinks.defaults={hidden:true,hide_all:false,stay_open:false,onTargetSelector:""}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)
},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a
},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m
}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return j/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return j/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a
}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});(function(a){jQuery.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var h=jQuery(this),d=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}).addClass("s-js-elastic-twin"),k=parseInt(h.css("line-height"),10)||parseInt(h.css("font-size"),"10"),m=parseInt(h.css("height"),10)||k*3,l=parseInt(h.css("max-height"),10)||Number.MAX_VALUE,e=0;
if(l<0){l=Number.MAX_VALUE}d.appendTo(h.parent());var g=b.length;while(g--){d.css(b[g].toString(),h.css(b[g].toString()))}function j(){var o=Math.floor(parseInt(h.width(),10));if(d.width()!==o){d.css({width:o+"px"});f(true)}}function n(o,q){var p=Math.floor(parseInt(o,10));if(h.height()!==p){h.css({height:p+"px",overflow:q})}}function f(r){var q=h.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var o=d.html().replace(/<br>/ig,"<br />");if(r||q+"&nbsp;"!==o){d.html(q+"&nbsp;");if(Math.abs(d.height()+k-h.height())>3){var p=d.height()+k;if(p>=l){n(l,"auto")}else{if(p<=m){n(m,"hidden")}else{n(p,"hidden")}}}a(document).trigger("jq_elastic_update_done",[h,d])}}h.css({overflow:"hidden"});h.bind("keyup change cut paste",function(){f()});a(window).bind("resize",j);h.bind("resize",j);h.bind("update",f);h.bind("blur",function(){if(d.height()<l){if(d.height()>m){h.height(d.height())}else{h.height(m)}}});h.bind("input paste",function(o){setTimeout(f,250)
});f()})}})})(jQuery);
/*! jQuery UI - v1.9.0 - 2012-10-05
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(g,b){function a(k,p){var l,j,m,e=k.nodeName.toLowerCase();
return"area"===e?(l=k.parentNode,j=l.name,!k.href||!j||l.nodeName.toLowerCase()!=="map"?!1:(m=g("img[usemap=#"+j+"]")[0],!!m&&d(m))):(/input|select|textarea|button|object/.test(e)?!k.disabled:"a"===e?k.href||p:p)&&d(k)}function d(e){return !g(e).parents().andSelf().filter(function(){return g.css(this,"visibility")==="hidden"||g.expr.filters.hidden(this)}).length}var h=0,f=/^ui-id-\d+$/;g.ui=g.ui||{};if(g.ui.version){return}g.extend(g.ui,{version:"1.9.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({_focus:g.fn.focus,focus:function(e,j){return typeof e=="number"?this.each(function(){var k=this;setTimeout(function(){g(k).focus(),j&&j.call(k)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return g.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?e=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))
}).eq(0):e=this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?g(document):e},zIndex:function(l){if(l!==b){return this.css("zIndex",l)}if(this.length){var k=g(this[0]),e,j;while(k.length&&k[0]!==document){e=k.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){j=parseInt(k.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}k=k.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++h)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&g(this).removeAttr("id")})}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(p,l){function e(o,v,u,q){return g.each(j,function(){v-=parseFloat(g.css(o,"padding"+this))||0,u&&(v-=parseFloat(g.css(o,"border"+this+"Width"))||0),q&&(v-=parseFloat(g.css(o,"margin"+this))||0)}),v}var j=l==="Width"?["Left","Right"]:["Top","Bottom"],k=l.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};
g.fn["inner"+l]=function(o){return o===b?m["inner"+l].call(this):this.each(function(){g(this).css(k,e(this,o)+"px")})},g.fn["outer"+l]=function(o,q){return typeof o!="number"?m["outer"+l].call(this,o):this.each(function(){g(this).css(k,e(this,o,!0,q)+"px")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(e){return function(j){return !!g.data(j,e)}}):function(e,k,j){return !!g.data(e,j[3])},focusable:function(e){return a(e,!isNaN(g.attr(e,"tabindex")))},tabbable:function(e){var k=g.attr(e,"tabindex"),j=isNaN(k);return(j||k>=0)&&a(e,!j)}}),g(function(){var e=document.body,j=e.appendChild(j=document.createElement("div"));j.offsetHeight,g.extend(j.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),g.support.minHeight=j.offsetHeight===100,g.support.selectstart="onselectstart" in j,e.removeChild(j).style.display="none"}),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(j){j.preventDefault()
})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(j,m,l){var e,k=g.ui[j].prototype;for(e in l){k.plugins[e]=k.plugins[e]||[],k.plugins[e].push([m,l[e]])}},call:function(m,k,o){var l,j=m.plugins[k];if(!j||!m.element[0].parentNode||m.element[0].parentNode.nodeType===11){return}for(l=0;l<j.length;l++){m.options[j[l][0]]&&j[l][1].apply(m.element,o)}}},contains:g.contains,hasScroll:function(j,l){if(g(j).css("overflow")==="hidden"){return !1}var k=l&&l==="left"?"scrollLeft":"scrollTop",e=!1;return j[k]>0?!0:(j[k]=1,e=j[k]>0,j[k]=0,e)},isOverAxis:function(k,j,l){return k>j&&k<j+l},isOver:function(j,p,l,e,k,m){return g.ui.isOverAxis(j,l,k)&&g.ui.isOverAxis(p,e,m)}})})(jQuery);(function(f,b){var g=0,d=Array.prototype.slice,a=f.cleanData;f.cleanData=function(e){for(var k=0,j;(j=e[k])!=null;k++){try{f(j).triggerHandler("remove")}catch(h){}}a(e)},f.widget=function(k,q,m){var j,l,p,h,e=k.split(".")[0];k=k.split(".")[1],j=e+"-"+k,m||(m=q,q=f.Widget),f.expr[":"][j.toLowerCase()]=function(n){return !!f.data(n,j)
},f[e]=f[e]||{},l=f[e][k],p=f[e][k]=function(o,n){if(!this._createWidget){return new p(o,n)}arguments.length&&this._createWidget(o,n)},f.extend(p,l,{version:m.version,_proto:f.extend({},m),_childConstructors:[]}),h=new q,h.options=f.widget.extend({},h.options),f.each(m,function(o,n){f.isFunction(n)&&(m[o]=function(){var u=function(){return q.prototype[o].apply(this,arguments)},t=function(r){return q.prototype[o].apply(this,r)};return function(){var r=this._super,w=this._superApply,v;return this._super=u,this._superApply=t,v=n.apply(this,arguments),this._super=r,this._superApply=w,v}}())}),p.prototype=f.widget.extend(h,{widgetEventPrefix:k},m,{constructor:p,namespace:e,widgetName:k,widgetBaseClass:j,widgetFullName:j}),l?(f.each(l._childConstructors,function(o,v){var u=v.prototype;f.widget(u.namespace+"."+u.widgetName,p,v._proto)}),delete l._childConstructors):q._childConstructors.push(p),f.widget.bridge(k,p)},f.widget.extend=function(m){var j=d.call(arguments,1),k=0,l=j.length,h,e;for(;k<l;
k++){for(h in j[k]){e=j[k][h],j[k].hasOwnProperty(h)&&e!==b&&(m[h]=f.isPlainObject(e)?f.widget.extend({},m[h],e):e)}}return m},f.widget.bridge=function(j,e){var h=e.prototype.widgetFullName;f.fn[j]=function(n){var l=typeof n=="string",k=d.call(arguments,1),m=this;return n=!l&&k.length?f.widget.extend.apply(null,[n].concat(k)):n,l?this.each(function(){var p,o=f.data(this,h);if(!o){return f.error("cannot call methods on "+j+" prior to initialization; attempted to call method '"+n+"'")}if(!f.isFunction(o[n])||n.charAt(0)==="_"){return f.error("no such method '"+n+"' for "+j+" widget instance")}p=o[n].apply(o,k);if(p!==o&&p!==b){return m=p&&p.jquery?m.pushStack(p.get()):p,!1}}):this.each(function(){var o=f.data(this,h);o?o.option(n||{})._init():new e(n,this)}),m}},f.Widget=function(j,h){},f.Widget._childConstructors=[],f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,h){h=f(h||this.defaultElement||this)[0],this.element=f(h),this.uuid=g++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=f.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=f(),this.hoverable=f(),this.focusable=f(),h!==this&&(f.data(h,this.widgetName,this),f.data(h,this.widgetFullName,this),this._on({remove:"destroy"}),this.document=f(h.style?h.ownerDocument:h.document||h),this.window=f(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()
},_getCreateOptions:f.noop,_getCreateEventData:f.noop,_create:f.noop,_init:f.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(f.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:f.noop,widget:function(){return this.element},option:function(m,k){var h=m,j,l,e;if(arguments.length===0){return f.widget.extend({},this.options)}if(typeof m=="string"){h={},j=m.split("."),m=j.shift();if(j.length){l=h[m]=f.widget.extend({},this.options[m]);for(e=0;e<j.length-1;e++){l[j[e]]=l[j[e]]||{},l=l[j[e]]}m=j.pop();if(k===b){return l[m]===b?null:l[m]}l[m]=k}else{if(k===b){return this.options[m]===b?null:this.options[m]}h[m]=k}}return this._setOptions(h),this
},_setOptions:function(j){var h;for(h in j){this._setOption(h,j[h])}return this},_setOption:function(j,h){return this.options[j]=h,j==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,j){j?(e=f(e),this.bindings=this.bindings.add(e)):(j=e,e=this.element);var h=this;f.each(j,function(r,m){function p(){if(h.options.disabled===!0||f(this).hasClass("ui-state-disabled")){return}return(typeof m=="string"?h[m]:m).apply(h,arguments)}typeof m!="string"&&(p.guid=m.guid=m.guid||p.guid||f.guid++);var q=r.match(/^(\w+)\s*(.*)$/),l=q[1]+h.eventNamespace,k=q[2];k?h.widget().delegate(k,l,p):e.bind(l,p)})},_off:function(j,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,j.unbind(h).undelegate(h)
},_delay:function(k,h){function l(){return(typeof k=="string"?j[k]:k).apply(j,arguments)}var j=this;return setTimeout(l,h||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(h){f(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){f(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(h){f(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){f(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(h,m,k){var e,j,l=this.options[h];k=k||{},m=f.Event(m),m.type=(h===this.widgetEventPrefix?h:this.widgetEventPrefix+h).toLowerCase(),m.target=this.element[0],j=m.originalEvent;if(j){for(e in j){e in m||(m[e]=j[e])}}return this.element.trigger(m,k),!(f.isFunction(l)&&l.apply(this.element[0],[m].concat(k))===!1||m.isDefaultPrevented())}},f.each({show:"fadeIn",hide:"fadeOut"},function(e,h){f.Widget.prototype["_"+e]=function(m,k,l){typeof k=="string"&&(k={effect:k});
var n,j=k?k===!0||typeof k=="number"?h:k.effect||h:e;k=k||{},typeof k=="number"&&(k={duration:k}),n=!f.isEmptyObject(k),k.complete=l,k.delay&&m.delay(k.delay),n&&f.effects&&(f.effects.effect[j]||f.uiBackCompat!==!1&&f.effects[j])?m[e](k):j!==e&&m[j]?m[j](k.duration,k.easing,l):m.queue(function(o){f(this)[e](),l&&l.call(m[0]),o()})}}),f.uiBackCompat!==!1&&(f.Widget.prototype._getCreateOptions=function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(b,a){var d=!1;b(document).mouseup(function(f){d=!1}),b.widget("ui.mouse",{version:"1.9.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(!0===b.data(f.target,e.widgetName+".preventClickEvent")){return b.removeData(f.target,e.widgetName+".preventClickEvent"),f.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)
},_mouseDown:function(f){if(d){return}this._mouseStarted&&this._mouseUp(f),this._mouseDownEvent=f;var h=this,e=f.which===1,g=typeof this.options.cancel=="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:!1;if(!e||g||!this._mouseCapture(f)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=this._mouseStart(f)!==!1;if(!this._mouseStarted){return f.preventDefault(),!0}}return !0===b.data(f.target,this.widgetName+".preventClickEvent")&&b.removeData(f.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(j){return h._mouseMove(j)},this._mouseUpDelegate=function(j){return h._mouseUp(j)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),f.preventDefault(),d=!0,!0},_mouseMove:function(e){return !b.browser.msie||document.documentMode>=9||!!e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)
},_mouseUp:function(e){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&b.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(f){return Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance},_mouseDelayMet:function(f){return this.mouseDelayMet},_mouseStart:function(f){},_mouseDrag:function(f){},_mouseStop:function(f){},_mouseCapture:function(f){return !0}})})(jQuery);(function(w,A){function q(f,a,h){return[parseInt(f[0],10)*(k.test(f[0])?a/100:1),parseInt(f[1],10)*(k.test(f[1])?h/100:1)]}function d(a,e){return parseInt(w.css(a,e),10)||0}w.ui=w.ui||{};var j,b=Math.max,m=Math.abs,B=Math.round,g=/left|center|right/,z=/top|center|bottom/,y=/[\+\-]\d+%?/,v=/^\w+/,k=/%$/,x=w.fn.position;w.position={scrollbarWidth:function(){if(j!==A){return j
}var f,a,e=w("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),h=e.children()[0];return w("body").append(e),f=h.offsetWidth,e.css("overflow","scroll"),a=h.offsetWidth,f===a&&(a=e[0].clientWidth),e.remove(),j=f-a},getScrollInfo:function(e){var l=e.isWindow?"":e.element.css("overflow-x"),h=e.isWindow?"":e.element.css("overflow-y"),a=l==="scroll"||l==="auto"&&e.width<e.element[0].scrollWidth,f=h==="scroll"||h==="auto"&&e.height<e.element[0].scrollHeight;return{width:a?w.position.scrollbarWidth():0,height:f?w.position.scrollbarWidth():0}},getWithinInfo:function(a){var f=w(a||window),e=w.isWindow(f[0]);return{element:f,isWindow:e,offset:f.offset()||{left:0,top:0},scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop(),width:e?f.width():f.outerWidth(),height:e?f.height():f.outerHeight()}}},w.fn.position=function(F){if(!F||!F.of){return x.apply(this,arguments)}F=w.extend({},F);var a,f,p,D,e,o=w(F.of),u=w.position.getWithinInfo(F.within),r=w.position.getScrollInfo(u),C=o[0],G=(F.collision||"flip").split(" "),h={};
return C.nodeType===9?(f=o.width(),p=o.height(),D={top:0,left:0}):w.isWindow(C)?(f=o.width(),p=o.height(),D={top:o.scrollTop(),left:o.scrollLeft()}):C.preventDefault?(F.at="left top",f=p=0,D={top:C.pageY,left:C.pageX}):(f=o.outerWidth(),p=o.outerHeight(),D=o.offset()),e=w.extend({},D),w.each(["my","at"],function(){var t=(F[this]||"").split(" "),E,l;t.length===1&&(t=g.test(t[0])?t.concat(["center"]):z.test(t[0])?["center"].concat(t):["center","center"]),t[0]=g.test(t[0])?t[0]:"center",t[1]=z.test(t[1])?t[1]:"center",E=y.exec(t[0]),l=y.exec(t[1]),h[this]=[E?E[0]:0,l?l[0]:0],F[this]=[v.exec(t[0])[0],v.exec(t[1])[0]]}),G.length===1&&(G[1]=G[0]),F.at[0]==="right"?e.left+=f:F.at[0]==="center"&&(e.left+=f/2),F.at[1]==="bottom"?e.top+=p:F.at[1]==="center"&&(e.top+=p/2),a=q(h.at,f,p),e.left+=a[0],e.top+=a[1],this.each(function(){var n,O,K=w(this),H=K.outerWidth(),J=K.outerHeight(),M=d(this,"marginLeft"),L=d(this,"marginTop"),E=H+M+d(this,"marginRight")+r.width,I=J+L+d(this,"marginBottom")+r.height,l=w.extend({},e),t=q(h.my,K.outerWidth(),K.outerHeight());
F.my[0]==="right"?l.left-=H:F.my[0]==="center"&&(l.left-=H/2),F.my[1]==="bottom"?l.top-=J:F.my[1]==="center"&&(l.top-=J/2),l.left+=t[0],l.top+=t[1],w.support.offsetFractions||(l.left=B(l.left),l.top=B(l.top)),n={marginLeft:M,marginTop:L},w.each(["left","top"],function(P,N){w.ui.position[G[P]]&&w.ui.position[G[P]][N](l,{targetWidth:f,targetHeight:p,elemWidth:H,elemHeight:J,collisionPosition:n,collisionWidth:E,collisionHeight:I,offset:[a[0]+t[0],a[1]+t[1]],my:F.my,at:F.at,within:u,elem:K})}),w.fn.bgiframe&&K.bgiframe(),F.using&&(O=function(R){var T=D.left-l.left,Q=T+f-H,S=D.top-l.top,N=S+p-J,P={target:{element:o,left:D.left,top:D.top,width:f,height:p},element:{element:K,left:l.left,top:l.top,width:H,height:J},horizontal:Q<0?"left":T>0?"right":"center",vertical:N<0?"top":S>0?"bottom":"middle"};f<H&&m(T+Q)<f&&(P.horizontal="center"),p<J&&m(S+N)<p&&(P.vertical="middle"),b(m(T),m(Q))>b(m(S),m(N))?P.important="horizontal":P.important="vertical",F.using.call(this,R,P)}),K.offset(w.extend(l,{using:O}))
})},w.ui.position={fit:{left:function(C,F){var l=F.within,p=l.isWindow?l.scrollLeft:l.offset.left,G=l.width,h=C.left-F.collisionPosition.marginLeft,E=p-h,D=h+F.collisionWidth-G-p,r;F.collisionWidth>G?E>0&&D<=0?(r=C.left+E+F.collisionWidth-G-p,C.left+=E-r):D>0&&E<=0?C.left=p:E>D?C.left=p+G-F.collisionWidth:C.left=p:E>0?C.left+=E:D>0?C.left-=D:C.left=b(C.left-h,C.left)},top:function(C,F){var l=F.within,p=l.isWindow?l.scrollTop:l.offset.top,G=F.within.height,h=C.top-F.collisionPosition.marginTop,E=p-h,D=h+F.collisionHeight-G-p,r;F.collisionHeight>G?E>0&&D<=0?(r=C.top+E+F.collisionHeight-G-p,C.top+=E-r):D>0&&E<=0?C.top=p:E>D?C.top=p+G-F.collisionHeight:C.top=p:E>0?C.top+=E:D>0?C.top-=D:C.top=b(C.top-h,C.top)}},flip:{left:function(J,O){var F=O.within,C=F.offset.left+F.scrollLeft,P=F.width,E=F.isWindow?F.scrollLeft:F.offset.left,N=J.left-O.collisionPosition.marginLeft,M=N-E,I=N+O.collisionWidth-P-E,G=O.my[0]==="left"?-O.elemWidth:O.my[0]==="right"?O.elemWidth:0,L=O.at[0]==="left"?O.targetWidth:O.at[0]==="right"?-O.targetWidth:0,H=-2*O.offset[0],D,K;
if(M<0){D=J.left+G+L+H+O.collisionWidth-P-C;if(D<0||D<m(M)){J.left+=G+L+H}}else{if(I>0){K=J.left-O.collisionPosition.marginLeft+G+L+H-E;if(K>0||m(K)<I){J.left+=G+L+H}}}},top:function(J,P){var F=P.within,C=F.offset.top+F.scrollTop,Q=F.height,E=F.isWindow?F.scrollTop:F.offset.top,O=J.top-P.collisionPosition.marginTop,M=O-E,I=O+P.collisionHeight-Q-E,G=P.my[1]==="top",L=G?-P.elemHeight:P.my[1]==="bottom"?P.elemHeight:0,H=P.at[1]==="top"?P.targetHeight:P.at[1]==="bottom"?-P.targetHeight:0,D=-2*P.offset[1],K,N;M<0?(N=J.top+L+H+D+P.collisionHeight-Q-C,J.top+L+H+D>M&&(N<0||N<m(M))&&(J.top+=L+H+D)):I>0&&(K=J.top-P.collisionPosition.marginTop+L+H+D-E,J.top+L+H+D>I&&(K>0||m(K)<I)&&(J.top+=L+H+D))}},flipfit:{left:function(){w.ui.position.flip.left.apply(this,arguments),w.ui.position.fit.left.apply(this,arguments)},top:function(){w.ui.position.flip.top.apply(this,arguments),w.ui.position.fit.top.apply(this,arguments)}}},function(){var f,C,l,e,h,p=document.getElementsByTagName("body")[0],a=document.createElement("div");
f=document.createElement(p?"div":"body"),l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},p&&w.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"});for(h in l){f.style[h]=l[h]}f.appendChild(a),C=p||document.documentElement,C.insertBefore(f,C.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",e=w(a).offset().left,w.support.offsetFractions=e>10&&e<11,f.innerHTML="",C.removeChild(f)}(),w.uiBackCompat!==!1&&function(a){var f=a.fn.position;a.fn.position=function(l){if(!l||!l.offset){return f.call(this,l)}var e=l.offset.split(" "),h=l.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),h.length===1&&(/left|center|right/.test(h[0])?h[1]="center":(h[1]=h[0],h[0]="center")),f.call(this,a.extend(l,{at:h[0]+e[0]+" "+h[1]+e[1],offset:A}))}}(jQuery)})(jQuery);(function(f,b){var g=0,d={},a={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",f.widget("ui.accordion",{version:"1.9.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.accordionId="ui-accordion-"+(this.element.attr("id")||++g),h=this.options;
this.prevShow=this.prevHide=f(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(h.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!h.collapsible&&h.active===!1&&(h.active=0),h.active<0&&(h.active+=this.headers.length),this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.originalHeight=this.element[0].style.height,this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(p){var l=f(this),j=l.attr("id"),k=l.next(),m=k.attr("id");j||(j=e+"-header-"+p,l.attr("id",j)),m||(m=e+"-panel-"+p,k.attr("id",m)),l.attr("aria-controls",m),k.attr("aria-labelledby",j)
}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(h.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():f()}},_createIcons:function(){var e=this.options.icons;e&&(f("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var h;
this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),h=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&(this.element.css("height",this.originalHeight),h.css("height",""))},_setOption:function(j,h){if(j==="active"){this._activate(h);return}j==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(h)),this._super(j,h),j==="collapsible"&&!h&&this.options.active===!1&&this._activate(0),j==="icons"&&(this._destroyIcons(),h&&this._createIcons()),j==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)
},_keydown:function(h){if(h.altKey||h.ctrlKey){return}var l=f.ui.keyCode,k=this.headers.length,e=this.headers.index(h.target),j=!1;switch(h.keyCode){case l.RIGHT:case l.DOWN:j=this.headers[(e+1)%k];break;case l.LEFT:case l.UP:j=this.headers[(e-1+k)%k];break;case l.SPACE:case l.ENTER:this._eventHandler(h);break;case l.HOME:j=this.headers[0];break;case l.END:j=this.headers[k-1]}j&&(f(h.target).attr("tabIndex",-1),f(j).attr("tabIndex",0),j.focus(),h.preventDefault())},_panelKeyDown:function(e){e.keyCode===f.ui.keyCode.UP&&e.ctrlKey&&f(e.currentTarget).prev().focus()},refresh:function(){var h,k,j=this.options.heightStyle,e=this.element.parent();this.element.css("height",this.originalHeight),j==="fill"?(f.support.minHeight||(k=e.css("overflow"),e.css("overflow","hidden")),h=e.height(),this.element.siblings(":visible").each(function(){var m=f(this),l=m.css("position");if(l==="absolute"||l==="fixed"){return}h-=m.outerHeight(!0)}),k&&e.css("overflow",k),this.headers.each(function(){h-=f(this).outerHeight(!0)
}),this.headers.next().each(function(){f(this).height(Math.max(0,h-f(this).innerHeight()+f(this).height()))}).css("overflow","auto")):j==="auto"&&(h=0,this.headers.next().each(function(){h=Math.max(h,f(this).height("").height())}).height(h)),j!=="content"&&this.element.height(this.element.height())},_activate:function(e){var h=this._findActive(e)[0];if(h===this.active[0]){return}h=h||this.active[0],this._eventHandler({target:h,currentTarget:h,preventDefault:f.noop})},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):f()},_setupEvents:function(e){var h={};if(!e){return}f.each(e.split(" "),function(k,j){h[j]="_eventHandler"}),this._on(this.headers,h)},_eventHandler:function(q){var j=this.options,e=this.active,k=f(q.currentTarget),v=k[0]===e[0],h=v&&j.collapsible,p=h?f():k.next(),m=e.next(),l={oldHeader:e,oldPanel:m,newHeader:h?f():k,newPanel:p};q.preventDefault();if(v&&!j.collapsible||this._trigger("beforeActivate",q,l)===!1){return}j.active=h?!1:this.headers.index(k),this.active=v?f():k,this._toggle(l),e.removeClass("ui-accordion-header-active ui-state-active"),j.icons&&e.children(".ui-accordion-header-icon").removeClass(j.icons.activeHeader).addClass(j.icons.header),v||(k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),j.icons&&k.children(".ui-accordion-header-icon").removeClass(j.icons.header).addClass(j.icons.activeHeader),k.next().addClass("ui-accordion-content-active"))
},_toggle:function(e){var j=e.newPanel,h=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=j,this.prevHide=h,this.options.animate?this._animate(j,h,e):(h.hide(),j.show(),this._toggleComplete(e)),h.attr({"aria-expanded":"false","aria-hidden":"true"}),h.prev().attr("aria-selected","false"),j.length&&h.length?h.prev().attr("tabIndex",-1):j.length&&this.headers.filter(function(){return f(this).attr("tabIndex")===0}).attr("tabIndex",-1),j.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(w,A,m){var B,k,z,y=this,v=0,q=w.length&&(!A.length||w.index()<A.index()),x=this.options.animate||{},r=q&&x.down||x,j=function(){y._toggleComplete(m)};typeof r=="number"&&(z=r),typeof r=="string"&&(k=r),k=k||r.easing||x.easing,z=z||r.duration||x.duration;if(!A.length){return w.animate(a,z,k,j)}if(!w.length){return A.animate(d,z,k,j)}B=w.show().outerHeight(),A.animate(d,{duration:z,easing:k,step:function(l,h){h.now=Math.round(l)
}}),w.hide().animate(a,{duration:z,easing:k,complete:j,step:function(h,l){l.now=Math.round(h),l.prop!=="height"?v+=l.now:y.options.heightStyle!=="content"&&(l.now=Math.round(B-A.outerHeight()-v),v=0)}})},_toggleComplete:function(j){var h=j.oldPanel;h.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),h.length&&(h.parent()[0].className=h.parent()[0].className),this._trigger("activate",null,j)}}),f.uiBackCompat!==!1&&(function(j,h){j.extend(h.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var k=h._create;h._create=function(){if(this.options.navigation){var l=this,n=this.element.find(this.options.header),e=n.next(),m=n.add(e).find("a").filter(this.options.navigationFilter)[0];m&&n.add(e).each(function(o){if(j.contains(this,m)){return l.options.active=Math.floor(o/2),!1}})}k.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(k,h){k.extend(h.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});
var l=h._create,j=h._setOption;k.extend(h,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),l.call(this)},_setOption:function(n,m){if(n==="autoHeight"||n==="clearStyle"||n==="fillSpace"){this.options.heightStyle=this._mergeHeightStyle()}j.apply(this,arguments)},_mergeHeightStyle:function(){var m=this.options;if(m.fillSpace){return"fill"}if(m.clearStyle){return"content"}if(m.autoHeight){return"auto"}}})}(jQuery,jQuery.ui.accordion.prototype),function(j,h){j.extend(h.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var k=h._createIcons;h._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),k.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(j,h){h.activate=h._activate;var k=h._findActive;h._findActive=function(l){return l===-1&&(l=!1),l&&typeof l!="number"&&(l=this.headers.index(this.headers.filter(l)),l===-1&&(l=!1)),k.call(this,l)
}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(j,h){j.extend(h.options,{change:null,changestart:null});var k=h._trigger;h._trigger=function(o,m,n){var l=k.apply(this,arguments);return l?(o==="beforeActivate"?l=k.call(this,"changestart",m,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel}):o==="activate"&&(l=k.call(this,"change",m,{oldHeader:n.oldHeader,oldContent:n.oldPanel,newHeader:n.newHeader,newContent:n.newPanel})),l):!1}}(jQuery,jQuery.ui.accordion.prototype),function(j,h){j.extend(h.options,{animate:null,animated:"slide"});var k=h._create;h._create=function(){var l=this.options;l.animate===null&&(l.animated?l.animated==="slide"?l.animate=300:l.animated==="bounceslide"?l.animate={duration:200,down:{easing:"easeOutBounce",duration:1000}}:l.animate=l.animated:l.animate=!1),k.call(this)}}(jQuery,jQuery.ui.accordion.prototype))})(jQuery);(function(b,a){var d=0;b.widget("ui.autocomplete",{version:"1.9.0",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,g,f;
this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on({keydown:function(h){if(this.element.prop("readOnly")){e=!0,f=!0,g=!0;return}e=!1,f=!1,g=!1;var j=b.ui.keyCode;switch(h.keyCode){case j.PAGE_UP:e=!0,this._move("previousPage",h);break;case j.PAGE_DOWN:e=!0,this._move("nextPage",h);break;case j.UP:e=!0,this._keyEvent("previous",h);break;case j.DOWN:e=!0,this._keyEvent("next",h);break;case j.ENTER:case j.NUMPAD_ENTER:this.menu.active&&(e=!0,h.preventDefault(),this.menu.select(h));break;case j.TAB:this.menu.active&&this.menu.select(h);break;case j.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(h),h.preventDefault());break;default:g=!0,this._searchTimeout(h)}},keypress:function(j){if(e){e=!1,j.preventDefault();return}if(g){return}var h=b.ui.keyCode;switch(j.keyCode){case h.PAGE_UP:this._move("previousPage",j);
break;case h.PAGE_DOWN:this._move("nextPage",j);break;case h.UP:this._keyEvent("previous",j);break;case h.DOWN:this._keyEvent("next",j)}},input:function(h){if(f){f=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:b(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(h){h.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var j=this.menu.element[0];b(h.target).closest(".ui-menu-item").length||this._delay(function(){var k=this;this.document.one("mousedown",function(l){l.target!==k.element[0]&&l.target!==j&&!b.contains(j,l.target)&&k.close()})})},menufocus:function(h,k){if(this.isNewMenu){this.isNewMenu=!1;
if(h.originalEvent&&/^mouse/.test(h.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){b(h.target).trigger(h.originalEvent)});return}}var j=k.item.data("ui-autocomplete-item")||k.item.data("item.autocomplete");!1!==this._trigger("focus",h,{item:j})?h.originalEvent&&/^key/.test(h.originalEvent.type)&&this._value(j.value):this.liveRegion.text(j.value)},menuselect:function(k,h){var l=h.item.data("ui-autocomplete-item")||h.item.data("item.autocomplete"),j=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=j,this._delay(function(){this.previous=j,this.selectedItem=l})),!1!==this._trigger("select",k,{item:l})&&this._value(l.value),this.term=this._value(),this.close(k),this.selectedItem=l}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),b.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")
}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(g,f){this._super(g,f),g==="source"&&this._initSource(),g==="appendTo"&&this.menu.element.appendTo(this.document.find(f||"body")[0]),g==="disabled"&&f&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var e,g,f=this;b.isArray(this.options.source)?(e=this.options.source,this.source=function(j,h){h(b.ui.autocomplete.filter(e,j.term))}):typeof this.options.source=="string"?(g=this.options.source,this.source=function(j,h){f.xhr&&f.xhr.abort(),f.xhr=b.ajax({url:g,data:j,dataType:"json",success:function(l,k){h(l)},error:function(){h([])}})}):this.source=this.options.source},_searchTimeout:function(f){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,f))
},this.options.delay)},search:function(g,f){g=g!=null?g:this._value(),this.term=this._value();if(g.length<this.options.minLength){return this.close(f)}if(this._trigger("search",f)===!1){return}return this._search(g)},_search:function(f){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:f},this._response())},_response:function(){var g=this,f=++d;return function(e){f===d&&g.__response(e),g.pending--,g.pending||g.element.removeClass("ui-autocomplete-loading")}},__response:function(f){f&&(f=this._normalize(f)),this._trigger("response",null,{content:f}),!this.options.disabled&&f&&f.length&&!this.cancelSearch?(this._suggest(f),this._trigger("open")):this._close()},close:function(f){this.cancelSearch=!0,this._close(f)},_close:function(f){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",f))},_change:function(f){this.previous!==this._value()&&this._trigger("change",f,{item:this.selectedItem})
},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:b.map(e,function(f){return typeof f=="string"?{label:f,value:f}:b.extend({label:f.label||f.value,value:f.value||f.label},f)})},_suggest:function(e){var f=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(f,e),this.menu.refresh(),f.show(),this._resizeMenu(),f.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var f=this.menu.element;f.outerWidth(Math.max(f.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,g){var f=this;b.each(g,function(h,j){f._renderItemData(e,j)})},_renderItemData:function(g,f){return this._renderItem(g,f).data("ui-autocomplete-item",f)},_renderItem:function(e,f){return b("<li>").append(b("<a>").text(f.label)).appendTo(e)},_move:function(g,f){if(!this.menu.element.is(":visible")){this.search(null,f);return}if(this.menu.isFirstItem()&&/^previous/.test(g)||this.menu.isLastItem()&&/^next/.test(g)){this._value(this.term),this.menu.blur();
return}this.menu[g](f)},widget:function(){return this.menu.element},_value:function(f){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(g,f){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(g,f),f.preventDefault()}}}),b.extend(b.ui.autocomplete,{escapeRegex:function(f){return f.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,g){var f=new RegExp(b.ui.autocomplete.escapeRegex(g),"i");return b.grep(e,function(h){return f.test(h.label||h.value||h)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(f){return f+(f>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(g){var f;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}g&&g.length?f=this.options.messages.results(g.length):f=this.options.messages.noResults,this.liveRegion.text(f)}})})(jQuery);(function(m,v){var g,b,j,w,d="ui-button ui-widget ui-state-default ui-corner-all",q="ui-state-hover ui-state-active ",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var a=m(this).find(":ui-button");
setTimeout(function(){a.button("refresh")},1)},h=function(e){var l=e.name,f=e.form,a=m([]);return l&&(f?a=m(f).find("[name='"+l+"']"):a=m("[name='"+l+"']",e.ownerDocument).filter(function(){return !this.form})),a};m.widget("ui.button",{version:"1.9.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var l=this,f=this.options,e=this.type==="checkbox"||this.type==="radio",o="ui-state-hover"+(e?"":" ui-state-active"),n="ui-state-focus";f.label===null&&(f.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(f.disabled){return
}m(this).addClass("ui-state-hover"),this===g&&m(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(f.disabled){return}m(this).removeClass(o)}).bind("click"+this.eventNamespace,function(a){f.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){l.buttonElement.addClass(n)}).bind("blur"+this.eventNamespace,function(){l.buttonElement.removeClass(n)}),e&&(this.element.bind("change"+this.eventNamespace,function(){if(w){return}l.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){if(f.disabled){return}w=!1,b=a.pageX,j=a.pageY}).bind("mouseup"+this.eventNamespace,function(a){if(f.disabled){return}if(b!==a.pageX||j!==a.pageY){w=!0}})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled||w){return !1}m(this).toggleClass("ui-state-active"),l.buttonElement.attr("aria-pressed",l.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled||w){return !1
}m(this).addClass("ui-state-active"),l.buttonElement.attr("aria-pressed","true");var a=l.element[0];h(a).not(a).map(function(){return m(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(f.disabled){return !1}m(this).addClass("ui-state-active"),g=this,l.document.one("mouseup",function(){g=null})}).bind("mouseup"+this.eventNamespace,function(){if(f.disabled){return !1}m(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(f.disabled){return !1}(a.keyCode===m.ui.keyCode.SPACE||a.keyCode===m.ui.keyCode.ENTER)&&m(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){m(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===m.ui.keyCode.SPACE&&m(this).click()})),this._setOption("disabled",f.disabled),this._resetButton()},_determineButtonType:function(){var f,a,l;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(f=this.element.parents().last(),a="label[for='"+this.element.attr("id")+"']",this.buttonElement=f.find(a),this.buttonElement.length||(f=f.length?f.siblings():this.element.siblings(),this.buttonElement=f.filter(a),this.buttonElement.length||(this.buttonElement=f.find(a))),this.element.addClass("ui-helper-hidden-accessible"),l=this.element.is(":checked"),l&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",l)):this.buttonElement=this.element
},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" "+q+" "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(f,a){this._super(f,a);if(f==="disabled"){a?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?h(this.element[0]).each(function(){m(this).is(":checked")?m(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):m(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))
},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var e=this.buttonElement.removeClass(p),o=m("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),l=this.options.icons,a=l.primary&&l.secondary,f=[];l.primary||l.secondary?(this.options.text&&f.push("ui-button-text-icon"+(a?"s":l.primary?"-primary":"-secondary")),l.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+l.primary+"'></span>"),l.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+l.secondary+"'></span>"),this.options.text||(f.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",m.trim(o)))):f.push("ui-button-text-only"),e.addClass(f.join(" "))}}),m.widget("ui.buttonset",{version:"1.9.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")
},_init:function(){this.refresh()},_setOption:function(f,a){f==="disabled"&&this.buttons.button("option",f,a),this._super(f,a)},refresh:function(){var a=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return m(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return m(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))
}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t){if(t[n]==null||t[n]==undefined){e[n]=t[n]}}return e}$.extend($.ui,{datepicker:{version:"1.9.0"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}
},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1
})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++){e[r].length>t&&(t=e[r].length,n=r)}return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;
this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);
if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);
if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e){return !1}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]==e){return !0}}return !1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string"){return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null
}var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");
t._keyEvent=!0;if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");
break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}}else{e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1}n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal){try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));
n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}}return !0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e){return}var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1){return}extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};
$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);
var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]
},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e))){e=e[n?"previousSibling":"nextSibling"]}var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME)){return}if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)
};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst){return}var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()
},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0])){return}this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay){n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear}else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0])){return}var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))
},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/86400000)/7)+1},parseDate:function(e,t,n){if(e==null||t==null){throw"Invalid arguments"
}t=typeof t=="object"?t.toString():t+"";if(t==""){return null}var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s){throw"Missing number at position "+g}return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return -(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase()){return s=n[0],g+=r.length,!1}});if(s!=-1){return s+1}throw"Unknown name at position "+g
},m=function(){if(t.charAt(g)!=e.charAt(y)){throw"Unexpected literal at position "+g}g++},g=0;for(var y=0;y<e.length;y++){if(h){e.charAt(y)=="'"&&!p("'")?h=!1:m()}else{switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/10000);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}}}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w)){throw"Extra/unparsed characters found in date: "+w}}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E){break}f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l){throw"Invalid date"
}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(e,t,n){if(!t){return""}var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e)){while(r.length<n){r="0"+r}}return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t){for(var h=0;h<e.length;h++){if(c){e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h)}else{switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/86400000),3);
break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*10000+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}}}}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++){if(n){e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i)}else{switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}}}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal){return}var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s
}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))
}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");
e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;
p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v){p--,p<0&&(p=11,d--)}}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;
w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;
I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1){switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));
var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)
}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a){h+='<span class="ui-datepicker-month">'+o[t]+"</span>"}else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++){(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>")}h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f){c+='<span class="ui-datepicker-year">'+n+"</span>"
}else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++){e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>"}e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)
},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())
},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)
}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.0",window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(f,b){var g="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};f.widget("ui.dialog",{version:"1.9.0",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var h=f(this).css(e).offset().top;h<0&&f(this).css("top",e.top-h)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;
var x=this,e=this.options,m=e.title||"&#160;",y=(this.uiDialog=f("<div>")).addClass(g+e.dialogClass).css({display:"none",outline:0,zIndex:e.zIndex}).attr("tabIndex",-1).keydown(function(h){e.closeOnEscape&&!h.isDefaultPrevented()&&h.keyCode&&h.keyCode===f.ui.keyCode.ESCAPE&&(x.close(h),h.preventDefault())}).mousedown(function(h){x.moveToTop(!1,h)}).appendTo("body"),j=this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(y),w=(this.uiDialogTitlebar=f("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").prependTo(y),v=f("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(h){h.preventDefault(),x.close(h)}).appendTo(w),p=(this.uiDialogTitlebarCloseText=f("<span>")).addClass("ui-icon ui-icon-closethick").text(e.closeText).appendTo(v),k=f("<span>").uniqueId().addClass("ui-dialog-title").html(m).prependTo(w),q=(this.uiDialogButtonPane=f("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),n=(this.uiButtonSet=f("<div>")).addClass("ui-dialog-buttonset").appendTo(q);
y.attr({role:"dialog","aria-labelledby":k.attr("id")}),w.find("*").add(w).disableSelection(),this._hoverable(v),this._focusable(v),e.draggable&&f.fn.draggable&&this._makeDraggable(),e.resizable&&f.fn.resizable&&this._makeResizable(),this._createButtons(e.buttons),this._isOpen=!1,f.fn.bgiframe&&y.bgiframe(),this._on(y,{keydown:function(l){if(!e.modal||l.keyCode!==f.ui.keyCode.TAB){return}var u=f(":tabbable",y),h=u.filter(":first"),r=u.filter(":last");if(l.target===r[0]&&!l.shiftKey){return h.focus(1),!1}if(l.target===h[0]&&l.shiftKey){return r.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var j,h=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),j=h.parent.children().eq(h.index),j.length&&j[0]!==this.element[0]?j.before(this.element):h.parent.append(this.element)
},widget:function(){return this.uiDialog},close:function(h){var k=this,j,e;if(!this._isOpen){return}if(!1===this._trigger("beforeClose",h)){return}return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this.uiDialog.hide(this.options.hide,function(){k._trigger("close",h)}):(this.uiDialog.hide(),this._trigger("close",h)),f.ui.dialog.overlay.resize(),this.options.modal&&(j=0,f(".ui-dialog").each(function(){this!==k.uiDialog[0]&&(e=f(this).css("z-index"),isNaN(e)||(j=Math.max(j,e)))}),f.ui.dialog.maxZ=j),this},isOpen:function(){return this._isOpen},moveToTop:function(h,k){var j=this.options,e;return j.modal&&!h||!j.stack&&!j.modal?this._trigger("focus",k):(j.zIndex>f.ui.dialog.maxZ&&(f.ui.dialog.maxZ=j.zIndex),this.overlay&&(f.ui.dialog.maxZ+=1,f.ui.dialog.overlay.maxZ=f.ui.dialog.maxZ,this.overlay.$el.css("z-index",f.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},f.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",f.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",k),this)
},open:function(){if(this._isOpen){return}var e,j=this.options,h=this.uiDialog;return this._size(),this._position(j.position),h.show(j.show),this.overlay=j.modal?new f.ui.dialog.overlay(this):null,this.moveToTop(!0),e=this.element.find(":tabbable"),e.length||(e=this.uiDialogButtonPane.find(":tabbable"),e.length||(e=h)),e.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(h){var l,k,e=this,j=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof h=="object"&&h!==null&&f.each(h,function(){return !(j=!0)}),j?(f.each(h,function(m,p){p=f.isFunction(p)?{click:p,text:m}:p;var o=f("<button type='button'>").attr(p,!0).unbind("click").click(function(){p.click.apply(e.element[0],arguments)}).appendTo(e.uiButtonSet);f.fn.button&&o.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function h(k){return{position:k.position,offset:k.offset}
}var e=this,j=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(l,k){f(this).addClass("ui-dialog-dragging"),e._trigger("dragStart",l,h(k))},drag:function(k,l){e._trigger("drag",k,h(l))},stop:function(k,l){j.position=[l.position.left-e.document.scrollLeft(),l.position.top-e.document.scrollTop()],f(this).removeClass("ui-dialog-dragging"),e._trigger("dragStop",k,h(l)),f.ui.dialog.overlay.resize()}})},_makeResizable:function(m){function e(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}m=m===b?this.options.resizable:m;var k=this,h=this.options,j=this.uiDialog.css("position"),l=typeof m=="string"?m:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:l,start:function(o,p){f(this).addClass("ui-dialog-resizing"),k._trigger("resizeStart",o,e(p))
},resize:function(o,n){k._trigger("resize",o,e(n))},stop:function(o,p){f(this).removeClass("ui-dialog-resizing"),h.height=f(this).height(),h.width=f(this).width(),k._trigger("resizeStop",o,e(p)),f.ui.dialog.overlay.resize()}}).css("position",j).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var h=this.options;return h.height==="auto"?h.minHeight:Math.min(h.minHeight,h.height)},_position:function(h){var k=[],j=[0,0],e;if(h){if(typeof h=="string"||typeof h=="object"&&"0" in h){k=h.split?h.split(" "):[h[0],h[1]],k.length===1&&(k[1]=k[0]),f.each(["left","top"],function(m,l){+k[m]===k[m]&&(j[m]=k[m],k[m]=l)}),h={my:k.join(" "),at:k.join(" "),offset:j.join(" ")}}h=f.extend({},f.ui.dialog.prototype.options.position,h)}else{h=f.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(h),e||this.uiDialog.hide()},_setOptions:function(e){var k=this,h={},j=!1;f.each(e,function(m,l){k._setOption(m,l),m in d&&(j=!0),m in a&&(h[m]=l)
}),j&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",h)},_setOption:function(h,k){var e,j,l=this.uiDialog;switch(h){case"buttons":this._createButtons(k);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+k);break;case"dialogClass":l.removeClass(this.options.dialogClass).addClass(g+k);break;case"disabled":k?l.addClass("ui-dialog-disabled"):l.removeClass("ui-dialog-disabled");break;case"draggable":e=l.is(":data(draggable)"),e&&!k&&l.draggable("destroy"),!e&&k&&this._makeDraggable();break;case"position":this._position(k);break;case"resizable":j=l.is(":data(resizable)"),j&&!k&&l.resizable("destroy"),j&&typeof k=="string"&&l.resizable("option","handles",k),!j&&k!==!1&&this._makeResizable(k);break;case"title":f(".ui-dialog-title",this.uiDialogTitlebar).html(""+(k||"&#160;"))}this._super(h,k)},_size:function(){var h,l,k,e=this.options,j=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),h=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),l=Math.max(0,e.minHeight-h),e.height==="auto"?f.support.minHeight?this.element.css({minHeight:l,height:"auto"}):(this.uiDialog.show(),k=this.element.css("height","auto").height(),j||this.uiDialog.hide(),this.element.height(Math.max(k,l))):this.element.height(Math.max(e.height-h,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())
}}),f.extend(f.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(j){var h=j.attr("id");return h||(this.uuid+=1,h=this.uuid),"ui-dialog-title-"+h},overlay:function(e){this.$el=f.ui.dialog.overlay.create(e)}}),f.extend(f.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:f.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(h){return h+".dialog-overlay"}).join(" "),create:function(e){this.instances.length===0&&(setTimeout(function(){f.ui.dialog.overlay.instances.length&&f(document).bind(f.ui.dialog.overlay.events,function(j){if(f(j.target).zIndex()<f.ui.dialog.overlay.maxZ){return !1}})},1),f(window).bind("resize.dialog-overlay",f.ui.dialog.overlay.resize));var h=this.oldInstances.pop()||f("<div>").addClass("ui-widget-overlay");return f(document).bind("keydown.dialog-overlay",function(k){var j=f.ui.dialog.overlay.instances;j.length!==0&&j[j.length-1]===h&&e.options.closeOnEscape&&!k.isDefaultPrevented()&&k.keyCode&&k.keyCode===f.ui.keyCode.ESCAPE&&(e.close(k),k.preventDefault())
}),h.appendTo(document.body).css({width:this.width(),height:this.height()}),f.fn.bgiframe&&h.bgiframe(),this.instances.push(h),h},destroy:function(e){var j=f.inArray(e,this.instances),h=0;j!==-1&&this.oldInstances.push(this.instances.splice(j,1)[0]),this.instances.length===0&&f([document,window]).unbind(".dialog-overlay"),e.height(0).width(0).remove(),f.each(this.instances,function(){h=Math.max(h,this.css("z-index"))}),this.maxZ=h},height:function(){var e,h;return f.browser.msie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),h=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<h?f(window).height()+"px":e+"px"):f(document).height()+"px"},width:function(){var e,h;return f.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),h=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<h?f(window).width()+"px":e+"px"):f(document).width()+"px"},resize:function(){var e=f([]);f.each(f.ui.dialog.overlay.instances,function(){e=e.add(this)
}),e.css({width:0,height:0}).css({width:f.ui.dialog.overlay.width(),height:f.ui.dialog.overlay.height()})}}),f.extend(f.ui.dialog.overlay.prototype,{destroy:function(){f.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(b,a){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()
},_mouseCapture:function(d){var e=this.options;return this.helper||e.disabled||b(d.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(d),this.handle?(b(e.iframeFix===!0?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(d){var e=this.options;return this.helper=this._createHelper(d),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(d),this.originalPageX=d.pageX,this.originalPageY=d.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment(),this._trigger("start",d)===!1?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!e.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,d),this._mouseDrag(d,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,d),!0)
},_mouseDrag:function(d,f){this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",d,e)===!1){return this._mouseUp({}),!1}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return b.ui.ddmanager&&b.ui.ddmanager.drag(this,d),!1},_mouseStop:function(e){var h=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(h=b.ui.ddmanager.drop(this,e)),this.dropped&&(h=this.dropped,this.dropped=!1);var g=this.element[0],d=!1;while(g&&(g=g.parentNode)){g==document&&(d=!0)}if(!d&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!h||this.options.revert=="valid"&&h||this.options.revert===!0||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,h)){var f=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",e)!==!1&&f._clear()
})}else{this._trigger("stop",e)!==!1&&this._clear()}return !1},_mouseUp:function(d){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,d),b.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(d){var e=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==d.target&&(e=!0)}),e},_createHelper:function(d){var f=this.options,e=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[d])):f.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return e.parents("body").length||e.appendTo(f.appendTo=="parent"?this.element[0].parentNode:f.appendTo),e[0]!=this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))&&e.css("position","absolute"),e},_adjustOffsetFromHelper:function(d){typeof d=="string"&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)
},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;e.containment=="parent"&&(e.containment=this.helper[0].parentNode);if(e.containment=="document"||e.containment=="window"){this.containment=[e.containment=="document"?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e.containment=="document"?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(e.containment=="document"?0:b(window).scrollLeft())+b(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e.containment=="document"?0:b(window).scrollTop())+(b(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){var h=b(e.containment),g=h[0];if(!g){return}var d=h.offset(),f=b(g).css("overflow")!="hidden";
this.containment=[(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0),(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0),(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=h}else{e.containment.constructor==Array&&(this.containment=e.containment)}},_convertPositionTo:function(e,j){j||(j=this.position);var g=e=="absolute"?1:-1,d=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(f[0].tagName);
return{top:j.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:f.scrollTop())*g,left:j.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:f.scrollLeft())*g}},_generatePosition:function(q){var g=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,j=/(html|body)/i.test(d[0].tagName),v=q.pageX,e=q.pageY;if(this.originalPosition){var p;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();p=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{p=this.containment}q.pageX-this.offset.click.left<p[0]&&(v=p[0]+this.offset.click.left),q.pageY-this.offset.click.top<p[1]&&(e=p[1]+this.offset.click.top),q.pageX-this.offset.click.left>p[2]&&(v=p[2]+this.offset.click.left),q.pageY-this.offset.click.top>p[3]&&(e=p[3]+this.offset.click.top)
}if(g.grid){var k=g.grid[1]?this.originalPageY+Math.round((e-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY;e=p?k-this.offset.click.top<p[1]||k-this.offset.click.top>p[3]?k-this.offset.click.top<p[1]?k+g.grid[1]:k-g.grid[1]:k:k;var h=g.grid[0]?this.originalPageX+Math.round((v-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX;v=p?h-this.offset.click.left<p[0]||h-this.offset.click.left>p[2]?h-this.offset.click.left<p[0]?h+g.grid[0]:h-g.grid[0]:h:h}}return{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:d.scrollTop()),left:v-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(d,f,e){return e=e||this._uiHash(),b.ui.plugin.call(this,d,[f,e]),d=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,d,f,e)
},plugins:{},_uiHash:function(d){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(e,h){var g=b(this).data("draggable"),d=g.options,f=b.extend({},h,{item:g.element});g.sortables=[],b(d.connectToSortable).each(function(){var j=b.data(this,"sortable");j&&!j.options.disabled&&(g.sortables.push({instance:j,shouldRevert:j.options.revert}),j.refreshPositions(),j._trigger("activate",e,f))})},stop:function(e,g){var f=b(this).data("draggable"),d=b.extend({},g,{item:f.element});b.each(f.sortables,function(){this.instance.isOver?(this.instance.isOver=0,f.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,d))
})},drag:function(e,h){var g=b(this).data("draggable"),d=this,f=function(w){var l=this.offset.click.top,j=this.offset.click.left,m=this.positionAbs.top,x=this.positionAbs.left,k=w.height,v=w.width,q=w.top,p=w.left;return b.ui.isOver(m+l,x+j,q,p,k,v)};b.each(g.sortables,function(j){this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return h.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",e),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",e),g.dropped=!1)
})}}),b.ui.plugin.add("draggable","cursor",{start:function(e,g){var f=b("body"),d=b(this).data("draggable").options;f.css("cursor")&&(d._cursor=f.css("cursor")),f.css("cursor",d.cursor)},stop:function(d,f){var e=b(this).data("draggable").options;e._cursor&&b("body").css("cursor",e._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(e,g){var f=b(g.helper),d=b(this).data("draggable").options;f.css("opacity")&&(d._opacity=f.css("opacity")),f.css("opacity",d.opacity)},stop:function(d,f){var e=b(this).data("draggable").options;e._opacity&&b(f.helper).css("opacity",e._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(d,f){var e=b(this).data("draggable");e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e,h){var g=b(this).data("draggable"),d=g.options,f=!1;if(g.scrollParent[0]!=document&&g.scrollParent[0].tagName!="HTML"){if(!d.axis||d.axis!="x"){g.overflowOffset.top+g.scrollParent[0].offsetHeight-e.pageY<d.scrollSensitivity?g.scrollParent[0].scrollTop=f=g.scrollParent[0].scrollTop+d.scrollSpeed:e.pageY-g.overflowOffset.top<d.scrollSensitivity&&(g.scrollParent[0].scrollTop=f=g.scrollParent[0].scrollTop-d.scrollSpeed)
}if(!d.axis||d.axis!="y"){g.overflowOffset.left+g.scrollParent[0].offsetWidth-e.pageX<d.scrollSensitivity?g.scrollParent[0].scrollLeft=f=g.scrollParent[0].scrollLeft+d.scrollSpeed:e.pageX-g.overflowOffset.left<d.scrollSensitivity&&(g.scrollParent[0].scrollLeft=f=g.scrollParent[0].scrollLeft-d.scrollSpeed)}}else{if(!d.axis||d.axis!="x"){e.pageY-b(document).scrollTop()<d.scrollSensitivity?f=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(e.pageY-b(document).scrollTop())<d.scrollSensitivity&&(f=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed))}if(!d.axis||d.axis!="y"){e.pageX-b(document).scrollLeft()<d.scrollSensitivity?f=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(e.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(f=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))}}f!==!1&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(g,e)}}),b.ui.plugin.add("draggable","snap",{start:function(e,g){var f=b(this).data("draggable"),d=f.options;
f.snapElements=[],b(d.snap.constructor!=String?d.snap.items||":data(draggable)":d.snap).each(function(){var h=b(this),j=h.offset();this!=f.element[0]&&f.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:j.top,left:j.left})})},drag:function(q,B){var x=b(this).data("draggable"),E=x.options,w=E.snapTolerance,A=B.offset.left,k=A+x.helperProportions.width,L=B.offset.top,H=L+x.helperProportions.height;for(var D=x.snapElements.length-1;D>=0;D--){var J=x.snapElements[D].left,F=J+x.snapElements[D].width,z=x.snapElements[D].top,I=z+x.snapElements[D].height;if(!(J-w<A&&A<F+w&&z-w<L&&L<I+w||J-w<A&&A<F+w&&z-w<H&&H<I+w||J-w<k&&k<F+w&&z-w<L&&L<I+w||J-w<k&&k<F+w&&z-w<H&&H<I+w)){x.snapElements[D].snapping&&x.options.snap.release&&x.options.snap.release.call(x.element,q,b.extend(x._uiHash(),{snapItem:x.snapElements[D].item})),x.snapElements[D].snapping=!1;continue}if(E.snapMode!="inner"){var j=Math.abs(z-H)<=w,C=Math.abs(I-L)<=w,G=Math.abs(J-k)<=w,e=Math.abs(F-A)<=w;j&&(B.position.top=x._convertPositionTo("relative",{top:z-x.helperProportions.height,left:0}).top-x.margins.top),C&&(B.position.top=x._convertPositionTo("relative",{top:I,left:0}).top-x.margins.top),G&&(B.position.left=x._convertPositionTo("relative",{top:0,left:J-x.helperProportions.width}).left-x.margins.left),e&&(B.position.left=x._convertPositionTo("relative",{top:0,left:F}).left-x.margins.left)
}var K=j||C||G||e;if(E.snapMode!="outer"){var j=Math.abs(z-L)<=w,C=Math.abs(I-H)<=w,G=Math.abs(J-A)<=w,e=Math.abs(F-k)<=w;j&&(B.position.top=x._convertPositionTo("relative",{top:z,left:0}).top-x.margins.top),C&&(B.position.top=x._convertPositionTo("relative",{top:I-x.helperProportions.height,left:0}).top-x.margins.top),G&&(B.position.left=x._convertPositionTo("relative",{top:0,left:J}).left-x.margins.left),e&&(B.position.left=x._convertPositionTo("relative",{top:0,left:F-x.helperProportions.width}).left-x.margins.left)}!x.snapElements[D].snapping&&(j||C||G||e||K)&&x.options.snap.snap&&x.options.snap.snap.call(x.element,q,b.extend(x._uiHash(),{snapItem:x.snapElements[D].item})),x.snapElements[D].snapping=j||C||G||e||K}}}),b.ui.plugin.add("draggable","stack",{start:function(e,h){var g=b(this).data("draggable").options,d=b.makeArray(b(g.stack)).sort(function(j,k){return(parseInt(b(j).css("zIndex"),10)||0)-(parseInt(b(k).css("zIndex"),10)||0)});if(!d.length){return}var f=parseInt(d[0].style.zIndex)||0;
b(d).each(function(j){this.style.zIndex=f+j}),this[0].style.zIndex=f+d.length}}),b.ui.plugin.add("draggable","zIndex",{start:function(e,g){var f=b(g.helper),d=b(this).data("draggable").options;f.css("zIndex")&&(d._zIndex=f.css("zIndex")),f.css("zIndex",d.zIndex)},stop:function(d,f){var e=b(this).data("draggable").options;e._zIndex&&b(f.helper).css("zIndex",e._zIndex)}})})(jQuery);(function(b,a){b.widget("ui.droppable",{version:"1.9.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,e=d.accept;this.isover=0,this.isout=1,this.accept=b.isFunction(e)?e:function(f){return f.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},b.ui.ddmanager.droppables[d.scope]=b.ui.ddmanager.droppables[d.scope]||[],b.ui.ddmanager.droppables[d.scope].push(this),d.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var d=b.ui.ddmanager.droppables[this.options.scope];
for(var e=0;e<d.length;e++){d[e]==this&&d.splice(e,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,e){d=="accept"&&(this.accept=b.isFunction(e)?e:function(f){return f.is(e)}),b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var e=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",d,this.ui(e))},_deactivate:function(d){var e=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",d,this.ui(e))},_over:function(d){var e=b.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return}this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(e)))},_out:function(d){var e=b.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return}this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(e)))
},_drop:function(e,g){var f=g||b.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==this.element[0]){return !1}var d=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var h=b.data(this,"droppable");if(h.options.greedy&&!h.options.disabled&&h.options.scope==f.options.scope&&h.accept.call(h.element[0],f.currentItem||f.element)&&b.ui.intersect(f,b.extend(h,{offset:h.element.offset()}),h.options.tolerance)){return d=!0,!1}}),d?!1:this.accept.call(this.element[0],f.currentItem||f.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(f)),this.element):!1},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}}),b.ui.intersect=function(B,k,e){if(!k.offset){return !1}var q=(B.positionAbs||B.position.absolute).left,C=q+B.helperProportions.width,j=(B.positionAbs||B.position.absolute).top,A=j+B.helperProportions.height,z=k.offset.left,w=z+k.proportions.width,m=k.offset.top,y=m+k.proportions.height;
switch(e){case"fit":return z<=q&&C<=w&&m<=j&&A<=y;case"intersect":return z<q+B.helperProportions.width/2&&C-B.helperProportions.width/2<w&&m<j+B.helperProportions.height/2&&A-B.helperProportions.height/2<y;case"pointer":var v=(B.positionAbs||B.position.absolute).left+(B.clickOffset||B.offset.click).left,g=(B.positionAbs||B.position.absolute).top+(B.clickOffset||B.offset.click).top,x=b.ui.isOver(g,v,m,z,k.proportions.height,k.proportions.width);return x;case"touch":return(j>=m&&j<=y||A>=m&&A<=y||j<m&&A>y)&&(q>=z&&q<=w||C>=z&&C<=w||q<z&&C>w);default:return !1}},b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(f,k){var h=b.ui.ddmanager.droppables[f.options.scope]||[],e=k?k.type:null,g=(f.currentItem||f.element).find(":data(droppable)").andSelf();b:for(var j=0;j<h.length;j++){if(h[j].options.disabled||f&&!h[j].accept.call(h[j].element[0],f.currentItem||f.element)){continue}for(var d=0;d<g.length;d++){if(g[d]==h[j].element[0]){h[j].proportions.height=0;continue b
}}h[j].visible=h[j].element.css("display")!="none";if(!h[j].visible){continue}e=="mousedown"&&h[j]._activate.call(h[j],k),h[j].offset=h[j].element.offset(),h[j].proportions={width:h[j].element[0].offsetWidth,height:h[j].element[0].offsetHeight}}},drop:function(d,f){var e=!1;return b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options){return}!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)&&(e=this._drop.call(this,f)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,f))}),e},dragStart:function(d,e){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||b.ui.ddmanager.prepareOffsets(d,e)})},drag:function(d,e){d.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(d,e),b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return
}var j=b.ui.intersect(d,this,this.options.tolerance),g=!j&&this.isover==1?"isout":j&&this.isover==0?"isover":null;if(!g){return}var h;if(this.options.greedy){var k=this.options.scope,f=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===k});f.length&&(h=b.data(f[0],"droppable"),h.greedyChild=g=="isover"?1:0)}h&&g=="isover"&&(h.isover=0,h.isout=1,h._out.call(h,e)),this[g]=1,this[g=="isout"?"isover":"isout"]=0,this[g=="isover"?"_over":"_out"].call(this,e),h&&g=="isout"&&(h.isout=0,h.isover=1,h._over.call(h,e))})},dragStop:function(d,e){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||b.ui.ddmanager.prepareOffsets(d,e)}}})(jQuery);jQuery.effects||function(d,a){var f=d.uiBackCompat!==!1,b="ui-effects-";d.effects={effect:{}},function(D,k){function g(o,h,p){var l=A[h.type]||{};return o==null?p||!h.def?null:h.def:(o=l.floor?~~o:parseFloat(o),isNaN(o)?h.def:l.mod?(o+l.mod)%l.mod:0>o?0:l.max<o?l.max:o)}function y(l){var o=j(),h=o._rgba=[];
return l=l.toLowerCase(),w(E,function(r,p){var u,F=p.re.exec(l),n=F&&p.parse(F),v=p.space||"rgba";if(n){return u=o[v](n),o[C[v].cache]=u[C[v].cache],h=o._rgba=u._rgba,!1}}),h.length?(h.join()==="0,0,0,0"&&D.extend(h,z.transparent),o):z[l]}function B(l,h,o){return o=(o+1)%1,o*6<1?l+(h-l)*o*6:o*2<1?h:o*3<2?l+(h-l)*(2/3-o)*6:l}var e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),q=/^([\-+])=\s*(\d+\.?\d*)/,E=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(h){return[h[1],h[2],h[3],h[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(h){return[h[1]*2.55,h[2]*2.55,h[3]*2.55,h[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]
}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(h){return[h[1],h[2]/100,h[3]/100,h[4]]}}],j=D.Color=function(o,p,l,h){return new D.Color.fn.parse(o,p,l,h)},C={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},A={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},x=j.support={},m=D("<p>")[0],z,w=D.each;m.style.cssText="background-color:rgba(1,1,1,.5)",x.rgba=m.style.backgroundColor.indexOf("rgba")>-1,w(C,function(l,h){h.cache="_"+l,h.props.alpha={idx:3,type:"percent",def:1}}),j.fn=D.extend(j.prototype,{parse:function(F,t,u,o){if(F===k){return this._rgba=[null,null,null,null],this}if(F.jquery||F.nodeType){F=D(F).css(t),t=k}var G=this,n=D.type(F),p=this._rgba=[],h;t!==k&&(F=[F,t,u,o],n="array");if(n==="string"){return this.parse(y(F)||z._default)
}if(n==="array"){return w(C.rgba.props,function(r,l){p[l.idx]=g(F[l.idx],l)}),this}if(n==="object"){return F instanceof j?w(C,function(r,l){F[l.cache]&&(G[l.cache]=F[l.cache].slice())}):w(C,function(r,v){var l=v.cache;w(v.props,function(I,H){if(!G[l]&&v.to){if(I==="alpha"||F[I]==null){return}G[l]=v.to(G._rgba)}G[l][H.idx]=g(F[I],H,!0)}),G[l]&&d.inArray(null,G[l].slice(0,3))<0&&(G[l][3]=1,v.from&&(G._rgba=v.from(G[l])))}),this}},is:function(o){var h=j(o),p=!0,l=this;return w(C,function(t,n){var r,u=h[n.cache];return u&&(r=l[n.cache]||n.to&&n.to(l._rgba)||[],w(n.props,function(F,v){if(u[v.idx]!=null){return p=u[v.idx]===r[v.idx],p}})),p}),p},_space:function(){var l=[],h=this;return w(C,function(p,o){h[o.cache]&&l.push(p)}),l.pop()},transition:function(G,p){var H=j(G),v=H._space(),o=C[v],u=this.alpha()===0?j("transparent"):this,F=u[o.cache]||o.to(u._rgba),h=F.slice();return H=H[o.cache],w(o.props,function(J,I){var n=I.idx,t=F[n],K=H[n],l=A[I.type]||{};if(K===null){return}t===null?h[n]=K:(l.mod&&(K-t>l.mod/2?t+=l.mod:t-K>l.mod/2&&(t-=l.mod)),h[n]=g((K-t)*p+t,I))
}),this[v](h)},blend:function(o){if(this._rgba[3]===1){return this}var p=this._rgba.slice(),l=p.pop(),h=j(o)._rgba;return j(D.map(p,function(r,n){return(1-l)*h[n]+l*r}))},toRgbaString:function(){var h="rgba(",l=D.map(this._rgba,function(o,n){return o==null?n>2?1:0:o});return l[3]===1&&(l.pop(),h="rgb("),h+l.join()+")"},toHslaString:function(){var h="hsla(",l=D.map(this.hsla(),function(o,n){return o==null&&(o=n>2?1:0),n&&n<3&&(o=Math.round(o*100)+"%"),o});return l[3]===1&&(l.pop(),h="hsl("),h+l.join()+")"},toHexString:function(l){var o=this._rgba.slice(),h=o.pop();return l&&o.push(~~(h*255)),"#"+D.map(o,function(p,n){return p=(p||0).toString(16),p.length===1?"0"+p:p}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,C.hsla.to=function(I){if(I[0]==null||I[1]==null||I[2]==null){return[null,null,null,I[3]]}var M=I[0]/255,v=I[1]/255,h=I[2]/255,G=I[3],N=Math.max(M,v,h),p=Math.min(M,v,h),L=N-p,K=N+p,H=K*0.5,F,J;return p===N?F=0:M===N?F=60*(v-h)/L+360:v===N?F=60*(h-M)/L+120:F=60*(M-v)/L+240,H===0||H===1?J=H:H<=0.5?J=L/K:J=L/(2-K),[Math.round(F)%360,J,H,G==null?1:G]
},C.hsla.from=function(G){if(G[0]==null||G[1]==null||G[2]==null){return[null,null,null,G[3]]}var J=G[0]/360,p=G[1],h=G[2],v=G[3],K=h<=0.5?h*(1+p):h+p-h*p,l=2*h-K,I,H,F;return[Math.round(B(l,K,J+1/3)*255),Math.round(B(l,K,J)*255),Math.round(B(l,K,J-1/3)*255),v]},w(C,function(t,o){var n=o.props,l=o.cache,h=o.to,p=o.from;j.fn[t]=function(G){h&&!this[l]&&(this[l]=h(this._rgba));if(G===k){return this[l].slice()}var F,v=D.type(G),u=v==="array"||v==="object"?G:arguments,H=this[l].slice();return w(n,function(I,r){var J=u[v==="object"?I:r.idx];J==null&&(J=H[r.idx]),H[r.idx]=g(J,r)}),p?(F=j(p(H)),F[l]=H,F):j(H)},w(n,function(v,u){if(j.fn[v]){return}j.fn[v]=function(H){var J=D.type(H),G=v==="alpha"?this._hsla?"hsla":"rgba":t,F=this[G](),I=F[u.idx],r;return J==="undefined"?I:(J==="function"&&(H=H.call(this,I),J=D.type(H)),H==null&&u.empty?this:(J==="string"&&(r=q.exec(H),r&&(H=I+parseFloat(r[2])*(r[1]==="+"?1:-1))),F[u.idx]=H,this[G](F)))}})}),w(e,function(h,l){D.cssHooks[l]={set:function(F,v){var p,t,o="";
if(D.type(v)!=="string"||(p=y(v))){v=j(p||v);if(!x.rgba&&v._rgba[3]!==1){t=l==="backgroundColor"?F.parentNode:F;while((o===""||o==="transparent")&&t&&t.style){try{o=D.css(t,"backgroundColor"),t=t.parentNode}catch(n){}}v=v.blend(o&&o!=="transparent"?o:"_default")}v=v.toRgbaString()}try{F.style[l]=v}catch(v){}}},D.fx.step[l]=function(n){n.colorInit||(n.start=j(n.elem,l),n.end=j(n.end),n.colorInit=!0),D.cssHooks[l].set(n.elem,n.start.transition(n.end,n.pos))}}),D.cssHooks.borderColor={expand:function(l){var h={};return w(["Top","Right","Bottom","Left"],function(p,o){h["border"+o+"Color"]=l}),h}},z=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){var l=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,p={},o,k,m;
if(l&&l.length&&l[0]&&l[l[0]]){m=l.length;while(m--){o=l[m],typeof l[o]=="string"&&(p[d.camelCase(o)]=l[o])}}else{for(o in l){typeof l[o]=="string"&&(p[o]=l[o])}}return p}function g(l,q){var k={},m,p;for(m in q){p=q[m],l[m]!==p&&!h[m]&&(d.fx.step[m]||!isNaN(parseFloat(p)))&&(k[m]=p)}return k}var j=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(k,l){d.fx.step[l]=function(m){if(m.end!=="none"&&!m.setAttr||m.pos===1&&!m.setAttr){jQuery.style(m.elem,l,m.end),m.setAttr=!0}}}),d.effects.animateClass=function(m,n,p,l){var k=d.speed(n,p,l);return this.queue(function(){var t=d(this),w=t.attr("class")||"",q,v=k.children?t.find("*").andSelf():t;v=v.map(function(){var o=d(this);return{el:o,start:e.call(this)}}),q=function(){d.each(j,function(o,r){m[r]&&t[r+"Class"](m[r])})},q(),v=v.map(function(){return this.end=e.call(this.el[0]),this.diff=g(this.start,this.end),this
}),t.attr("class",w),v=v.map(function(){var o=this,x=d.Deferred(),u=jQuery.extend({},k,{queue:!1,complete:function(){x.resolve(o)}});return this.el.animate(this.diff,u),x.promise()}),d.when.apply(d,v.get()).done(function(){q(),d.each(arguments,function(){var o=this.el;d.each(this.diff,function(r){o.css(r,"")})}),k.complete.call(t[0])})})},d.fn.extend({_addClass:d.fn.addClass,addClass:function(l,o,m,k){return o?d.effects.animateClass.call(this,{add:l},o,m,k):this._addClass(l)},_removeClass:d.fn.removeClass,removeClass:function(l,o,m,k){return o?d.effects.animateClass.call(this,{remove:l},o,m,k):this._removeClass(l)},_toggleClass:d.fn.toggleClass,toggleClass:function(q,m,k,l,p){return typeof m=="boolean"||m===a?k?d.effects.animateClass.call(this,m?{add:q}:{remove:q},k,l,p):this._toggleClass(q,m):d.effects.animateClass.call(this,{toggle:q},m,k,l)},switchClass:function(l,p,o,k,m){return d.effects.animateClass.call(this,{add:p,remove:l},o,k,m)}})}(),function(){function e(l,k,h,j){d.isPlainObject(l)&&(k=l,l=l.effect),l={effect:l},k===a&&(k={}),d.isFunction(k)&&(j=k,h=null,k={});
if(typeof k=="number"||d.fx.speeds[k]){j=h,h=k,k={}}return d.isFunction(h)&&(j=h,h=null),k&&d.extend(l,k),h=h||k.duration,l.duration=d.fx.off?0:typeof h=="number"?h:h in d.fx.speeds?d.fx.speeds[h]:d.fx.speeds._default,l.complete=j||k.complete,l}function g(h){return !h||typeof h=="number"||d.fx.speeds[h]?!0:typeof h=="string"&&!d.effects.effect[h]?f&&d.effects[h]?!1:!0:!1}d.extend(d.effects,{version:"1.9.0",save:function(j,h){for(var k=0;k<h.length;k++){h[k]!==null&&j.data(b+h[k],j[0].style[h[k]])}},restore:function(k,l){var h,j;for(j=0;j<l.length;j++){l[j]!==null&&(h=k.data(b+l[j]),h===a&&(h=""),k.css(l[j],h))}},setMode:function(j,h){return h==="toggle"&&(h=j.is(":hidden")?"show":"hide"),h},getBaseline:function(k,h){var l,j;switch(k[0]){case"top":l=0;break;case"middle":l=0.5;break;case"bottom":l=1;break;default:l=k[0]/h.height}switch(k[1]){case"left":j=0;break;case"center":j=0.5;break;case"right":j=1;break;default:j=k[1]/h.width}return{x:j,y:l}},createWrapper:function(j){if(j.parent().is(".ui-effects-wrapper")){return j.parent()
}var p={width:j.outerWidth(!0),height:j.outerHeight(!0),"float":j.css("float")},l=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),h={width:j.width(),height:j.height()},k=document.activeElement;try{k.id}catch(m){k=document.body}return j.wrap(l),(j[0]===k||d.contains(j[0],k))&&d(k).focus(),l=j.parent(),j.css("position")==="static"?(l.css({position:"relative"}),j.css({position:"relative"})):(d.extend(p,{position:j.css("position"),zIndex:j.css("z-index")}),d.each(["top","left","bottom","right"],function(o,n){p[n]=j.css(n),isNaN(parseInt(p[n],10))&&(p[n]="auto")}),j.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),j.css(h),l.css(p).show()},removeWrapper:function(h){var j=document.activeElement;return h.parent().is(".ui-effects-wrapper")&&(h.parent().replaceWith(h),(h[0]===j||d.contains(h[0],j))&&d(j).focus()),h},setTransition:function(j,l,k,h){return h=h||{},d.each(l,function(o,p){var m=j.cssUnit(p);
m[0]>0&&(h[p]=m[0]*k+m[1])}),h}}),d.fn.extend({effect:function(x,j,y,k){function n(l){function o(){d.isFunction(u)&&u.call(z[0]),d.isFunction(l)&&l()}var z=d(this),u=w.complete,h=w.mode;(z.is(":hidden")?h==="hide":h==="show")?o():m.call(z[0],w,o)}var w=e.apply(this,arguments),v=w.mode,p=w.queue,m=d.effects.effect[w.effect],q=!m&&f&&d.effects[w.effect];return d.fx.off||!m&&!q?v?this[v](w.duration,w.complete):this.each(function(){w.complete&&w.complete.call(this)}):m?p===!1?this.each(n):this.queue(p||"fx",n):q.call(this,{options:w,duration:w.duration,callback:w.complete,mode:w.mode})},_show:d.fn.show,show:function(j){if(g(j)){return this._show.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="show",this.effect.call(this,h)},_hide:d.fn.hide,hide:function(j){if(g(j)){return this._hide.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="hide",this.effect.call(this,h)},__toggle:d.fn.toggle,toggle:function(h){if(g(h)||typeof h=="boolean"||d.isFunction(h)){return this.__toggle.apply(this,arguments)
}var j=e.apply(this,arguments);return j.mode="toggle",this.effect.call(this,j)},cssUnit:function(h){var k=this.css(h),j=[];return d.each(["em","px","%","pt"],function(m,l){k.indexOf(l)>0&&(j=[parseFloat(k),l])}),j}})}(),function(){var e={};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(g,h){e[h]=function(j){return Math.pow(j,g+2)}}),d.extend(e,{Sine:function(g){return 1-Math.cos(g*Math.PI/2)},Circ:function(g){return 1-Math.sqrt(1-g*g)},Elastic:function(g){return g===0||g===1?g:-Math.pow(2,8*(g-1))*Math.sin(((g-1)*80-7.5)*Math.PI/15)},Back:function(g){return g*g*(3*g-2)},Bounce:function(h){var g,j=4;while(h<((g=Math.pow(2,--j))-1)/11){}return 1/Math.pow(4,3-j)-7.5625*Math.pow((g*3-2)/22-h,2)}}),d.each(e,function(g,h){d.easing["easeIn"+g]=h,d.easing["easeOut"+g]=function(j){return 1-h(1-j)},d.easing["easeInOut"+g]=function(j){return j<0.5?h(j*2)/2:1-h(j*-2+2)/2}})}()}(jQuery);(function(d,a){var f=/up|down|vertical/,b=/up|left|vertical|horizontal/;d.effects.effect.blind=function(D,q){var E=d(this),j=["position","top","bottom","left","right","height","width"],C=d.effects.setMode(E,D.mode||"hide"),A=D.direction||"up",x=f.test(A),n=x?"height":"width",z=x?"top":"left",r=b.test(A),e={},y=C==="show",B,k,w;
E.parent().is(".ui-effects-wrapper")?d.effects.save(E.parent(),j):d.effects.save(E,j),E.show(),B=d.effects.createWrapper(E).css({overflow:"hidden"}),k=B[n](),w=parseFloat(B.css(z))||0,e[n]=y?k:0,r||(E.css(x?"bottom":"right",0).css(x?"top":"left","auto").css({position:"absolute"}),e[z]=y?w:k+w),y&&(B.css(n,0),r||B.css(z,w+k)),B.animate(e,{duration:D.duration,easing:D.easing,queue:!1,complete:function(){C==="hide"&&E.hide(),d.effects.restore(E,j),d.effects.removeWrapper(E),q()}})}})(jQuery);(function(b,a){b.effects.effect.bounce=function(x,D){var A=b(this),G=["position","top","bottom","left","right","height","width"],z=b.effects.setMode(A,x.mode||"effect"),C=z==="hide",q=z==="show",N=x.direction||"up",J=x.distance,F=x.times||5,L=F*2+(q||C?1:0),H=x.duration/L,B=x.easing,K=N==="up"||N==="down"?"top":"left",k=N==="up"||N==="left",E,I,e,M=A.queue(),j=M.length;(q||C)&&G.push("opacity"),b.effects.save(A,G),A.show(),b.effects.createWrapper(A),J||(J=A[K==="top"?"outerHeight":"outerWidth"]()/3),q&&(e={opacity:1},e[K]=0,A.css("opacity",0).css(K,k?-J*2:J*2).animate(e,H,B)),C&&(J/=Math.pow(2,F-1)),e={},e[K]=0;
for(E=0;E<F;E++){I={},I[K]=(k?"-=":"+=")+J,A.animate(I,H,B).animate(e,H,B),J=C?J*2:J/2}C&&(I={opacity:0},I[K]=(k?"-=":"+=")+J,A.animate(I,H,B)),A.queue(function(){C&&A.hide(),b.effects.restore(A,G),b.effects.removeWrapper(A),D()}),j>1&&M.splice.apply(M,[1,0].concat(M.splice(j,L+1))),A.dequeue()}})(jQuery);(function(b,a){b.effects.effect.clip=function(B,k){var e=b(this),q=["position","top","bottom","left","right","height","width"],C=b.effects.setMode(e,B.mode||"hide"),j=C==="show",A=B.direction||"vertical",z=A==="vertical",w=z?"height":"width",m=z?"top":"left",y={},v,g,x;b.effects.save(e,q),e.show(),v=b.effects.createWrapper(e).css({overflow:"hidden"}),g=e[0].tagName==="IMG"?v:e,x=g[w](),j&&(g.css(w,0),g.css(m,x/2)),y[w]=j?x:0,y[m]=j?0:x/2,g.animate(y,{queue:!1,duration:B.duration,easing:B.easing,complete:function(){j||e.hide(),b.effects.restore(e,q),b.effects.removeWrapper(e),k()}})}})(jQuery);(function(b,a){b.effects.effect.drop=function(v,g){var d=b(this),j=["position","top","bottom","left","right","opacity","height","width"],w=b.effects.setMode(d,v.mode||"hide"),e=w==="show",q=v.direction||"left",p=q==="up"||q==="down"?"top":"left",k=q==="up"||q==="left"?"pos":"neg",h={opacity:e?1:0},m;
b.effects.save(d,j),d.show(),b.effects.createWrapper(d),m=v.distance||d[p==="top"?"outerHeight":"outerWidth"](!0)/2,e&&d.css("opacity",0).css(p,k==="pos"?-m:m),h[p]=(e?k==="pos"?"+=":"-=":k==="pos"?"-=":"+=")+m,d.animate(h,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){w==="hide"&&d.hide(),b.effects.restore(d,j),b.effects.removeWrapper(d),g()}})}})(jQuery);(function(b,a){b.effects.effect.explode=function(q,B){function e(){J.push(this),J.length===x*E&&K()}function K(){w.css({visibility:"visible"}),b(J).remove(),k||w.hide(),B()}var x=q.pieces?Math.round(Math.sqrt(q.pieces)):3,E=x,w=b(this),A=b.effects.setMode(w,q.mode||"hide"),k=A==="show",L=w.show().css("visibility","hidden").offset(),H=Math.ceil(w.outerWidth()/E),D=Math.ceil(w.outerHeight()/x),J=[],F,z,I,j,C,G;for(F=0;F<x;F++){j=L.top+F*D,G=F-(x-1)/2;for(z=0;z<E;z++){I=L.left+z*H,C=z-(E-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-z*H,top:-F*D}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:H,height:D,left:I+(k?C*H:0),top:j+(k?G*D:0),opacity:k?0:1}).animate({left:I+(k?0:C*H),top:j+(k?0:G*D),opacity:k?1:0},q.duration||500,q.easing,e)
}}}})(jQuery);(function(b,a){b.effects.effect.fade=function(e,g){var f=b(this),d=b.effects.setMode(f,e.mode||"toggle");f.animate({opacity:d},{queue:!1,duration:e.duration,easing:e.easing,complete:g})}})(jQuery);(function(b,a){b.effects.effect.fold=function(H,q){var e=b(this),y=["position","top","bottom","left","right","height","width"],I=b.effects.setMode(e,H.mode||"hide"),k=I==="show",G=I==="hide",E=H.size||15,B=/([0-9]+)%/.exec(E),x=!!H.horizFirst,D=k!==x,z=D?["width","height"]:["height","width"],j=H.duration/2,C,F,w={},A={};b.effects.save(e,y),e.show(),C=b.effects.createWrapper(e).css({overflow:"hidden"}),F=D?[C.width(),C.height()]:[C.height(),C.width()],B&&(E=parseInt(B[1],10)/100*F[G?0:1]),k&&C.css(x?{height:0,width:E}:{height:E,width:0}),w[z[0]]=k?F[0]:E,A[z[1]]=k?F[1]:0,C.animate(w,j,H.easing).animate(A,j,H.easing,function(){G&&e.hide(),b.effects.restore(e,y),b.effects.removeWrapper(e),q()})}})(jQuery);(function(b,a){b.effects.effect.highlight=function(e,j){var g=b(this),d=["backgroundImage","backgroundColor","opacity"],f=b.effects.setMode(g,e.mode||"show"),h={backgroundColor:g.css("backgroundColor")};
f==="hide"&&(h.opacity=0),b.effects.save(g,d),g.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){f==="hide"&&g.hide(),b.effects.restore(g,d),j()}})}})(jQuery);(function(b,a){b.effects.effect.pulsate=function(z,j){var d=b(this),m=b.effects.setMode(d,z.mode||"show"),A=m==="show",g=m==="hide",y=A||m==="hide",x=(z.times||5)*2+(y?1:0),v=z.duration/x,k=0,w=d.queue(),q=w.length,e;if(A||!d.is(":visible")){d.css("opacity",0).show(),k=1}for(e=1;e<x;e++){d.animate({opacity:k},v,z.easing),k=1-k}d.animate({opacity:k},v,z.easing),d.queue(function(){g&&d.hide(),j()}),q>1&&w.splice.apply(w,[1,0].concat(w.splice(q,x+1))),d.dequeue()}})(jQuery);(function(b,a){b.effects.effect.puff=function(g,l){var j=b(this),f=b.effects.setMode(j,g.mode||"hide"),h=f==="hide",k=parseInt(g.percent,10)||150,e=k/100,d={height:j.height(),width:j.width()};b.extend(g,{effect:"scale",queue:!1,fade:!0,mode:f,complete:l,percent:h?k:100,from:h?d:{height:d.height*e,width:d.width*e}}),j.effect(g)
},b.effects.effect.scale=function(q,g){var d=b(this),j=b.extend(!0,{},q),v=b.effects.setMode(d,q.mode||"effect"),e=parseInt(q.percent,10)||(parseInt(q.percent,10)===0?0:v==="hide"?0:100),p=q.direction||"both",m=q.origin,k={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},h={y:p!=="horizontal"?e/100:1,x:p!=="vertical"?e/100:1};j.effect="size",j.queue=!1,j.complete=g,v!=="effect"&&(j.origin=m||["middle","center"],j.restore=!0),j.from=q.from||(v==="show"?{height:0,width:0}:k),j.to={height:k.height*h.y,width:k.width*h.x,outerHeight:k.outerHeight*h.y,outerWidth:k.outerWidth*h.x},j.fade&&(v==="show"&&(j.from.opacity=0,j.to.opacity=1),v==="hide"&&(j.from.opacity=1,j.to.opacity=0)),d.effect(j)},b.effects.effect.size=function(H,q){var e=b(this),y=["position","top","bottom","left","right","width","height","overflow","opacity"],I=["position","top","bottom","left","right","overflow","opacity"],k=["width","height","overflow"],G=["fontSize"],E=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],B=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],x=b.effects.setMode(e,H.mode||"effect"),D=H.restore||x!=="effect",z=H.scale||"both",j=H.origin||["middle","center"],C,F,w,A=e.css("position");
x==="show"&&e.show(),C={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()},e.from=H.from||C,e.to=H.to||C,w={from:{y:e.from.height/C.height,x:e.from.width/C.width},to:{y:e.to.height/C.height,x:e.to.width/C.width}};if(z==="box"||z==="both"){w.from.y!==w.to.y&&(y=y.concat(E),e.from=b.effects.setTransition(e,E,w.from.y,e.from),e.to=b.effects.setTransition(e,E,w.to.y,e.to)),w.from.x!==w.to.x&&(y=y.concat(B),e.from=b.effects.setTransition(e,B,w.from.x,e.from),e.to=b.effects.setTransition(e,B,w.to.x,e.to))}(z==="content"||z==="both")&&w.from.y!==w.to.y&&(y=y.concat(G),e.from=b.effects.setTransition(e,G,w.from.y,e.from),e.to=b.effects.setTransition(e,G,w.to.y,e.to)),b.effects.save(e,D?y:I),e.show(),b.effects.createWrapper(e),e.css("overflow","hidden").css(e.from),j&&(F=b.effects.getBaseline(j,C),e.from.top=(C.outerHeight-e.outerHeight())*F.y,e.from.left=(C.outerWidth-e.outerWidth())*F.x,e.to.top=(C.outerHeight-e.to.outerHeight)*F.y,e.to.left=(C.outerWidth-e.to.outerWidth)*F.x),e.css(e.from);
if(z==="content"||z==="both"){E=E.concat(["marginTop","marginBottom"]).concat(G),B=B.concat(["marginLeft","marginRight"]),k=y.concat(E).concat(B),e.find("*[width]").each(function(){var f=b(this),d={height:f.height(),width:f.width()};D&&b.effects.save(f,k),f.from={height:d.height*w.from.y,width:d.width*w.from.x},f.to={height:d.height*w.to.y,width:d.width*w.to.x},w.from.y!==w.to.y&&(f.from=b.effects.setTransition(f,E,w.from.y,f.from),f.to=b.effects.setTransition(f,E,w.to.y,f.to)),w.from.x!==w.to.x&&(f.from=b.effects.setTransition(f,B,w.from.x,f.from),f.to=b.effects.setTransition(f,B,w.to.x,f.to)),f.css(f.from),f.animate(f.to,H.duration,H.easing,function(){D&&b.effects.restore(f,k)})})}e.animate(e.to,{queue:!1,duration:H.duration,easing:H.easing,complete:function(){e.to.opacity===0&&e.css("opacity",e.from.opacity),x==="hide"&&e.hide(),b.effects.restore(e,D?y:I),D||(A==="static"?e.css({position:"relative",top:e.to.top,left:e.to.left}):b.each(["top","left"],function(f,d){e.css(d,function(h,m){var g=parseInt(m,10),l=f?e.to.left:e.to.top;
return m==="auto"?l+"px":g+l+"px"})})),b.effects.removeWrapper(e),q()}})}})(jQuery);(function(b,a){b.effects.effect.shake=function(q,B){var x=b(this),E=["position","top","bottom","left","right","height","width"],w=b.effects.setMode(x,q.mode||"effect"),A=q.direction||"left",k=q.distance||20,K=q.times||3,H=K*2+1,D=Math.round(q.duration/H),J=A==="up"||A==="down"?"top":"left",F=A==="up"||A==="left",z={},I={},j={},C,G=x.queue(),e=G.length;b.effects.save(x,E),x.show(),b.effects.createWrapper(x),z[J]=(F?"-=":"+=")+k,I[J]=(F?"+=":"-=")+k*2,j[J]=(F?"-=":"+=")+k*2,x.animate(z,D,q.easing);for(C=1;C<K;C++){x.animate(I,D,q.easing).animate(j,D,q.easing)}x.animate(I,D,q.easing).animate(z,D/2,q.easing).queue(function(){w==="hide"&&x.hide(),b.effects.restore(x,E),b.effects.removeWrapper(x),B()}),e>1&&G.splice.apply(G,[1,0].concat(G.splice(e,H+1))),x.dequeue()}})(jQuery);(function(b,a){b.effects.effect.slide=function(v,g){var d=b(this),j=["position","top","bottom","left","right","width","height"],w=b.effects.setMode(d,v.mode||"show"),e=w==="show",q=v.direction||"left",p=q==="up"||q==="down"?"top":"left",k=q==="up"||q==="left",h,m={};
b.effects.save(d,j),d.show(),h=v.distance||d[p==="top"?"outerHeight":"outerWidth"](!0),b.effects.createWrapper(d).css({overflow:"hidden"}),e&&d.css(p,k?isNaN(h)?"-"+h:-h:h),m[p]=(e?k?"+=":"-=":k?"-=":"+=")+h,d.animate(m,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){w==="hide"&&d.hide(),b.effects.restore(d,j),b.effects.removeWrapper(d),g()}})}})(jQuery);(function(b,a){b.effects.effect.transfer=function(x,g){var d=b(this),k=b(x.to),y=k.css("position")==="fixed",e=b("body"),w=y?e.scrollTop():0,v=y?e.scrollLeft():0,p=k.offset(),j={top:p.top-w,left:p.left-v,height:k.innerHeight(),width:k.innerWidth()},q=d.offset(),m=b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(x.className).css({top:q.top-w,left:q.left-v,height:d.innerHeight(),width:d.innerWidth(),position:y?"fixed":"absolute"}).animate(j,x.duration,x.easing,function(){m.remove(),g()})}})(jQuery);(function(b,a){var d=!1;b.widget("ui.menu",{version:"1.9.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(f){this.options.disabled&&f.preventDefault()
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(f){f.preventDefault()},"click .ui-state-disabled > a":function(f){f.preventDefault()},"click .ui-menu-item:has(a)":function(e){var f=b(e.target).closest(".ui-menu-item");!d&&f.not(".ui-state-disabled").length&&(d=!0,this.select(e),f.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var f=b(e.currentTarget);f.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(g,f){var h=this.active||this.element.children(".ui-menu-item").eq(0);f||this.focus(g,h)},blur:function(e){this._delay(function(){b.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)
})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){b(e.target).closest(".ui-menu").length||this.collapseAll(e),d=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=b(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(h){function e(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")
}var m,k,g,j,l,f=!0;switch(h.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(h);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(h);break;case b.ui.keyCode.HOME:this._move("first","first",h);break;case b.ui.keyCode.END:this._move("last","last",h);break;case b.ui.keyCode.UP:this.previous(h);break;case b.ui.keyCode.DOWN:this.next(h);break;case b.ui.keyCode.LEFT:this.collapse(h);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(h);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(h);break;case b.ui.keyCode.ESCAPE:this.collapse(h);break;default:f=!1,k=this.previousFilter||"",g=String.fromCharCode(h.keyCode),j=!1,clearTimeout(this.filterTimer),g===k?j=!0:g=k+g,l=new RegExp("^"+e(g),"i"),m=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(b(this).children("a").text())}),m=j&&m.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):m,m.length||(g=String.fromCharCode(h.keyCode),l=new RegExp("^"+e(g),"i"),m=this.activeMenu.children(".ui-menu-item").filter(function(){return l.test(b(this).children("a").text())
})),m.length?(this.focus(h,m),m.length>1?(this.previousFilter=g,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}f&&h.preventDefault()},_activate:function(f){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(f):this.select(f))},refresh:function(){var e,g=this.options.icons.submenu,f=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});e=f.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var h=b(this);/[^\-\s]/.test(h.text())||h.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),f.each(function(){var j=b(this),k=j.prev("a"),h=b("<span>").addClass("ui-menu-icon ui-icon "+g).data("ui-menu-submenu-carat",!0);
k.attr("aria-haspopup","true").prepend(h),j.attr("aria-labelledby",k.attr("id"))}),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(h,f){var j,g;this.blur(h,h&&h.type==="focus"),this._scrollIntoView(f),this.active=f.first(),g=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",g.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),h&&h.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),j=f.children(".ui-menu"),j.length&&/^mouse/.test(h.type)&&this._startOpening(j),this.activeMenu=f.parent(),this._trigger("focus",h,{item:f})},_scrollIntoView:function(g){var l,j,f,h,k,e;this._hasScroll()&&(l=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,j=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,f=g.offset().top-this.activeMenu.offset().top-l-j,h=this.activeMenu.scrollTop(),k=this.activeMenu.height(),e=g.height(),f<0?this.activeMenu.scrollTop(h+f):f+e>k&&this.activeMenu.scrollTop(h+f-k+e))
},blur:function(g,f){f||clearTimeout(this.timer);if(!this.active){return}this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",g,{item:this.active})},_startOpening:function(f){clearTimeout(this.timer);if(f.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close(),this._open(f)},this.delay)},_open:function(e){var f=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(f)},collapseAll:function(e,f){clearTimeout(this.timer),this.timer=this._delay(function(){var g=f?this.element:b(e&&e.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element),this._close(g),this.blur(e),this.activeMenu=g},this.delay)},_close:function(f){f||(f=this.active?this.active.parent():this.element),f.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")
},collapse:function(g){var f=this.active&&this.active.parent().closest(".ui-menu-item",this.element);f&&f.length&&(this._close(),this.focus(g,f))},expand:function(g){var f=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();f&&f.length&&(this._open(f.parent()),this._delay(function(){this.focus(g,f)}))},next:function(f){this._move("next","first",f)},previous:function(f){this._move("prev","last",f)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(h,f,j){var g;this.active&&(h==="first"||h==="last"?g=this.active[h==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):g=this.active[h+"All"](".ui-menu-item").eq(0));if(!g||!g.length||!this.active){g=this.activeMenu.children(".ui-menu-item")[f]()}this.focus(j,g)},nextPage:function(f){var h,g,e;if(!this.active){this.next(f);return}if(this.isLastItem()){return}this._hasScroll()?(g=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return h=b(this),h.offset().top-g-e<0
}),this.focus(f,h)):this.focus(f,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(f){var h,g,e;if(!this.active){this.next(f);return}if(this.isFirstItem()){return}this._hasScroll()?(g=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return h=b(this),h.offset().top-g+e>0}),this.focus(f,h)):this.focus(f,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||b(e.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,f)}})})(jQuery);(function(b,a){b.widget("ui.progressbar",{version:"1.9.0",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()
},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(d){return d===a?this._value():(this._setOption("value",d),this)},_setOption:function(f,d){f==="value"&&(this.options.value=d,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(f,d)},_value:function(){var d=this.options.value;return typeof d!="number"&&(d=0),Math.min(this.options.max,Math.max(this.min,d))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var f=this.value(),d=this._percentage();this.oldValue!==f&&(this.oldValue=f,this._trigger("change")),this.valueDiv.toggle(f>this.min).toggleClass("ui-corner-right",f===this.options.max).width(d.toFixed(0)+"%"),this.element.attr("aria-valuenow",f)}})})(jQuery);(function(d,a){d.widget("ui.resizable",d.ui.mouse,{version:"1.9.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var h=this,m=this.options;
this.element.addClass("ui-resizable"),d.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(d('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=m.handles||(d(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");
if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var k=this.handles.split(",");this.handles={};for(var g=0;g<k.length;g++){var j=d.trim(k[g]),l="ui-resizable-"+j,e=d('<div class="ui-resizable-handle '+l+'"></div>');e.css({zIndex:m.zIndex}),"se"==j&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[j]=".ui-resizable-"+j,this.element.append(e)}}this._renderAxis=function(p){p=p||this.element;for(var v in this.handles){this.handles[v].constructor==String&&(this.handles[v]=d(this.handles[v],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var u=d(this.handles[v],this.element),o=0;o=/sw|ne|nw|se|n|s/.test(v)?u.outerHeight():u.outerWidth();var q=["padding",/ne|nw|n/.test(v)?"Top":/se|sw|s/.test(v)?"Bottom":/^e$/.test(v)?"Right":"Left"].join("");p.css(q,o),this._proportionallyResize()}if(!d(this.handles[v]).length){continue}}},this._renderAxis(this.element),this._handles=d(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!h.resizing){if(this.className){var n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)
}h.axis=n&&n[1]?n[1]:"se"}}),m.autoHide&&(this._handles.hide(),d(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(m.disabled){return}d(this).removeClass("ui-resizable-autohide"),h._handles.show()}).mouseleave(function(){if(m.disabled){return}h.resizing||(d(this).addClass("ui-resizable-autohide"),h._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(h){d(h).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var g=this.element;g.after(this.originalElement.css({position:g.css("position"),width:g.outerWidth(),height:g.outerHeight(),top:g.css("top"),left:g.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var h=!1;for(var g in this.handles){d(this.handles[g])[0]==e.target&&(h=!0)
}return !this.options.disabled&&h},_mouseStart:function(j){var l=this.options,h=this.element.position(),k=this.element;this.resizing=!0,this.documentScroll={top:d(document).scrollTop(),left:d(document).scrollLeft()},(k.is(".ui-draggable")||/absolute/.test(k.css("position")))&&k.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy();var m=f(this.helper.css("left")),g=f(this.helper.css("top"));l.containment&&(m+=d(l.containment).scrollLeft()||0,g+=d(l.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:m,top:g},this.size=this._helper?{width:k.outerWidth(),height:k.outerHeight()}:{width:k.width(),height:k.height()},this.originalSize=this._helper?{width:k.outerWidth(),height:k.outerHeight()}:{width:k.width(),height:k.height()},this.originalPosition={left:m,top:g},this.sizeDiff={width:k.outerWidth()-k.width(),height:k.outerHeight()-k.height()},this.originalMousePosition={left:j.pageX,top:j.pageY},this.aspectRatio=typeof l.aspectRatio=="number"?l.aspectRatio:this.originalSize.width/this.originalSize.height||1;
var e=d(".ui-resizable-"+this.axis).css("cursor");return d("body").css("cursor",e=="auto"?this.axis+"-resize":e),k.addClass("ui-resizable-resizing"),this._propagate("start",j),!0},_mouseDrag:function(q){var x=this.helper,j=this.options,g={},m=this,y=this.originalMousePosition,h=this.axis,w=q.pageX-y.left||0,v=q.pageY-y.top||0,p=this._change[h];if(!p){return !1}var k=p.apply(this,[q,w,v]);this._updateVirtualBoundaries(q.shiftKey);if(this._aspectRatio||q.shiftKey){k=this._updateRatio(k,q)}return k=this._respectSize(k,q),this._propagate("resize",q),x.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(k),this._trigger("resize",q,this.ui()),!1},_mouseStop:function(v){this.resizing=!1;var h=this.options,e=this;if(this._helper){var k=this._proportionallyResizeElements,w=k.length&&/textarea/i.test(k[0].nodeName),g=w&&d.ui.hasScroll(k[0],"left")?0:e.sizeDiff.height,q=w?0:e.sizeDiff.width,p={width:e.helper.width()-q,height:e.helper.height()-g},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,j=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;
h.animate||this.element.css(d.extend(p,{top:j,left:m})),e.helper.height(e.size.height),e.helper.width(e.size.width),this._helper&&!h.animate&&this._proportionallyResize()}return d("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",v),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(l){var j=this.options,p,h,k,m,g;g={minWidth:b(j.minWidth)?j.minWidth:0,maxWidth:b(j.maxWidth)?j.maxWidth:Infinity,minHeight:b(j.minHeight)?j.minHeight:0,maxHeight:b(j.maxHeight)?j.maxHeight:Infinity};if(this._aspectRatio||l){p=g.minHeight*this.aspectRatio,k=g.minWidth/this.aspectRatio,h=g.maxHeight*this.aspectRatio,m=g.maxWidth/this.aspectRatio,p>g.minWidth&&(g.minWidth=p),k>g.minHeight&&(g.minHeight=k),h<g.maxWidth&&(g.maxWidth=h),m<g.maxHeight&&(g.maxHeight=m)}this._vBoundaries=g},_updateCache:function(h){var g=this.options;this.offset=this.helper.offset(),b(h.left)&&(this.position.left=h.left),b(h.top)&&(this.position.top=h.top),b(h.height)&&(this.size.height=h.height),b(h.width)&&(this.size.width=h.width)
},_updateRatio:function(k,h){var m=this.options,g=this.position,j=this.size,l=this.axis;return b(k.height)?k.width=k.height*this.aspectRatio:b(k.width)&&(k.height=k.width/this.aspectRatio),l=="sw"&&(k.left=g.left+(j.width-k.width),k.top=null),l=="nw"&&(k.top=g.top+(j.height-k.height),k.left=g.left+(j.width-k.width)),k},_respectSize:function(x,D){var k=this.helper,q=this._vBoundaries,E=this._aspectRatio||D.shiftKey,j=this.axis,C=b(x.width)&&q.maxWidth&&q.maxWidth<x.width,A=b(x.height)&&q.maxHeight&&q.maxHeight<x.height,w=b(x.width)&&q.minWidth&&q.minWidth>x.width,m=b(x.height)&&q.minHeight&&q.minHeight>x.height;w&&(x.width=q.minWidth),m&&(x.height=q.minHeight),C&&(x.width=q.maxWidth),A&&(x.height=q.maxHeight);var z=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,g=/sw|nw|w/.test(j),y=/nw|ne|n/.test(j);w&&g&&(x.left=z-q.minWidth),C&&g&&(x.left=z-q.maxWidth),m&&y&&(x.top=r-q.minHeight),A&&y&&(x.top=r-q.maxHeight);var B=!x.width&&!x.height;return B&&!x.left&&x.top?x.top=null:B&&!x.top&&x.left&&(x.left=null),x
},_proportionallyResize:function(){var g=this.options;if(!this._proportionallyResizeElements.length){return}var l=this.helper||this.element;for(var j=0;j<this._proportionallyResizeElements.length;j++){var e=this._proportionallyResizeElements[j];if(!this.borderDif){var h=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],k=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=d.map(h,function(p,m){var q=parseInt(p,10)||0,o=parseInt(k[m],10)||0;return q+o})}e.css({height:l.height()-this.borderDif[0]-this.borderDif[2]||0,width:l.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var g=this.element,k=this.options;this.elementOffset=g.offset();if(this._helper){this.helper=this.helper||d('<div style="overflow:hidden;"></div>');var j=d.browser.msie&&d.browser.version<7,e=j?1:0,h=j?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++k.zIndex}),this.helper.appendTo("body").disableSelection()
}else{this.helper=this.element}},_change:{e:function(h,g,j){return{width:this.originalSize.width+g}},w:function(l,h,m){var k=this.options,g=this.originalSize,j=this.originalPosition;return{left:j.left+h,width:g.width-h}},n:function(l,h,m){var k=this.options,g=this.originalSize,j=this.originalPosition;return{top:j.top+m,height:g.height-m}},s:function(h,g,j){return{height:this.originalSize.height+j}},se:function(e,h,g){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,h,g]))},sw:function(e,h,g){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,h,g]))},ne:function(e,h,g){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,h,g]))},nw:function(e,h,g){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,h,g]))}},_propagate:function(e,g){d.ui.plugin.call(this,e,[g,this.ui()]),e!="resize"&&this._trigger(e,g,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}
}}),d.ui.plugin.add("resizable","alsoResize",{start:function(g,k){var j=d(this).data("resizable"),e=j.options,h=function(l){d(l).each(function(){var m=d(this);m.data("resizable-alsoresize",{width:parseInt(m.width(),10),height:parseInt(m.height(),10),left:parseInt(m.css("left"),10),top:parseInt(m.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],h(e.alsoResize)):d.each(e.alsoResize,function(l){h(l)}):h(e.alsoResize)},resize:function(j,p){var l=d(this).data("resizable"),h=l.options,k=l.originalSize,m=l.originalPosition,g={height:l.size.height-k.height||0,width:l.size.width-k.width||0,top:l.position.top-m.top||0,left:l.position.left-m.left||0},e=function(n,o){d(n).each(function(){var r=d(this),q=d(this).data("resizable-alsoresize"),u={},v=o&&o.length?o:r.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];d.each(v,function(x,w){var y=(q[w]||0)+(g[w]||0);y&&y>=0&&(u[w]=y||null)}),r.css(u)
})};typeof h.alsoResize=="object"&&!h.alsoResize.nodeType?d.each(h.alsoResize,function(o,n){e(o,n)}):e(h.alsoResize)},stop:function(e,g){d(this).removeData("resizable-alsoresize")}}),d.ui.plugin.add("resizable","animate",{stop:function(w,h){var e=d(this).data("resizable"),k=e.options,x=e._proportionallyResizeElements,g=x.length&&/textarea/i.test(x[0].nodeName),v=g&&d.ui.hasScroll(x[0],"left")?0:e.sizeDiff.height,q=g?0:e.sizeDiff.width,m={width:e.size.width-q,height:e.size.height-v},j=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(d.extend(m,p&&j?{top:p,left:j}:{}),{duration:k.animateDuration,easing:k.animateEasing,step:function(){var l={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};x&&x.length&&d(x[0]).css({width:l.width,height:l.height}),e._updateCache(l),e._propagate("resize",w)
}})}}),d.ui.plugin.add("resizable","containment",{start:function(B,e){var m=d(this).data("resizable"),C=m.options,j=m.element,A=C.containment,y=A instanceof d?A.get(0):/parent/.test(A)?j.parent().get(0):A;if(!y){return}m.containerElement=d(y);if(/document/.test(A)||A==document){m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight}}else{var q=d(y),k=[];d(["Top","Right","Left","Bottom"]).each(function(l,h){k[l]=f(q.css("padding"+h))}),m.containerOffset=q.offset(),m.containerPosition=q.position(),m.containerSize={height:q.innerHeight()-k[3],width:q.innerWidth()-k[1]};var x=m.containerOffset,n=m.containerSize.height,g=m.containerSize.width,w=d.ui.hasScroll(y,"left")?y.scrollWidth:g,z=d.ui.hasScroll(y)?y.scrollHeight:n;m.parentData={element:y,left:x.left,top:x.top,width:w,height:z}}},resize:function(D,k){var e=d(this).data("resizable"),q=e.options,E=e.containerSize,j=e.containerOffset,C=e.size,A=e.position,x=e._aspectRatio||D.shiftKey,m={top:0,left:0},z=e.containerElement;
z[0]!=document&&/static/.test(z.css("position"))&&(m=j),A.left<(e._helper?j.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-j.left:e.position.left-m.left),x&&(e.size.height=e.size.width/e.aspectRatio),e.position.left=q.helper?j.left:0),A.top<(e._helper?j.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-j.top:e.position.top),x&&(e.size.width=e.size.height*e.aspectRatio),e.position.top=e._helper?j.top:0),e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top;var w=Math.abs((e._helper?e.offset.left-m.left:e.offset.left-m.left)+e.sizeDiff.width),g=Math.abs((e._helper?e.offset.top-m.top:e.offset.top-j.top)+e.sizeDiff.height),y=e.containerElement.get(0)==e.element.parent().get(0),B=/relative|absolute/.test(e.containerElement.css("position"));y&&B&&(w-=e.parentData.left),w+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-w,x&&(e.size.height=e.size.width/e.aspectRatio)),g+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-g,x&&(e.size.width=e.size.height*e.aspectRatio))
},stop:function(y,j){var e=d(this).data("resizable"),m=e.options,z=e.position,g=e.containerOffset,x=e.containerPosition,w=e.containerElement,q=d(e.helper),k=q.offset(),v=q.outerWidth()-e.sizeDiff.width,p=q.outerHeight()-e.sizeDiff.height;e._helper&&!m.animate&&/relative/.test(w.css("position"))&&d(this).css({left:k.left-x.left-g.left,width:v,height:p}),e._helper&&!m.animate&&/static/.test(w.css("position"))&&d(this).css({left:k.left-x.left-g.left,width:v,height:p})}}),d.ui.plugin.add("resizable","ghost",{start:function(g,k){var j=d(this).data("resizable"),e=j.options,h=j.size;j.ghost=j.originalElement.clone(),j.ghost.css({opacity:0.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),j.ghost.appendTo(j.helper)},resize:function(g,j){var h=d(this).data("resizable"),e=h.options;h.ghost&&h.ghost.css({position:"relative",height:h.size.height,width:h.size.width})},stop:function(g,j){var h=d(this).data("resizable"),e=h.options;
h.ghost&&h.helper&&h.helper.get(0).removeChild(h.ghost.get(0))}}),d.ui.plugin.add("resizable","grid",{resize:function(w,h){var e=d(this).data("resizable"),k=e.options,x=e.size,g=e.originalSize,v=e.originalPosition,q=e.axis,m=k._aspectRatio||w.shiftKey;k.grid=typeof k.grid=="number"?[k.grid,k.grid]:k.grid;var j=Math.round((x.width-g.width)/(k.grid[0]||1))*(k.grid[0]||1),p=Math.round((x.height-g.height)/(k.grid[1]||1))*(k.grid[1]||1);/^(se|s|e)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p):/^(ne)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p,e.position.top=v.top-p):/^(sw)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p,e.position.left=v.left-j):(e.size.width=g.width+j,e.size.height=g.height+p,e.position.top=v.top-p,e.position.left=v.left-j)}});var f=function(g){return parseInt(g,10)||0},b=function(g){return !isNaN(parseInt(g,10))}})(jQuery);(function(b,a){b.widget("ui.selectable",b.ui.mouse,{version:"1.9.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var d=this;
this.element.addClass("ui-selectable"),this.dragged=!1;var e;this.refresh=function(){e=b(d.options.filter,d.element[0]),e.addClass("ui-selectee"),e.each(function(){var f=b(this),g=f.offset();b.data(this,"selectable-item",{element:this,$element:f,left:g.left,top:g.top,right:g.left+f.outerWidth(),bottom:g.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=b("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(d){var f=this;this.opos=[d.pageX,d.pageY];if(this.options.disabled){return}var e=this.options;this.selectees=b(e.filter,this.element[0]),this._trigger("start",d),b(e.appendTo).append(this.helper),this.helper.css({left:d.clientX,top:d.clientY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var g=b.data(this,"selectable-item");
g.startselected=!0,!d.metaKey&&!d.ctrlKey&&(g.$element.removeClass("ui-selected"),g.selected=!1,g.$element.addClass("ui-unselecting"),g.unselecting=!0,f._trigger("unselecting",d,{unselecting:g.element}))}),b(d.target).parents().andSelf().each(function(){var h=b.data(this,"selectable-item");if(h){var g=!d.metaKey&&!d.ctrlKey||!h.$element.hasClass("ui-selected");return h.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting"),h.unselecting=!g,h.selecting=g,h.selected=g,g?f._trigger("selecting",d,{selecting:h.element}):f._trigger("unselecting",d,{unselecting:h.element}),!1}})},_mouseDrag:function(g){var l=this;this.dragged=!0;if(this.options.disabled){return}var j=this.options,f=this.opos[0],h=this.opos[1],k=g.pageX,e=g.pageY;if(f>k){var d=k;k=f,f=d}if(h>e){var d=e;e=h,h=d}return this.helper.css({left:f,top:h,width:k-f,height:e-h}),this.selectees.each(function(){var m=b.data(this,"selectable-item");if(!m||m.element==l.element[0]){return}var n=!1;j.tolerance=="touch"?n=!(m.left>k||m.right<f||m.top>e||m.bottom<h):j.tolerance=="fit"&&(n=m.left>f&&m.right<k&&m.top>h&&m.bottom<e),n?(m.selected&&(m.$element.removeClass("ui-selected"),m.selected=!1),m.unselecting&&(m.$element.removeClass("ui-unselecting"),m.unselecting=!1),m.selecting||(m.$element.addClass("ui-selecting"),m.selecting=!0,l._trigger("selecting",g,{selecting:m.element}))):(m.selecting&&((g.metaKey||g.ctrlKey)&&m.startselected?(m.$element.removeClass("ui-selecting"),m.selecting=!1,m.$element.addClass("ui-selected"),m.selected=!0):(m.$element.removeClass("ui-selecting"),m.selecting=!1,m.startselected&&(m.$element.addClass("ui-unselecting"),m.unselecting=!0),l._trigger("unselecting",g,{unselecting:m.element}))),m.selected&&!g.metaKey&&!g.ctrlKey&&!m.startselected&&(m.$element.removeClass("ui-selected"),m.selected=!1,m.$element.addClass("ui-unselecting"),m.unselecting=!0,l._trigger("unselecting",g,{unselecting:m.element})))
}),!1},_mouseStop:function(d){var f=this;this.dragged=!1;var e=this.options;return b(".ui-unselecting",this.element[0]).each(function(){var g=b.data(this,"selectable-item");g.$element.removeClass("ui-unselecting"),g.unselecting=!1,g.startselected=!1,f._trigger("unselected",d,{unselected:g.element})}),b(".ui-selecting",this.element[0]).each(function(){var g=b.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected"),g.selecting=!1,g.selected=!0,g.startselected=!0,f._trigger("selected",d,{selected:g.element})}),this._trigger("stop",d),this.helper.remove(),!1}})})(jQuery);(function(b,a){var d=5;b.widget("ui.slider",b.ui.mouse,{version:"1.9.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var g,j=this.options,f=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=j.values&&j.values.length||1,e=[];
this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(j.disabled?" ui-slider-disabled ui-disabled":"")),this.range=b([]),j.range&&(j.range===!0&&(j.values||(j.values=[this._valueMin(),this._valueMin()]),j.values.length&&j.values.length!==2&&(j.values=[j.values[0],j.values[0]])),this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(j.range==="min"||j.range==="max"?" ui-slider-range-"+j.range:"")));for(g=f.length;g<k;g++){e.push(h)}this.handles=f.add(b(e.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(l){l.preventDefault()}).mouseenter(function(){j.disabled||b(this).addClass("ui-state-hover")}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){j.disabled?b(this).blur():(b(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),b(this).addClass("ui-state-focus"))
}).blur(function(){b(this).removeClass("ui-state-focus")}),this.handles.each(function(l){b(this).data("ui-slider-handle-index",l)}),this._on(this.handles,{keydown:function(n){var q,m,p,v,l=b(n.target).data("ui-slider-handle-index");switch(n.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:n.preventDefault();if(!this._keySliding){this._keySliding=!0,b(n.target).addClass("ui-state-active"),q=this._start(n,l);if(q===!1){return}}}v=this.options.step,this.options.values&&this.options.values.length?m=p=this.values(l):m=p=this.value();switch(n.keyCode){case b.ui.keyCode.HOME:p=this._valueMin();break;case b.ui.keyCode.END:p=this._valueMax();break;case b.ui.keyCode.PAGE_UP:p=this._trimAlignValue(m+(this._valueMax()-this._valueMin())/d);break;case b.ui.keyCode.PAGE_DOWN:p=this._trimAlignValue(m-(this._valueMax()-this._valueMin())/d);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(m===this._valueMax()){return
}p=this._trimAlignValue(m+v);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(m===this._valueMin()){return}p=this._trimAlignValue(m-v)}this._slide(n,l,p)},keyup:function(l){var m=b(l.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(l,m),this._change(l,m),b(l.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(w){var h,e,k,x,g,v,q,m,j=this,p=this.options;return p.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),h={x:w.pageX,y:w.pageY},e=this._normValueFromMouse(h),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(f){var l=Math.abs(e-j.values(f));k>l&&(k=l,x=b(this),g=f)
}),p.range===!0&&this.values(1)===p.min&&(g+=1,x=b(this.handles[g])),v=this._start(w,g),v===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,x.addClass("ui-state-active").focus(),q=x.offset(),m=!b(w.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:w.pageX-q.left-x.width()/2,top:w.pageY-q.top-x.height()/2-(parseInt(x.css("borderTopWidth"),10)||0)-(parseInt(x.css("borderBottomWidth"),10)||0)+(parseInt(x.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,g,e),this._animateOff=!0,!0))},_mouseStart:function(f){return !0},_mouseDrag:function(g){var f={x:g.pageX,y:g.pageY},h=this._normValueFromMouse(f);return this._slide(g,this._handleIndex,h),!1},_mouseStop:function(f){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(f,this._handleIndex),this._change(f,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"
},_normValueFromMouse:function(k){var g,l,j,f,h;return this.orientation==="horizontal"?(g=this.elementSize.width,l=k.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,l=k.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),j=l/g,j>1&&(j=1),j<0&&(j=0),this.orientation==="vertical"&&(j=1-j),f=this._valueMax()-this._valueMin(),h=this._valueMin()+j*f,this._trimAlignValue(h)},_start:function(g,f){var h={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(h.value=this.values(f),h.values=this.values()),this._trigger("start",g,h)},_slide:function(k,g,l){var j,f,h;this.options.values&&this.options.values.length?(j=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&l>j||g===1&&l<j)&&(l=j),l!==this.values(g)&&(f=this.values(),f[g]=l,h=this._trigger("slide",k,{handle:this.handles[g],value:l,values:f}),j=this.values(g?0:1),h!==!1&&this.values(g,l,!0))):l!==this.value()&&(h=this._trigger("slide",k,{handle:this.handles[g],value:l}),h!==!1&&this.value(l))
},_stop:function(g,f){var h={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(f),h.values=this.values()),this._trigger("stop",g,h)},_change:function(g,f){if(!this._keySliding&&!this._mouseSliding){var h={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(h.value=this.values(f),h.values=this.values()),this._trigger("change",g,h)}},value:function(f){if(arguments.length){this.options.value=this._trimAlignValue(f),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(f,j){var h,e,g;if(arguments.length>1){this.options.values[f]=this._trimAlignValue(j),this._refreshValue(),this._change(null,f);return}if(!arguments.length){return this._values()}if(!b.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(f):this.value()}h=this.options.values,e=arguments[0];for(g=0;g<h.length;g+=1){h[g]=this._trimAlignValue(e[g]),this._change(null,g)
}this._refreshValue()},_setOption:function(f,h){var g,e=0;b.isArray(this.options.values)&&(e=this.options.values.length),b.Widget.prototype._setOption.apply(this,arguments);switch(f){case"disabled":h?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(g=0;g<e;g+=1){this._change(null,g)}this._animateOff=!1}},_value:function(){var f=this.options.value;return f=this._trimAlignValue(f),f},_values:function(h){var f,j,g;if(arguments.length){return f=this.options.values[h],f=this._trimAlignValue(f),f
}j=this.options.values.slice();for(g=0;g<j.length;g+=1){j[g]=this._trimAlignValue(j[g])}return j},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var f=this.options.step>0?this.options.step:1,j=(h-this._valueMin())%f,g=h-j;return Math.abs(j)*2>=f&&(g+=j>0?f:-f),parseFloat(g.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var v,h,e,k,w,g=this.options.range,q=this.options,p=this,m=this._animateOff?!1:q.animate,j={};this.options.values&&this.options.values.length?this.handles.each(function(l,f){h=(p.values(l)-p._valueMin())/(p._valueMax()-p._valueMin())*100,j[p.orientation==="horizontal"?"left":"bottom"]=h+"%",b(this).stop(1,1)[m?"animate":"css"](j,q.animate),p.options.range===!0&&(p.orientation==="horizontal"?(l===0&&p.range.stop(1,1)[m?"animate":"css"]({left:h+"%"},q.animate),l===1&&p.range[m?"animate":"css"]({width:h-v+"%"},{queue:!1,duration:q.animate})):(l===0&&p.range.stop(1,1)[m?"animate":"css"]({bottom:h+"%"},q.animate),l===1&&p.range[m?"animate":"css"]({height:h-v+"%"},{queue:!1,duration:q.animate}))),v=h
}):(e=this.value(),k=this._valueMin(),w=this._valueMax(),h=w!==k?(e-k)/(w-k)*100:0,j[this.orientation==="horizontal"?"left":"bottom"]=h+"%",this.handle.stop(1,1)[m?"animate":"css"](j,q.animate),g==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[m?"animate":"css"]({width:h+"%"},q.animate),g==="max"&&this.orientation==="horizontal"&&this.range[m?"animate":"css"]({width:100-h+"%"},{queue:!1,duration:q.animate}),g==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[m?"animate":"css"]({height:h+"%"},q.animate),g==="max"&&this.orientation==="vertical"&&this.range[m?"animate":"css"]({height:100-h+"%"},{queue:!1,duration:q.animate}))}})})(jQuery);(function(b,a){b.widget("ui.sortable",b.ui.mouse,{version:"1.9.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var d=this.options;
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?d.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item")}return this},_setOption:function(d,e){d==="disabled"?(this.options[d]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,j){var g=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(e);var d=null,f=b(e.target).parents().each(function(){if(b.data(this,g.widgetName+"-item")==g){return d=b(this),!1}});b.data(e.target,g.widgetName+"-item")==g&&(d=b(e.target));
if(!d){return !1}if(this.options.handle&&!j){var h=!1;b(this.options.handle,d).find("*").andSelf().each(function(){this==e.target&&(h=!0)});if(!h){return !1}}return this.currentItem=d,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,h,g){var d=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",d.cursor)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();
if(!g){for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",e,this._uiHash(this))}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(f){this.position=this._generatePosition(f),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var k=this.options,h=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-f.pageY<k.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+k.scrollSpeed:f.pageY-this.overflowOffset.top<k.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-k.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-f.pageX<k.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+k.scrollSpeed:f.pageX-this.overflowOffset.left<k.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-k.scrollSpeed)):(f.pageY-b(document).scrollTop()<k.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-k.scrollSpeed):b(window).height()-(f.pageY-b(document).scrollTop())<k.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+k.scrollSpeed)),f.pageX-b(document).scrollLeft()<k.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-k.scrollSpeed):b(window).width()-(f.pageX-b(document).scrollLeft())<k.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+k.scrollSpeed))),h!==!1&&b.ui.ddmanager&&!k.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,f)
}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var g=this.items[e],j=g.item[0],d=this._intersectsWithPointer(g);if(!d){continue}if(g.instance!==this.currentContainer){continue}if(j!=this.currentItem[0]&&this.placeholder[d==1?"next":"prev"]()[0]!=j&&!b.contains(this.placeholder[0],j)&&(this.options.type=="semi-dynamic"?!b.contains(this.element[0],j):!0)){this.direction=d==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(g)){break}this._rearrange(f,g),this._trigger("change",f,this._uiHash());break}}return this._contactContainers(f),b.ui.ddmanager&&b.ui.ddmanager.drag(this,f),this._trigger("sort",f,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,g){if(!e){return}b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,e);
if(this.options.revert){var f=this,d=this.placeholder.offset();this.reverting=!0,b(this.helper).animate({left:d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(e)})}else{this._clear(e,g)}return !1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this
},serialize:function(d){var f=this._getItemsAsjQuery(d&&d.connected),e=[];return d=d||{},b(f).each(function(){var g=(b(d.item||this).attr(d.attribute||"id")||"").match(d.expression||/(.+)[-=_](.+)/);g&&e.push((d.key||g[1]+"[]")+"="+(d.key&&d.expression?g[1]:g[2]))}),!e.length&&d.key&&e.push(d.key+"="),e.join("&")},toArray:function(d){var f=this._getItemsAsjQuery(d&&d.connected),e=[];return d=d||{},f.each(function(){e.push(b(d.item||this).attr(d.attribute||"id")||"")}),e},_intersectsWith:function(p){var x=this.positionAbs.left,h=x+this.helperProportions.width,d=this.positionAbs.top,k=d+this.helperProportions.height,y=p.left,g=y+p.width,w=p.top,v=w+p.height,m=this.offset.click.top,j=this.offset.click.left,q=d+m>w&&d+m<v&&x+j>y&&x+j<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>p[this.floating?"width":"height"]?q:y<x+this.helperProportions.width/2&&h-this.helperProportions.width/2<g&&w<d+this.helperProportions.height/2&&k-this.helperProportions.height/2<v
},_intersectsWithPointer:function(e){var j=this.options.axis==="x"||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),g=this.options.axis==="y"||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),d=j&&g,f=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return d?this.floating?h&&h=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(e){var h=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),g=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),d=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&g||f=="left"&&!g:d&&(d=="down"&&h||d=="up"&&!h)},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")
},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(g){var l=[],j=[],f=this._connectWith();if(f&&g){for(var h=f.length-1;h>=0;h--){var k=b(f[h]);for(var e=k.length-1;e>=0;e--){var d=b.data(k[e],this.widgetName);d&&d!=this&&!d.options.disabled&&j.push([b.isFunction(d.options.items)?d.options.items.call(d.element):b(d.options.items,d.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),d])}}}j.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var h=j.length-1;h>=0;h--){j[h][0].each(function(){l.push(this)})}return b(l)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data("+this.widgetName+"-item)");for(var d=0;
d<this.items.length;d++){for(var g=0;g<f.length;g++){f[g]==this.items[d].item[0]&&this.items.splice(d,1)}}},_refreshItems:function(x){this.items=[],this.containers=[this];var g=this.items,d=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],x,{item:this.currentItem}):b(this.options.items,this.element),this]],k=this._connectWith();if(k&&this.ready){for(var y=k.length-1;y>=0;y--){var e=b(k[y]);for(var w=e.length-1;w>=0;w--){var v=b.data(e[w],this.widgetName);v&&v!=this&&!v.options.disabled&&(d.push([b.isFunction(v.options.items)?v.options.items.call(v.element[0],x,{item:this.currentItem}):b(v.options.items,v.element),v]),this.containers.push(v))}}}for(var y=d.length-1;y>=0;y--){var p=d[y][1],j=d[y][0];for(var w=0,q=j.length;w<q;w++){var m=b(j[w]);m.data(this.widgetName+"-item",p),g.push({item:m,instance:p,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var h=this.items.length-1;
h>=0;h--){var g=this.items[h];if(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0]){continue}var d=this.options.toleranceElement?b(this.options.toleranceElement,g.item):g.item;e||(g.width=d.outerWidth(),g.height=d.outerHeight());var f=d.offset();g.left=f.left,g.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var h=this.containers.length-1;h>=0;h--){var f=this.containers[h].element.offset();this.containers[h].containerCache.left=f.left,this.containers[h].containerCache.top=f.top,this.containers[h].containerCache.width=this.containers[h].element.outerWidth(),this.containers[h].containerCache.height=this.containers[h].element.outerHeight()}}return this},_createPlaceholder:function(d){d=d||this;var f=d.options;if(!f.placeholder||f.placeholder.constructor==String){var e=f.placeholder;f.placeholder={element:function(){var g=b(document.createElement(d.currentItem[0].nodeName)).addClass(e||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
return e||(g.style.visibility="hidden"),g},update:function(h,g){if(e&&!f.forcePlaceholderSize){return}g.height()||g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}d.placeholder=b(f.placeholder.element.call(d.element,d.currentItem)),d.currentItem.after(d.placeholder),f.placeholder.update(d,d.placeholder)},_contactContainers:function(m){var g=null,d=null;for(var h=this.containers.length-1;h>=0;h--){if(b.contains(this.currentItem[0],this.containers[h].element[0])){continue}if(this._intersectsWith(this.containers[h].containerCache)){if(g&&b.contains(this.containers[h].element[0],g.element[0])){continue}g=this.containers[h],d=h}else{this.containers[h].containerCache.over&&(this.containers[h]._trigger("out",m,this._uiHash(this)),this.containers[h].containerCache.over=0)
}}if(!g){return}if(this.containers.length===1){this.containers[d]._trigger("over",m,this._uiHash(this)),this.containers[d].containerCache.over=1}else{if(this.currentContainer!=this.containers[d]){var p=10000,e=null,l=this.positionAbs[this.containers[d].floating?"left":"top"];for(var k=this.items.length-1;k>=0;k--){if(!b.contains(this.containers[d].element[0],this.items[k].item[0])){continue}var j=this.containers[d].floating?this.items[k].item.offset().left:this.items[k].item.offset().top;Math.abs(j-l)<p&&(p=Math.abs(j-l),e=this.items[k],this.direction=j-l>0?"down":"up")}if(!e&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[d],e?this._rearrange(m,e,null,!0):this._rearrange(m,null,this.containers[d].element,!0),this._trigger("change",m,this._uiHash()),this.containers[d]._trigger("change",m,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",m,this._uiHash(this)),this.containers[d].containerCache.over=1
}}},_createHelper:function(d){var f=this.options,e=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[d,this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;return e.parents("body").length||b(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(e[0].style.width==""||f.forceHelperSize)&&e.width(this.currentItem.width()),(e[0].style.height==""||f.forceHelperSize)&&e.height(this.currentItem.height()),e},_adjustOffsetFromHelper:function(d){typeof d=="string"&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top)
},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;e.containment=="parent"&&(e.containment=this.helper[0].parentNode);if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){var g=b(e.containment)[0],f=b(e.containment).offset(),d=b(g).css("overflow")!="hidden";this.containment=[f.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,f.left+(d?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,f.top+(d?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]
}},_convertPositionTo:function(e,j){j||(j=this.position);var g=e=="absolute"?1:-1,d=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(f[0].tagName);return{top:j.top+this.offset.relative.top*g+this.offset.parent.top*g-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:f.scrollTop())*g,left:j.left+this.offset.relative.left*g+this.offset.parent.left*g-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:f.scrollLeft())*g}},_generatePosition:function(g){var l=this.options,j=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(j[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var h=g.pageX,k=g.pageY;
if(this.originalPosition){this.containment&&(g.pageX-this.offset.click.left<this.containment[0]&&(h=this.containment[0]+this.offset.click.left),g.pageY-this.offset.click.top<this.containment[1]&&(k=this.containment[1]+this.offset.click.top),g.pageX-this.offset.click.left>this.containment[2]&&(h=this.containment[2]+this.offset.click.left),g.pageY-this.offset.click.top>this.containment[3]&&(k=this.containment[3]+this.offset.click.top));if(l.grid){var e=this.originalPageY+Math.round((k-this.originalPageY)/l.grid[1])*l.grid[1];k=this.containment?e-this.offset.click.top<this.containment[1]||e-this.offset.click.top>this.containment[3]?e-this.offset.click.top<this.containment[1]?e+l.grid[1]:e-l.grid[1]:e:e;var d=this.originalPageX+Math.round((h-this.originalPageX)/l.grid[0])*l.grid[0];h=this.containment?d-this.offset.click.left<this.containment[0]||d-this.offset.click.left>this.containment[2]?d-this.offset.click.left<this.containment[0]?d+l.grid[0]:d-l.grid[0]:d:d}}return{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:j.scrollTop()),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:j.scrollLeft())}
},_rearrange:function(h,f,j,g){j?j[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?f.item[0]:f.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var d=this.counter;this._delay(function(){d==this.counter&&this.refreshPositions(!g)})},_clear:function(e,g){this.reverting=!1;var f=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var d in this._storedCSS){if(this._storedCSS[d]=="auto"||this._storedCSS[d]=="static"){this._storedCSS[d]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!g&&f.push(function(h){this._trigger("receive",h,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g&&f.push(function(h){this._trigger("update",h,this._uiHash())
}),this!==this.currentContainer&&(g||(f.push(function(h){this._trigger("remove",h,this._uiHash())}),f.push(function(h){return function(j){h._trigger("receive",j,this._uiHash(this))}}.call(this,this.currentContainer)),f.push(function(h){return function(j){h._trigger("update",j,this._uiHash(this))}}.call(this,this.currentContainer))));for(var d=this.containers.length-1;d>=0;d--){g||f.push(function(h){return function(j){h._trigger("deactivate",j,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(f.push(function(h){return function(j){h._trigger("out",j,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0)}this._storedCursor&&b("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",e,this._uiHash());
for(var d=0;d<f.length;d++){f[d].call(this,e)}this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}g||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!g){for(var d=0;d<f.length;d++){f[d].call(this,e)}this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(d){var e=d||this;return{helper:e.helper,placeholder:e.placeholder||b([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:d?d.element:null}}})})(jQuery);(function(b){function a(d){return function(){var e=this.element.val();d.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}b.widget("ui.spinner",{version:"1.9.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")
}})},_getCreateOptions:function(){var d={},e=this.element;return b.each(["min","max","step"],function(h,g){var f=e.attr(g);f!==undefined&&f.length&&(d[g]=f)}),d},_events:{keydown:function(d){this._start(d)&&this._keydown(d)&&d.preventDefault()},keyup:"_stop",focus:function(){this.uiSpinner.addClass("ui-state-active"),this.previous=this.element.val()},blur:function(d){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.uiSpinner.removeClass("ui-state-active"),this.previous!==this.element.val()&&this._trigger("change",d)},mousewheel:function(f,d){if(!d){return}if(!this.spinning&&!this._start(f)){return !1}this._spin((d>0?1:-1)*this.options.step,f),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(f)},100),f.preventDefault()},"mousedown .ui-spinner-button":function(d){function e(){var g=this.element[0]===this.document[0].activeElement;g||(this.element.focus(),this.previous=f,this._delay(function(){this.previous=f}))}var f;
f=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),d.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)});if(this._start(d)===!1){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(d){if(!b(d.currentTarget).hasClass("ui-state-active")){return}if(this._start(d)===!1){return !1}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var d=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this._hoverable(d),this.element.attr("role","spinbutton"),this.buttons=d.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(d.height()*0.5)&&d.height()>0&&d.height(d.height()),this.options.disabled&&this.disable()
},_keydown:function(d){var f=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:return this._repeat(null,1,d),!0;case e.DOWN:return this._repeat(null,-1,d),!0;case e.PAGE_UP:return this._repeat(null,f.page,d),!0;case e.PAGE_DOWN:return this._repeat(null,-f.page,d),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-state-default ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(d){return !this.spinning&&this._trigger("start",d)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(f,d,g){f=f||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,d,g)},f),this._spin(d*this.options.step,g)},_spin:function(f,d){var g=this.value()||0;
this.counter||(this.counter=1),g=this._adjustValue(g+f*this._increment(this.counter));if(!this.spinning||this._trigger("spin",d,{value:g})!==!1){this._value(g),this.counter++}},_increment:function(d){var e=this.options.incremental;return e?b.isFunction(e)?e(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1},_precision:function(){var d=this._precisionOf(this.options.step);return this.options.min!==null&&(d=Math.max(d,this._precisionOf(this.options.min))),d},_precisionOf:function(f){var d=f.toString(),g=d.indexOf(".");return g===-1?0:d.length-g-1},_adjustValue:function(g){var d,h,f=this.options;return d=f.min!==null?f.min:0,h=g-d,h=Math.round(h/f.step)*f.step,g=d+h,g=parseFloat(g.toFixed(this._precision())),f.max!==null&&g>f.max?f.max:f.min!==null&&g<f.min?f.min:g},_stop:function(d){if(!this.spinning){return}clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",d)},_setOption:function(f,d){if(f==="culture"||f==="numberFormat"){var g=this._parse(this.element.val());
this.options[f]=d,this.element.val(this._format(g));return}(f==="max"||f==="min"||f==="step")&&typeof d=="string"&&(d=this._parse(d)),this._super(f,d),f==="disabled"&&(d?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:a(function(d){this._super(d),this._value(this.element.val())}),_parse:function(d){return typeof d=="string"&&d!==""&&(d=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(d,10,this.options.culture):+d),d===""||isNaN(d)?null:d},_format:function(d){return d===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(d,this.options.numberFormat,this.options.culture):d},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(f,d){var g;f!==""&&(g=this._parse(f),g!==null&&(d||(g=this._adjustValue(g)),f=this._format(g))),this.element.val(f),this._refresh()
},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(d){this._stepUp(d)}),_stepUp:function(d){this._spin((d||1)*this.options.step)},stepDown:a(function(d){this._stepDown(d)}),_stepDown:function(d){this._spin((d||1)*-this.options.step)},pageUp:a(function(d){this._stepUp((d||1)*this.options.page)}),pageDown:a(function(d){this._stepDown((d||1)*this.options.page)}),value:function(d){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,d)},widget:function(){return this.uiSpinner}})})(jQuery);(function(g,b){function a(){return ++h}function d(j){return j=j.cloneNode(!1),j.hash.length>1&&j.href.replace(f,"")===location.href.replace(f,"")}var h=0,f=/#.*$/;g.widget("ui.tabs",{version:"1.9.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var j,l=this,k=this.options,e=k.active;
this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",k.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(m){g(this).is(".ui-state-disabled")&&m.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){g(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(e===null){location.hash&&this.anchors.each(function(n,m){if(m.hash===location.hash){return e=n,!1}}),e===null&&(e=this.tabs.filter(".ui-tabs-active").index());if(e===null||e===-1){e=this.tabs.length?0:!1}}e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=k.collapsible?!1:0)),k.active=e,!k.collapsible&&k.active===!1&&this.anchors.length&&(k.active=0),g.isArray(k.disabled)&&(k.disabled=g.unique(k.disabled.concat(g.map(this.tabs.filter(".ui-state-disabled"),function(m){return l.tabs.index(m)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=g(),this._refresh(),this.active.length&&this.load(k.active)
},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):g()}},_tabKeydown:function(j){var l=g(this.document[0].activeElement).closest("li"),k=this.tabs.index(l),e=!0;if(this._handlePageNav(j)){return}switch(j.keyCode){case g.ui.keyCode.RIGHT:case g.ui.keyCode.DOWN:k++;break;case g.ui.keyCode.UP:case g.ui.keyCode.LEFT:e=!1,k--;break;case g.ui.keyCode.END:k=this.anchors.length-1;break;case g.ui.keyCode.HOME:k=0;break;case g.ui.keyCode.SPACE:j.preventDefault(),clearTimeout(this.activating),this._activate(k);return;case g.ui.keyCode.ENTER:j.preventDefault(),clearTimeout(this.activating),this._activate(k===this.options.active?!1:k);return;default:return}j.preventDefault(),clearTimeout(this.activating),k=this._focusNextTab(k,e),j.ctrlKey||(l.attr("aria-selected","false"),this.tabs.eq(k).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",k)},this.delay))},_panelKeydown:function(e){if(this._handlePageNav(e)){return
}e.ctrlKey&&e.keyCode===g.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){if(e.altKey&&e.keyCode===g.ui.keyCode.PAGE_UP){return this._activate(this._focusNextTab(this.options.active-1,!1)),!0}if(e.altKey&&e.keyCode===g.ui.keyCode.PAGE_DOWN){return this._activate(this._focusNextTab(this.options.active+1,!0)),!0}},_findNextTab:function(j,l){function e(){return j>k&&(j=0),j<0&&(j=k),j}var k=this.tabs.length-1;while(g.inArray(e(),this.options.disabled)!==-1){j=l?j+1:j-1}return j},_focusNextTab:function(k,j){return k=this._findNextTab(k,j),this.tabs.eq(k).focus(),k},_setOption:function(k,j){if(k==="active"){this._activate(j);return}if(k==="disabled"){this._setupDisabled(j);return}this._super(k,j),k==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",j),!j&&this.options.active===!1&&this._activate(0)),k==="event"&&this._setupEvents(j),k==="heightStyle"&&this._setupHeightStyle(j)},_tabId:function(j){return j.attr("aria-controls")||"ui-tabs-"+a()
},_sanitizeSelector:function(j){return j?j.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e,k=this.options,j=this.tablist.children(":has(a[href])");k.disabled=g.map(j.filter(".ui-state-disabled"),function(l){return j.index(l)}),this._processTabs(),k.active===!1||!this.anchors.length?(k.active=!1,this.active=g()):this.active.length&&!g.contains(this.tablist[0],this.active[0])?this.tabs.length===k.disabled.length?(k.active=!1,this.active=g()):this._activate(this._findNextTab(Math.max(0,k.active-1),!1)):k.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)
},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return g("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=g(),this.anchors.each(function(w,q){var p,v,m,k=g(q).uniqueId().attr("id"),t=g(q).closest("li"),j=t.attr("aria-controls");d(q)?(p=q.hash,v=e.element.find(e._sanitizeSelector(p))):(m=e._tabId(t),p="#"+m,v=e.element.find(p),v.length||(v=e._createPanel(m),v.insertAfter(e.panels[w-1]||e.tablist)),v.attr("aria-live","polite")),v.length&&(e.panels=e.panels.add(v)),j&&t.data("ui-tabs-aria-controls",j),t.attr({"aria-controls":p.substring(1),"aria-labelledby":k}),v.attr("aria-labelledby",k)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")
},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return g("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){g.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var k=0,j;j=this.tabs[k];k++){e===!0||g.inArray(k,e)!==-1?g(j).addClass("ui-state-disabled").attr("aria-disabled","true"):g(j).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=e},_setupEvents:function(e){var j={click:function(k){k.preventDefault()}};e&&g.each(e.split(" "),function(l,k){j[k]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,j),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(j){var l,k,e=this.element.parent();j==="fill"?(g.support.minHeight||(k=e.css("overflow"),e.css("overflow","hidden")),l=e.height(),this.element.siblings(":visible").each(function(){var m=g(this),n=m.css("position");
if(n==="absolute"||n==="fixed"){return}l-=m.outerHeight(!0)}),k&&e.css("overflow",k),this.element.children().not(this.panels).each(function(){l-=g(this).outerHeight(!0)}),this.panels.each(function(){g(this).height(Math.max(0,l-g(this).innerHeight()+g(this).height()))}).css("overflow","auto")):j==="auto"&&(l=0,this.panels.each(function(){l=Math.max(l,g(this).height("").height())}).height(l))},_eventHandler:function(x){var k=this.options,e=this.active,p=g(x.currentTarget),y=p.closest("li"),j=y[0]===e[0],w=j&&k.collapsible,v=w?g():this._getPanelForTab(y),q=e.length?this._getPanelForTab(e):g(),m={oldTab:e,oldPanel:q,newTab:w?g():y,newPanel:v};x.preventDefault();if(y.hasClass("ui-state-disabled")||y.hasClass("ui-tabs-loading")||this.running||j&&!k.collapsible||this._trigger("beforeActivate",x,m)===!1){return}k.active=w?!1:this.tabs.index(y),this.active=j?g():y,this.xhr&&this.xhr.abort(),!q.length&&!v.length&&g.error("jQuery UI Tabs: Mismatching fragment identifier."),v.length&&this.load(this.tabs.index(y),x),this._toggle(x,m)
},_toggle:function(k,q){function p(){m.running=!1,m._trigger("activate",k,q)}function e(){q.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),j.length&&m.options.show?m._show(j,m.options.show,p):(j.show(),p())}var m=this,j=q.newPanel,l=q.oldPanel;this.running=!0,l.length&&this.options.hide?this._hide(l,this.options.hide,function(){q.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(q.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),l.hide(),e()),l.attr({"aria-expanded":"false","aria-hidden":"true"}),q.oldTab.attr("aria-selected","false"),j.length&&l.length?q.oldTab.attr("tabIndex",-1):j.length&&this.tabs.filter(function(){return g(this).attr("tabIndex")===0}).attr("tabIndex",-1),j.attr({"aria-expanded":"true","aria-hidden":"false"}),q.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var k,j=this._findActive(e);if(j[0]===this.active[0]){return}j.length||(j=this.active),k=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:k,currentTarget:k,preventDefault:g.noop})
},_findActive:function(e){return e===!1?g():this.tabs.eq(e)},_getIndex:function(j){return typeof j=="string"&&(j=this.anchors.index(this.anchors.filter("[href$='"+j+"']"))),j},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){g.data(this,"ui-tabs-destroy")?g(this).remove():g(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
}),this.tabs.each(function(){var e=g(this),j=e.data("ui-tabs-aria-controls");j?e.attr("aria-controls",j):e.removeAttr("aria-controls")}),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(j){var e=this.options.disabled;if(e===!1){return}j===b?e=!1:(j=this._getIndex(j),g.isArray(e)?e=g.map(e,function(k){return k!==j?k:null}):e=g.map(this.tabs,function(l,k){return k!==j?k:null})),this._setupDisabled(e)},disable:function(j){var e=this.options.disabled;if(e===!0){return}if(j===b){e=!0}else{j=this._getIndex(j);if(g.inArray(j,e)!==-1){return}g.isArray(e)?e=g.merge([j],e).sort():e=[j]}this._setupDisabled(e)},load:function(l,q){l=this._getIndex(l);var m=this,k=this.tabs.eq(l),p=k.find(".ui-tabs-anchor"),j=this._getPanelForTab(k),e={tab:k,panel:j};if(d(p[0])){return}this.xhr=g.ajax(this._ajaxSettings(p,q,e)),this.xhr&&this.xhr.statusText!=="canceled"&&(k.addClass("ui-tabs-loading"),j.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){j.html(n),m._trigger("load",q,e)
},1)}).complete(function(o,n){setTimeout(function(){n==="abort"&&m.panels.stop(!1,!0),k.removeClass("ui-tabs-loading"),j.removeAttr("aria-busy"),o===m.xhr&&delete m.xhr},1)}))},_ajaxSettings:function(j,l,k){var e=this;return{url:j.attr("href"),beforeSend:function(m,n){return e._trigger("beforeLoad",l,g.extend({jqXHR:m,ajaxSettings:n},k))}}},_getPanelForTab:function(e){var j=g(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+j))}}),g.uiBackCompat!==!1&&(g.ui.tabs.prototype._ui=function(k,j){return{tab:k,panel:j,index:this.anchors.index(k)}},g.widget("ui.tabs",g.ui.tabs,{url:function(k,j){this.anchors.eq(k).attr("href",j)}}),g.widget("ui.tabs",g.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var e=this;this._on({tabsbeforeload:function(k,j){if(g.data(j.tab[0],"cache.tabs")){k.preventDefault();return}j.jqXHR.success(function(){e.options.cache&&g.data(j.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(j,l,k){var e=this.options.ajaxOptions;
return g.extend({},e,{error:function(o,m,p){try{e.error(o,m,k.tab.closest("li").index(),k.tab[0])}catch(p){}}},this._superApply(arguments))},_setOption:function(k,j){k==="cache"&&j===!1&&this.anchors.removeData("cache.tabs"),this._super(k,j)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(k,j){this.anchors.eq(k).removeData("cache.tabs"),this._superApply(arguments)}}),g.widget("ui.tabs",g.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),g.widget("ui.tabs",g.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(l,j){if(l.target!==this.element[0]||!this.options.spinner){return}var m=j.tab.find("span"),k=m.html();m.html(this.options.spinner),j.jqXHR.complete(function(){m.html(k)})}})}}),g.widget("ui.tabs",g.ui.tabs,{options:{enable:null,disable:null},enable:function(e){var k=this.options,j;if(e&&k.disabled===!0||g.isArray(k.disabled)&&g.inArray(e,k.disabled)!==-1){j=!0}this._superApply(arguments),j&&this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e]))
},disable:function(e){var k=this.options,j;if(e&&k.disabled===!1||g.isArray(k.disabled)&&g.inArray(e,k.disabled)===-1){j=!0}this._superApply(arguments),j&&this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))}}),g.widget("ui.tabs",g.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(t,m,k){k===b&&(k=this.anchors.length);var l,q,j=this.options,e=g(j.tabTemplate.replace(/#\{href\}/g,t).replace(/#\{label\}/g,m)),p=t.indexOf("#")?this._tabId(e):t.replace("#","");return e.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),e.attr("aria-controls",p),l=k>=this.tabs.length,q=this.element.find("#"+p),q.length||(q=this._createPanel(p),l?k>0?q.insertAfter(this.panels.eq(-1)):q.appendTo(this.element):q.insertBefore(this.panels[k])),q.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),l?e.appendTo(this.tablist):e.insertBefore(this.tabs[k]),j.disabled=g.map(j.disabled,function(n){return n>=k?++n:n
}),this.refresh(),this.tabs.length===1&&j.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[k],this.panels[k])),this},remove:function(j){j=this._getIndex(j);var l=this.options,k=this.tabs.eq(j).remove(),e=this._getPanelForTab(k).remove();return k.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(j+(j+1<this.anchors.length?1:-1)),l.disabled=g.map(g.grep(l.disabled,function(m){return m!==j}),function(m){return m>=j?--m:m}),this.refresh(),this._trigger("remove",null,this._ui(k.find("a")[0],e[0])),this}}),g.widget("ui.tabs",g.ui.tabs,{length:function(){return this.anchors.length}}),g.widget("ui.tabs",g.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(e){var j=e.is("li")?e.find("a[href]"):e;return j=j[0],g(j).closest("li").attr("aria-controls")||j.title&&j.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+a()}}),g.widget("ui.tabs",g.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(e){return g(this.options.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)
}}),g.widget("ui.tabs",g.ui.tabs,{_create:function(){var j=this.options;j.active===null&&j.selected!==b&&(j.active=j.selected===-1?!1:j.selected),this._super(),j.selected=j.active,j.selected===!1&&(j.selected=-1)},_setOption:function(k,j){if(k!=="selected"){return this._super(k,j)}var l=this.options;this._super("active",j===-1?!1:j),l.selected=l.active,l.selected===!1&&(l.selected=-1)},_eventHandler:function(j){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),g.widget("ui.tabs",g.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(l,j,m){var k=this._superApply(arguments);return k?(l==="beforeActivate"&&m.newTab.length?k=this._super("select",j,{tab:m.newTab.find(".ui-tabs-anchor")[0],panel:m.newPanel[0],index:m.newTab.closest("li").index()}):l==="activate"&&m.newTab.length&&(k=this._super("show",j,{tab:m.newTab.find(".ui-tabs-anchor")[0],panel:m.newPanel[0],index:m.newTab.closest("li").index()})),k):!1
}}),g.widget("ui.tabs",g.ui.tabs,{select:function(j){j=this._getIndex(j);if(j===-1){if(!this.options.collapsible||this.options.selected===-1){return}j=this.options.selected}this.anchors.eq(j).trigger(this.options.event+this.eventNamespace)}}),function(){var e=0;g.widget("ui.tabs",g.ui.tabs,{options:{cookie:null},_create:function(){var k=this.options,j;k.active==null&&k.cookie&&(j=parseInt(this._cookie(),10),j===-1&&(j=!1),k.active=j),this._super()},_cookie:function(k){var j=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++e)];return arguments.length&&(j.push(k===!1?-1:k),j.push(this.options.cookie)),g.cookie.apply(null,j)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(j){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),g.widget("ui.tabs",g.ui.tabs,{_trigger:function(j,l,k){var e=g.extend({},k);
return j==="load"&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(j,l,e)}}),g.widget("ui.tabs",g.ui.tabs,{options:{fx:null},_getFx:function(){var e,k,j=this.options.fx;return j&&(g.isArray(j)?(e=j[0],k=j[1]):e=k=j),j?{show:k,hide:e}:null},_toggle:function(q,l){function v(){w.running=!1,w._trigger("activate",q,l)}function j(){l.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),p.length&&m.show?p.animate(m.show,m.show.duration,function(){v()}):(p.show(),v())}var w=this,p=l.newPanel,k=l.oldPanel,m=this._getFx();if(!m){return this._super(q,l)}w.running=!0,k.length&&m.hide?k.animate(m.hide,m.hide.duration,function(){l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),j()}):(l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),k.hide(),j())}}))})(jQuery);(function(d){function f(e,h){var g=(e.attr("aria-describedby")||"").split(/\s+/);g.push(h),e.data("ui-tooltip-id",h).attr("aria-describedby",d.trim(g.join(" ")))}function b(g){var j=g.data("ui-tooltip-id"),h=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(j,h);
e!==-1&&h.splice(e,1),g.removeData("ui-tooltip-id"),h=d.trim(h.join(" ")),h?g.attr("aria-describedby",h):g.removeAttr("aria-describedby")}var a=0;d.widget("ui.tooltip",{version:"1.9.0",options:{content:function(){return d(this).attr("title")},hide:!0,items:"[title]",position:{my:"left+15 center",at:"right center",collision:"flipfit flipfit"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={}},_setOption:function(e,h){var g=this;if(e==="disabled"){this[h?"_disable":"_enable"](),this.options[e]=h;return}this._super(e,h),e==="content"&&d.each(this.tooltips,function(k,j){g._updateContent(j)})},_disable:function(){var e=this;d.each(this.tooltips,function(j,h){var g=d.Event("blur");g.target=g.currentTarget=h[0],e.close(g,!0)}),this.element.find(this.options.items).andSelf().each(function(){var g=d(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=d(this);
e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var g=d(e?e.target:this.element).closest(this.options.items);if(!g.length){return}if(this.options.track&&g.data("ui-tooltip-id")){this._find(g).position(d.extend({of:g},this.options.position)),this._off(this.document,"mousemove");return}g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("tooltip-open",!0),this._updateContent(g,e)},_updateContent:function(k,h){var l,j=this.options.content,g=this;if(typeof j=="string"){return this._open(h,k,j)}l=j.call(k[0],function(e){if(!k.data("tooltip-open")){return}g._delay(function(){this._open(h,k,e)})}),l&&this._open(h,k,l)},_open:function(h,k,g){function e(m){l.of=m,j.position(l)}var j,l;if(!g){return}j=this._find(k);if(j.length){j.find(".ui-tooltip-content").html(g);return}k.is("[title]")&&(h&&h.type==="mouseover"?k.attr("title",""):k.removeAttr("title")),j=this._tooltip(k),f(k,j.attr("id")),j.find(".ui-tooltip-content").html(g),this.options.track&&h&&/^mouse/.test(h.originalEvent.type)?(l=d.extend({},this.options.position),this._on(this.document,{mousemove:e}),e(h)):j.position(d.extend({of:k},this.options.position)),j.hide(),this._show(j,this.options.show),this._trigger("open",h,{tooltip:j}),this._on(k,{mouseleave:"close",focusout:"close",keyup:function(m){if(m.keyCode===d.ui.keyCode.ESCAPE){var o=d.Event(m);
o.currentTarget=k[0],this.close(o,!0)}}})},close:function(g,k){var e=this,h=d(g?g.currentTarget:this.element),j=this._find(h);if(this.closing){return}if(!k&&g&&g.type!=="focusout"&&this.document[0].activeElement===h[0]){return}h.data("ui-tooltip-title")&&h.attr("title",h.data("ui-tooltip-title")),b(h),j.stop(!0),this._hide(j,this.options.hide,function(){d(this).remove(),delete e.tooltips[this.id]}),h.removeData("tooltip-open"),this._off(h,"mouseleave focusout keyup"),this._off(this.document,"mousemove"),this.closing=!0,this._trigger("close",g,{tooltip:j}),this.closing=!1},_tooltip:function(h){var g="ui-tooltip-"+a++,e=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return d("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),d.fn.bgiframe&&e.bgiframe(),this.tooltips[g]=h,e},_find:function(e){var g=e.data("ui-tooltip-id");return g?d("#"+g):d()},_destroy:function(){var e=this;
d.each(this.tooltips,function(j,h){var g=d.Event("blur");g.target=g.currentTarget=h[0],e.close(g,!0),d("#"+j).remove(),h.data("ui-tooltip-title")&&(h.attr("title",h.data("ui-tooltip-title")),h.removeData("ui-tooltip-title"))})}})})(jQuery);(function(a){delete a.fn.Autocompleter;delete a.fn.autocomplete;a.fn.extend({autocomplete:function(b,d){var e=typeof b=="string";d=a.extend({},a.Autocompleter.defaults,{url:e?b:null,data:e?null:b,delay:e?a.Autocompleter.defaults.delay:10,max:d&&!d.scroll?10:150},d);d.highlight=d.highlight||function(f){return f};d.formatMatch=d.formatMatch||d.formatItem;return this.each(function(){new a.Autocompleter(this,d)})},result:function(b){return this.bind("result",b)},search:function(b){return this.trigger("search",[b])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(b){return this.trigger("setOptions",[b])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(n,h){var d={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};
var b=a(n).attr("autocomplete","off").addClass(h.inputClass);var l;var r="";var o=a.Autocompleter.Cache(h);var f=0;var x;var A={mouseDownOnSelect:false};var u=a.Autocompleter.Select(h,n,e,A);var z;a.browser.opera&&a(n.form).bind("submit.autocomplete",function(){if(z){z=false;return false}});b.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(B){x=B.keyCode;switch(B.keyCode){case d.UP:B.preventDefault();if(u.visible()){u.prev()}else{w(0,true)}break;case d.DOWN:B.preventDefault();if(u.visible()){u.next()}else{w(0,true)}break;case d.PAGEUP:B.preventDefault();if(u.visible()){u.pageUp()}else{w(0,true)}break;case d.PAGEDOWN:B.preventDefault();if(u.visible()){u.pageDown()}else{w(0,true)}break;case h.multiple&&a.trim(h.multipleSeparator)==","&&d.COMMA:case d.TAB:case d.RETURN:if(e()){B.preventDefault();z=true;return false}break;case d.ESC:u.hide();break;default:clearTimeout(l);l=setTimeout(w,h.delay);break}}).focus(function(){f++}).blur(function(){f=0;if(!A.mouseDownOnSelect){v()
}}).click(function(){if(f++>0&&!u.visible()){w(0,true)}}).bind("search",function(){var B=(arguments.length>1)?arguments[1]:null;function C(G,F){var D;if(F&&F.length){for(var E=0;E<F.length;E++){if(F[E].result.toLowerCase()==G.toLowerCase()){D=F[E];break}}}if(typeof B=="function"){B(D)}else{b.trigger("result",D&&[D.data,D.value])}}a.each(j(b.val()),function(D,E){g(E,C,C)})}).bind("flushCache",function(){o.flush()}).bind("setOptions",function(){a.extend(h,arguments[1]);if("data" in arguments[1]){o.populate()}}).bind("unautocomplete",function(){u.unbind();b.unbind();a(n.form).unbind(".autocomplete")});function e(){var C=u.selected();if(!C){return false}var B=C.result;r=B;if(h.multiple){var D=j(b.val());if(D.length>1){B=D.slice(0,D.length-1).join(h.multipleSeparator)+h.multipleSeparator+B}B+=h.multipleSeparator}b.val(B);y();b.trigger("result",[C.data,C.value]);return true}function w(D,C){if(x==d.DEL){u.hide()}var B=b.val();if(!C&&B==r){return}r=B;B=k(B);if(B.length>=h.minChars){b.addClass(h.loadingClass);
if(!h.matchCase){B=B.toLowerCase()}g(B,m,y)}else{p();u.hide()}}function j(C){if(!C){return[""]}var D=C.split(h.multipleSeparator);var B=[];a.each(D,function(E,F){if(a.trim(F)){B[E]=a.trim(F)}});return B}function k(B){if(!h.multiple){return B}var C=j(B);return C[C.length-1]}function t(B,C){if(h.autoFill&&(k(b.val()).toLowerCase()==B.toLowerCase())&&x!=d.BACKSPACE){b.val(b.val()+C.substring(k(r).length));a.Autocompleter.Selection(n,r.length,r.length+C.length)}}function v(){clearTimeout(l);l=setTimeout(y,200)}function y(){var B=u.visible();u.hide();clearTimeout(l);p();if(h.mustMatch){b.search(function(C){if(!C){if(h.multiple){var D=j(b.val()).slice(0,-1);b.val(D.join(h.multipleSeparator)+(D.length?h.multipleSeparator:""))}else{b.val("")}}})}if(B){a.Autocompleter.Selection(n,n.value.length,n.value.length)}}function m(C,B){if(B&&B.length&&f){p();u.display(B,C);t(C,B[0].value);u.show()}else{y()}}function g(C,F,B){if(!h.matchCase){C=C.toLowerCase()}var D=o.load(C);if(h.injectMatch&&typeof h.injectMatch=="function"){var E=h.injectMatch(D);
if(typeof E=="object"){D=D.concat(E)}}if(D&&D.length){F(C,D)}else{if((typeof h.url=="string")&&(h.url.length>0)){var G={timestamp:+new Date()};a.each(h.extraParams,function(H,I){G[H]=typeof I=="function"?I():I});a.ajax({mode:"abort",port:"autocomplete"+n.name,dataType:h.dataType,url:h.url,beforeSend:h.beforeSend,data:a.extend({jq:k(C),limit:h.max},G),success:function(I){var H=h.parse&&h.parse(I)||q(I);o.add(C,H);F(C,H)}})}else{u.emptyList();B(C)}}}function q(E){var B=[];var D=E.split("\n");for(var C=0;C<D.length;C++){var F=a.trim(D[C]);if(F){F=F.split("|");B[B.length]={data:F,value:F[0],result:h.formatResult&&h.formatResult(F,F[0])||F[0]}}}return B}function p(){b.removeClass(h.loadingClass)}};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,defaultText:false,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(b){return b[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(d,b){return d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")
},scroll:true,scrollHeight:180,beforeSend:function(){},injectMatch:function(){}};a.Autocompleter.Cache=function(d){var g={};var e=0;function j(m,l){if(m=="%"){return true}if(!d.matchCase){m=m.toLowerCase()}var k=m.indexOf(l);if(k==-1){return false}return k==0||d.matchContains}function h(l,k){if(e>d.cacheLength){b()}if(!g[l]){e++}g[l]=k}function f(){if(!d.data){return false}var l={},k=0;if(!d.url){d.cacheLength=1}l[""]=[];for(var n=0,m=d.data.length;n<m;n++){var q=d.data[n];q=(typeof q=="string")?[q]:q;var p=d.formatMatch(q,n+1,d.data.length);if(p===false){continue}var o=p.charAt(0).toLowerCase();if(!l[o]){l[o]=[]}var r={value:p,data:q,result:d.formatResult&&d.formatResult(q)||p};l[o].push(r);if(k++<d.max){l[""].push(r)}}a.each(l,function(t,u){d.cacheLength++;h(t,u)})}setTimeout(f,25);function b(){g={};e=0}return{flush:b,add:h,populate:f,load:function(o){if(!d.cacheLength||!e){return null}if(!d.url&&d.matchContains){var n=[];for(var l in g){if(l.length>0){var p=g[l];a.each(p,function(q,k){if(j(k.value,o)){n.push(k)
}})}}return n}else{if(g[o]){return g[o]}else{if(d.matchSubset){for(var m=o.length-1;m>=d.minChars;m--){var p=g[o.substr(0,m)];if(p){var n=[];a.each(p,function(q,k){if(j(k.value,o)){n[n.length]=k}});return n}}}}}return null}}};a.Autocompleter.Select=function(f,l,n,r){var k={ACTIVE:"ac_over"};var m,g=-1,u,o="",v=true,d,q;function p(){if(!v){return}d=a("<div/>").hide().addClass(f.resultsClass).css("position","absolute").appendTo(document.body);q=a("<ul/>").appendTo(d).mouseover(function(w){if(t(w).nodeName&&t(w).nodeName.toUpperCase()=="LI"){g=a("li",q).removeClass(k.ACTIVE).index(t(w));a(t(w)).addClass(k.ACTIVE)}}).click(function(w){a(t(w)).addClass(k.ACTIVE);n();try{l.focus()}catch(x){}return false}).mousedown(function(){r.mouseDownOnSelect=true}).mouseup(function(){r.mouseDownOnSelect=false});if(f.width>0){d.css("width",f.width)}v=false}function t(x){var w=x.target;while(w&&w.tagName!="LI"){w=w.parentNode}if(!w){return[]}return w}function j(w){m.slice(g,g+1).removeClass(k.ACTIVE);h(w);var y=m.slice(g,g+1).addClass(k.ACTIVE);
if(f.scroll){var x=0;m.slice(0,g).each(function(){x+=this.offsetHeight});if((x+y[0].offsetHeight-q.scrollTop())>q[0].clientHeight){q.scrollTop(x+y[0].offsetHeight-q.innerHeight())}else{if(x<q.scrollTop()){q.scrollTop(x)}}}}function h(w){g+=w;if(g<0){g=m.size()-1}else{if(g>=m.size()){g=0}}}function b(w){return f.max&&f.max<w?f.max:w}function e(){q.empty();var x=b(u.length);if(o.length==0&&f.defaultText!==false){var y=0;var w=a("<li/>").html(f.defaultText).addClass(y%2==0?"ac_even":"ac_odd").appendTo(q)[0];a.data(w,"ac_data",u[y])}else{for(var y=0;y<x;y++){if(!u[y]){continue}var z=f.formatItem(u[y].data,y+1,x,u[y].value,o);if(z===false){continue}var w=a("<li/>").html(f.highlight(z,o)).addClass(y%2==0?"ac_even":"ac_odd").appendTo(q)[0];a.data(w,"ac_data",u[y])}}m=q.find("li");if(f.selectFirst){m.slice(0,1).addClass(k.ACTIVE);g=0}if(a.fn.bgiframe){q.bgiframe()}}return{display:function(x,w){p();u=x;o=w;e()},next:function(){j(1)},prev:function(){j(-1)},pageUp:function(){if(g!=0&&g-8<0){j(-g)}else{j(-8)
}},pageDown:function(){if(g!=m.size()-1&&g+8>m.size()){j(m.size()-1-g)}else{j(8)}},hide:function(){d&&d.hide();m&&m.removeClass(k.ACTIVE);g=-1},visible:function(){return d&&d.is(":visible")},current:function(){return this.visible()&&(m.filter("."+k.ACTIVE)[0]||f.selectFirst&&m[0])},show:function(){var w=typeof f.anchorTo!="undefined"?a(f.anchorTo):a(l);var A=w.offset();var z=typeof f.width=="string"||f.width>0?f.width:(w.outerWidth()-parseInt(w.css("border-left-width"))-parseInt(w.css("border-right-width")));d.css({width:z,top:A.top+w.get(0).offsetHeight,left:A.left}).show();if(f.scroll){q.scrollTop(0);q.css({maxHeight:f.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var x=0;m.each(function(){x+=this.offsetHeight});var y=x>f.scrollHeight;q.css("height",y?f.scrollHeight:x);if(!y){m.width(q.width()-parseInt(m.css("padding-left"))-parseInt(m.css("padding-right")))}}}},selected:function(){var w=m&&m.filter("."+k.ACTIVE).removeClass(k.ACTIVE);
return w&&w.length&&a.data(w[0],"ac_data")},emptyList:function(){q&&q.empty()},unbind:function(){d&&d.remove()}}};a.Autocompleter.Selection=function(e,f,d){if(e.createTextRange){var b=e.createTextRange();b.collapse(true);b.moveStart("character",f);b.moveEnd("character",d);b.select()}else{if(e.setSelectionRange){e.setSelectionRange(f,d)}else{if(e.selectionStart){e.selectionStart=f;e.selectionEnd=d}}}e.focus()}})(jQuery);(function(a){a.fn.ppdrag=function(b){if(typeof b=="string"){if(b=="destroy"){return this.each(function(){a.ppdrag.removeEvent(this,"mousedown",a.ppdrag.start,false);a.data(this,"pp-ppdrag",null)})}}return this.each(function(){a.data(this,"pp-ppdrag",{options:a.extend({},b)});a.ppdrag.addEvent(this,"mousedown",a.ppdrag.start,false)})};a.ppdrag={start:function(b){if(!a.ppdrag.current){a.ppdrag.current={el:this,oleft:parseInt(this.style.left)||0,otop:parseInt(this.style.top)||0,ox:b.pageX||b.screenX,oy:b.pageY||b.screenY};var e=a.ppdrag.current;var d=a.data(e.el,"pp-ppdrag");
if(d.options.zIndex){e.zIndex=e.el.style.zIndex;e.el.style.zIndex=d.options.zIndex}a.ppdrag.addEvent(document,"mouseup",a.ppdrag.stop,true);a.ppdrag.addEvent(document,"mousemove",a.ppdrag.drag,true)}if(b.stopPropagation){b.stopPropagation()}if(b.preventDefault){b.preventDefault()}a(a.ppdrag.current.el).trigger("ppdrag_start");return false},drag:function(b){if(!b){var b=window.event}var d=a.ppdrag.current;d.el.style.left=(d.oleft+(b.pageX||b.screenX)-d.ox)+"px";d.el.style.top=(d.otop+(b.pageY||b.screenY)-d.oy)+"px";if(b.stopPropagation){b.stopPropagation()}if(b.preventDefault){b.preventDefault()}return false},stop:function(b){var e=a.ppdrag.current;var d=a.data(e.el,"pp-ppdrag");a.ppdrag.removeEvent(document,"mousemove",a.ppdrag.drag,true);a.ppdrag.removeEvent(document,"mouseup",a.ppdrag.stop,true);if(d.options.zIndex){e.el.style.zIndex=e.zIndex}if(d.options.stop){d.options.stop.apply(e.el,[e.el])}a.ppdrag.current=null;if(b.stopPropagation){b.stopPropagation()}if(b.preventDefault){b.preventDefault()
}var f=a.ppdrag.getDropTarget(b,a(e.el));a(e.el).trigger("ppdrag_stop",[b,f]);return false},addEvent:function(e,d,b,f){if(e.addEventListener){e.addEventListener(d,b,f)}else{if(e.attachEvent){e["e"+d+b]=b;e[d+b]=function(){return e["e"+d+b](window.event)};e.attachEvent("on"+d,e[d+b])}}},removeEvent:function(e,d,b,f){if(e.removeEventListener){e.removeEventListener(d,b,f)}else{if(e.detachEvent){e.detachEvent("on"+d,e[d+b]);e[d+b]=null;e["e"+d+b]=null}}},getDropTarget:function(z,u){var f=u.data("pp-ppdrag");if(typeof f!="object"||typeof f.options!="object"||!f.options.dzObj){return false}var h=f.options;var B=h.dzSubSelector?a(h.dzSubSelector,u):u;var j=B.offset();var n=j.left;var m=j.top;var q=B[0].clientHeight;var g=B[0].clientWidth;var p=h.dzObj;var v=p.offset();var A=false;if((m+q)>=v.top&&m<(v.top+p[0].clientHeight)&&(n+g)>=v.left&&n<(v.left+p[0].clientWidth)){var w,b,d,t,r,k;var C=0;var l=h.dzSelector?h.dzSelector:"";var o=l?B.closest(l).attr("id"):B.attr("id");p.children(l+":not(#"+String(o)+")").each(function(){var e=a(this);
w=e.offset();d=e[0].clientHeight;b=e[0].clientWidth;if(m>=w.top&&m<(w.top+d)||((m+q)>=w.top&&(m+q)<(w.top+d))){if(n>=w.left&&n<(w.left+b)||((n+g)>=w.left&&(m+g)<(w.left+b))){t=n<w.left?(n+g)-w.left:(w.left+b)-n;r=m<w.top?(m+q)-w.top:(w.top+d)+m;k=t*r;if(k>C){C=k;A=e;var y=(n-w.left)>0?"right":"left";var x=(m+q)>(w.top+d)?"bottom":"top";A.data("ppdrag_dropProx",{x:y,y:x})}}}})}return A}}})(jQuery);
/*!
 * jQuery UI Sortable 1.9.0
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 *
 * Schoology Addition Notes :
 *   SGY-24780 - Had to fix an issue with _mouseCapture where _mouseCapture would fire even if the item's class did not match the current options.items
 */
(function(b,e){var a=1,d=2;b.widget("ui.sortable",b.ui.mouse,{version:"1.9.0",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,expandDelay:0,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var f=this.options;
this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?f.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var f=this.items.length-1;f>=0;f--){this.items[f].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,g){if(f==="disabled"){this.options[f]=g;this.widget().toggleClass("ui-sortable-disabled",!!g)}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(j,k){var h=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(j);var g=null,f=b(j.target).parents().each(function(){if(b.data(this,h.widgetName+"-item")==h){g=b(this);return false}});if(b.data(j.target,h.widgetName+"-item")==h){g=b(j.target)
}if(!g||!g.is(b(this.element).find(this.options.items))){return false}if(this.options.handle&&!k){var l=false;b(this.options.handle,g).find("*").andSelf().each(function(){if(this==j.target){l=true}});if(!l){return false}}this.currentItem=g;this._removeCurrentsFromItems();return true},_mouseStart:function(h,j,f){var k=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(h);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(h);this.originalPageX=h.pageX;this.originalPageY=h.pageY;(k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt));
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(k.containment){this._setContainment()}if(k.cursor){if(b("body").css("cursor")){this._storedCursor=b("body").css("cursor")}b("body").css("cursor",k.cursor)}if(k.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",k.opacity)}if(k.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",k.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",h,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!f){for(var g=this.containers.length-1;g>=0;g--){this.containers[g]._trigger("activate",h,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,h)
}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(h);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var k=this.options,j=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-g.pageY<k.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop+k.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<k.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop-k.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-g.pageX<k.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft+k.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<k.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft-k.scrollSpeed
}}}else{if(g.pageY-b(document).scrollTop()<k.scrollSensitivity){j=b(document).scrollTop(b(document).scrollTop()-k.scrollSpeed)}else{if(b(window).height()-(g.pageY-b(document).scrollTop())<k.scrollSensitivity){j=b(document).scrollTop(b(document).scrollTop()+k.scrollSpeed)}}if(g.pageX-b(document).scrollLeft()<k.scrollSensitivity){j=b(document).scrollLeft(b(document).scrollLeft()-k.scrollSpeed)}else{if(b(window).width()-(g.pageX-b(document).scrollLeft())<k.scrollSensitivity){j=b(document).scrollLeft(b(document).scrollLeft()+k.scrollSpeed)}}}if(j!==false&&b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,g)}}this.positionAbs=this._convertPositionTo("absolute");var h=0;var n=0;if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=String(Number(this.position.left)+n)+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=String(Number(this.position.top)+h)+"px"}this.hovering=this.hovering?this.hovering:null;for(var m=this.items.length-1;
m>=0;m--){var r=this.items[m],l=r.item[0],f=this._intersectsWithPointer(r);if(!f){continue}if(r.instance!==this.currentContainer){continue}if(l!=this.currentItem[0]&&this.placeholder[f==a?"next":"prev"]()[0]!=l&&!b.contains(this.placeholder[0],l)&&(this.options.type=="semi-dynamic"?!b.contains(this.element[0],l):true)){if(this.options.expandDelay){this.hovering&&window.clearTimeout(this.hovering);var q=this;var p=b(l);this.hovering=window.setTimeout(function(){q._trigger("expand",g,p);q.refresh(g)},this.options.expandDelay)}this.direction=f==a?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(r)){this._rearrange(g,r)}else{break}this._trigger("change",g,this._uiHash());break}}this._contactContainers(g);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,g)}this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(g,h){if(!g){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,g)}if(this.options.revert){var f=this;
var j=this.placeholder.offset();this.reverting=true;b(this.helper).animate({left:j.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:j.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(g)})}else{this._clear(g,h)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("deactivate",null,this._uiHash(this));if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",null,this._uiHash(this));this.containers[f].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()
}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(h){var f=this._getItemsAsjQuery(h&&h.connected);var g=[];h=h||{};b(f).each(function(){var j=(b(h.item||this).attr(h.attribute||"id")||"").match(h.expression||(/(.+)[-=_](.+)/));if(j){g.push((h.key||j[1]+"[]")+"="+(h.key&&h.expression?j[1]:j[2]))}});if(!g.length&&h.key){g.push(h.key+"=")}return g.join("&")},toArray:function(h){var f=this._getItemsAsjQuery(h&&h.connected);var g=[];h=h||{};f.each(function(){g.push(b(h.item||this).attr(h.attribute||"id")||"")});return g},_intersectsWith:function(q){var h=this.positionAbs.left,g=h+this.helperProportions.width,p=this.positionAbs.top,o=p+this.helperProportions.height;var j=q.left,f=j+q.width,u=q.top,n=u+q.height;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>q[this.floating?"width":"height"])){var v=this.offset.click.top,m=this.offset.click.left;
var k=(p+v)>u&&(p+v)<n&&(h+m)>j&&(h+m)<f;return k}else{return(j<h+(this.helperProportions.width/2)&&g-(this.helperProportions.width/2)<f&&u<p+(this.helperProportions.height/2)&&o-(this.helperProportions.height/2)<n)}},_intersectsWithPointer:function(h){var j=(this.options.axis==="x")||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,h.top,h.height),g=(this.options.axis==="y")||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,h.left,h.width),l=j&&g,f=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(!l){return false}return this.floating?(((k&&k=="right")||f=="down")?d:a):(f&&(f=="down"?d:a))},_intersectsWithSides:function(j){var g=this._isOverBottomHalf(j),h=this._isOverRightHalf(j),f=this._getDragVerticalDirection(),k=this._getDragHorizontalDirection();if(this.floating&&k){return((k=="right"&&h)||(k=="left"&&!h))}else{return f&&((f=="down"&&g)||(f=="up"&&!g))}},_isOverBottomHalf:function(f){return b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+(f.height/2),f.height/2)
},_isOverRightHalf:function(f){return b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width/2)},_getDragVerticalDirection:function(){var f=this.positionAbs.top-this.lastPositionAbs.top;return f!=0&&(f>0?"down":"up")},_getDragHorizontalDirection:function(){var f=this.positionAbs.left-this.lastPositionAbs.left;return f!=0&&(f>0?"right":"left")},refresh:function(f){this._refreshItems(f);this.refreshPositions();return this},_connectWith:function(){var f=this.options;return f.connectWith.constructor==String?[f.connectWith]:f.connectWith},_getItemsAsjQuery:function(m){var f=[];var h=[];var l=this._connectWith();if(l&&m){for(var k=l.length-1;k>=0;k--){var o=b(l[k]);for(var g=o.length-1;g>=0;g--){var n=b.data(o[g],this.widgetName);if(n&&n!=this&&!n.options.disabled){h.push([b.isFunction(n.options.items)?n.options.items.call(n.element):b(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n])}}}}h.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(var k=h.length-1;k>=0;k--){h[k][0].each(function(){f.push(this)})}return b(f)},_removeCurrentsFromItems:function(){var h=this.currentItem.find(":data("+this.widgetName+"-item)");for(var g=0;g<this.items.length;g++){for(var f=0;f<h.length;f++){if(h[f]==this.items[g].item[0]){this.items.splice(g,1)}}}},_refreshItems:function(f){this.items=[];this.containers=[this];var n=this.items;var l=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],f,{item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]];var p=this._connectWith();if(p&&this.ready){for(var k=p.length-1;k>=0;k--){var q=b(p[k]);for(var h=q.length-1;h>=0;h--){var m=b.data(q[h],this.widgetName);if(m&&m!=this&&!m.options.disabled){l.push([b.isFunction(m.options.items)?m.options.items.call(m.element[0],f,{item:this.currentItem}):b(m.options.items,m.element),m]);this.containers.push(m)}}}}for(var k=l.length-1;k>=0;k--){var o=l[k][1];var g=l[k][0];
for(var h=0,r=g.length;h<r;h++){var t=b(g[h]);t.data(this.widgetName+"-item",o);n.push({item:t,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var g=this.items.length-1;g>=0;g--){var h=this.items[g];if(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0]){continue}this._refreshItemPosition(h,f)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var g=this.containers.length-1;g>=0;g--){var j=this.containers[g].element.offset();this.containers[g].containerCache.left=j.left;this.containers[g].containerCache.top=j.top;this.containers[g].containerCache.width=this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_refreshItemPosition:function(h,f){var g=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;
if(!f){h.width=g.outerWidth();h.height=g.outerHeight()}var j=g.offset();h.left=j.left;h.top=j.top},_createPlaceholder:function(g){g=g||this;var h=g.options;if(!h.placeholder||h.placeholder.constructor==String){var f=h.placeholder;h.placeholder={element:function(){var j=b(document.createElement(g.currentItem[0].nodeName)).addClass(f||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!f){j.style.visibility="hidden"}return j},update:function(j,k){if(f&&!h.forcePlaceholderSize){return}if(!k.height()){k.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10))}if(!k.width()){k.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10))}}}}g.placeholder=b(h.placeholder.element.call(g.element,g.currentItem));g.currentItem.after(g.placeholder);h.placeholder.update(g,g.placeholder)},_contactContainers:function(g){var k=null,r=null;
for(var n=this.containers.length-1;n>=0;n--){if(b.contains(this.currentItem[0],this.containers[n].element[0])){continue}if(this._intersectsWith(this.containers[n].containerCache)){if(k&&b.contains(this.containers[n].element[0],k.element[0])){continue}k=this.containers[n];r=n}else{if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",g,this._uiHash(this));this.containers[n].containerCache.over=0}}}if(!k){return}if(this.containers.length===1){this.containers[r]._trigger("over",g,this._uiHash(this));this.containers[r].containerCache.over=1}else{if(this.currentContainer!=this.containers[r]){var q=10000;var o=null;var p=this.containers[r].floating;var h=p?this.positionAbs.left:this.positionAbs.top;for(var m=this.items.length-1;m>=0;m--){if(!b.contains(this.containers[r].element[0],this.items[m].item[0])){continue}var l=p?this.items[m].item.offset().left:this.items[m].item.offset().top;if(Math.abs(l-h)<q){q=Math.abs(l-h);o=this.items[m]}}if(o){this._refreshItemPosition(o);
var f=p?this._isOverRightHalf(o):this._isOverBottomHalf(o);this.direction=f?"up":"down"}if(!o&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[r];o?this._rearrange(g,o,null,true):this._rearrange(g,null,this.containers[r].element,true);this._trigger("change",g,this._uiHash());this.containers[r]._trigger("change",g,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[r]._trigger("over",g,this._uiHash(this));this.containers[r].containerCache.over=1}}},_createHelper:function(g){var h=this.options;var f=b.isFunction(h.helper)?b(h.helper.apply(this.element[0],[g,this.currentItem])):(h.helper=="clone"?this.currentItem.clone():this.currentItem);if(!f.parents("body").length){b(h.appendTo!="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0])}if(f[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}
}if(f[0].style.width==""||h.forceHelperSize){f.width(this.currentItem.width())}if(f[0].style.height==""||h.forceHelperSize){f.height(this.currentItem.height())}return f},_adjustOffsetFromHelper:function(f){if(typeof f=="string"){f=f.split(" ")}if(b.isArray(f)){f={left:+f[0],top:+f[1]||0}}if("left" in f){this.offset.click.left=f.left+this.margins.left}if("right" in f){this.offset.click.left=this.helperProportions.width-f.right+this.margins.left}if("top" in f){this.offset.click.top=f.top+this.margins.top}if("bottom" in f){this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var f=this.offsetParent.offset();if(this.scrollParent[0]!=document&&!this.scrollParent.is("html")&&b.contains(this.scrollParent[0],this.offsetParent[0])){f.left+=this.scrollParent.scrollLeft();f.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)){f={top:0,left:0}
}return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var f=this.currentItem.position();return{top:f.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:f.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var j=this.options;if(j.containment=="parent"){j.containment=this.helper[0].parentNode}if(j.containment=="document"||j.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(j.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(j.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]
}if(!(/^(document|window|parent)$/).test(j.containment)){var g=b(j.containment)[0];var h=b(j.containment).offset();var f=(b(g).css("overflow")!="hidden");this.containment=[h.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,h.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(j,l){if(!l){l=this.position}var g=j=="absolute"?1:-1;var h=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=(/(html|body)/i).test(f[0].tagName);
return{top:(l.top+this.offset.relative.top*g+this.offset.parent.top*g-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(k?0:f.scrollTop()))*g)),left:(l.left+this.offset.relative.left*g+this.offset.parent.left*g-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:f.scrollLeft())*g))}},_generatePosition:function(j){var m=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=(/(html|body)/i).test(f[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var h=j.pageX;var g=j.pageY;if(this.originalPosition){if(this.containment){if(j.pageX-this.offset.click.left<this.containment[0]){h=this.containment[0]+this.offset.click.left}if(j.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top}if(j.pageX-this.offset.click.left>this.containment[2]){h=this.containment[2]+this.offset.click.left
}if(j.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top}}if(m.grid){var l=this.originalPageY+Math.round((g-this.originalPageY)/m.grid[1])*m.grid[1];g=this.containment?(!(l-this.offset.click.top<this.containment[1]||l-this.offset.click.top>this.containment[3])?l:(!(l-this.offset.click.top<this.containment[1])?l-m.grid[1]:l+m.grid[1])):l;var k=this.originalPageX+Math.round((h-this.originalPageX)/m.grid[0])*m.grid[0];h=this.containment?(!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:(!(k-this.offset.click.left<this.containment[0])?k-m.grid[0]:k+m.grid[0])):k}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(n?0:f.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():n?0:f.scrollLeft())))}},_rearrange:function(k,j,g,h){g?g[0].appendChild(this.placeholder[0]):j.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?j.item[0]:j.item[0].nextSibling));
this.counter=this.counter?++this.counter:1;var f=this.counter;this._delay(function(){if(f==this.counter){this.refreshPositions(!h)}})},_clear:function(g,h){this.reverting=false;var j=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS){if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static"){this._storedCSS[f]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!h){j.push(function(k){this._trigger("receive",k,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!h){j.push(function(k){this._trigger("update",k,this._uiHash())})}if(this!==this.currentContainer){if(!h){j.push(function(k){this._trigger("remove",k,this._uiHash())});j.push((function(k){return function(l){k._trigger("receive",l,this._uiHash(this))
}}).call(this,this.currentContainer));j.push((function(k){return function(l){k._trigger("update",l,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var f=this.containers.length-1;f>=0;f--){if(!h){j.push((function(k){return function(l){k._trigger("deactivate",l,this._uiHash(this))}}).call(this,this.containers[f]))}if(this.containers[f].containerCache.over){j.push((function(k){return function(l){k._trigger("out",l,this._uiHash(this))}}).call(this,this.containers[f]));this.containers[f].containerCache.over=0}}if(this._storedCursor){b("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!h){this._trigger("beforeStop",g,this._uiHash());for(var f=0;f<j.length;f++){j[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return false}if(!h){this._trigger("beforeStop",g,this._uiHash())
}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!h){for(var f=0;f<j.length;f++){j[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(f){var g=f||this;return{helper:g.helper,placeholder:g.placeholder||b([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:f?f.element:null}}})})(jQuery);(function(d){function a(e){if(e.attr("title")||typeof(e.attr("original-title"))!="string"){e.attr("original-title",e.attr("title")||"").removeAttr("title")}}function b(f,e){this.$element=d(f);this.options=e;this.enabled=true;a(this.$element)}b.prototype={show:function(e){e=typeof e!=="undefined"?e:{};var j=this.getTitle();if(j&&this.enabled){var h=this.tip();h.find(".tipsy-inner")[this.options.html?"html":"text"](j);
h[0].className="tipsy";h.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);if(typeof e.addClass!=="undefined"){e.addClass(h)}var m=d.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var f=h[0].offsetWidth,l=h[0].offsetHeight;var k=(typeof this.options.gravity=="function")?this.options.gravity.call(this.$element[0]):this.options.gravity;var g;switch(k.charAt(0)){case"n":g={top:m.top+m.height+this.options.offset,left:m.left+m.width/2-f/2};break;case"s":g={top:m.top-l-this.options.offset,left:m.left+m.width/2-f/2};break;case"e":g={top:m.top+m.height/2-l/2,left:m.left-f-this.options.offset};break;case"w":g={top:m.top+m.height/2-l/2,left:m.left+m.width+this.options.offset};break}if(k.length==2){if(k.charAt(1)=="w"){g.left=m.left+m.width/2-15}else{g.left=m.left+m.width/2-f+15}}if(typeof e.posOffset!=="undefined"){g.top+=e.posOffset.top;g.left+=e.posOffset.left}else{if(typeof e.pos!=="undefined"){g.top=e.pos.top;
g.left=e.pos.left}}h.css(g).addClass("tipsy-"+k);h.attr("role","tooltip");if(this.options.fade){h.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{h.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){d(this).remove()})}else{this.tip().remove()}},getTitle:function(){var g,e=this.$element,f=this.options;a(e);var g,f=this.options;if(typeof f.title=="string"){g=e.attr(f.title=="title"?"original-title":f.title)}else{if(typeof f.title=="function"){g=f.title.call(e[0])}}g=(""+g).replace(/(^\s*|\s*$)/,"");return g||f.fallback},tip:function(){if(!this.$tip){this.$tip=d('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false
},toggleEnabled:function(){this.enabled=!this.enabled}};d.fn.tipsy=function(k,j){this.attr("tabindex",0);if(k===true){return this.data("tipsy")}else{if(typeof k=="string"){j=typeof j!=="undefined"?j:{};return this.data("tipsy")[k](j)}}k=d.extend({},d.fn.tipsy.defaults,k);function h(n){var o=d.data(n,"tipsy");if(!o){o=new b(n,d.fn.tipsy.elementOptions(n,k));d.data(n,"tipsy",o)}return o}function m(){var n=h(this);n.hoverState="in";if(k.delayIn==0){n.show()}else{setTimeout(function(){if(n.hoverState=="in"){n.show()}},k.delayIn)}}function g(){var n=h(this);n.hoverState="out";if(k.delayOut==0){n.hide()}else{setTimeout(function(){if(n.hoverState=="out"){n.hide()}},k.delayOut)}}if(!k.live){this.each(function(){h(this)})}if(k.trigger!="manual"){var e=k.live?"live":"bind",l=k.trigger=="hover"?"mouseenter focus":"focus",f=k.trigger=="hover"?"mouseleave blur":"blur";this[e](l,m)[e](f,g)}return this};d.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};
d.fn.tipsy.elementOptions=function(f,e){return d.metadata?d.extend({},e,d(f).metadata()):e};d.fn.tipsy.autoNS=function(){return d(this).offset().top>(d(document).scrollTop()+d(window).height()/2)?"s":"n"};d.fn.tipsy.autoWE=function(){return d(this).offset().left>(d(document).scrollLeft()+d(window).width()/2)?"e":"w"}})(jQuery);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",is_encoded:function(a){return String(a).match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/g)!==null},encode:function(d){var a="";var l,j,g,k,h,f,e;var b=0;d=Base64._utf8_encode(d);while(b<d.length){l=d.charCodeAt(b++);j=d.charCodeAt(b++);g=d.charCodeAt(b++);k=l>>2;h=((l&3)<<4)|(j>>4);f=((j&15)<<2)|(g>>6);e=g&63;if(isNaN(j)){f=e=64}else{if(isNaN(g)){e=64}}a=a+this._keyStr.charAt(k)+this._keyStr.charAt(h)+this._keyStr.charAt(f)+this._keyStr.charAt(e)}return a},decode:function(d){var a="";var l,j,g;var k,h,f,e;var b=0;d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");
while(b<d.length){k=this._keyStr.indexOf(d.charAt(b++));h=this._keyStr.indexOf(d.charAt(b++));f=this._keyStr.indexOf(d.charAt(b++));e=this._keyStr.indexOf(d.charAt(b++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|e;a=a+String.fromCharCode(l);if(f!=64){a=a+String.fromCharCode(j)}if(e!=64){a=a+String.fromCharCode(g)}}a=Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);
b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};(function(a){a.widget("ui.selectmenu",{_init:function(){var q=this,f=this.options;this.ids=[this.element.attr("id")+"-button",this.element.attr("id")+"-menu"];this._safemouseup=true;this.newelement=a('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);var k=this.element.attr("tabindex");if(k){this.newelement.attr("tabindex",k)}this.newelement.data("selectelement",this.element);this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement).addClass((f.style=="popup")?"ui-icon-triangle-2-n-s":"ui-icon-triangle-1-s");a("label[for="+this.element.attr("id")+"]").attr("for",this.ids[0]).bind("click",function(){q.newelement[0].focus();return false});this.newelement.bind("mousedown",function(j){q._toggle(j);if(f.style=="popup"){q._safemouseup=false;
setTimeout(function(){q._safemouseup=true},300)}return false}).bind("click",function(){return false}).keydown(function(o){var j=true;switch(o.keyCode){case a.ui.keyCode.ENTER:j=true;break;case a.ui.keyCode.SPACE:j=false;q._toggle(o);break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:j=false;q._moveSelection(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:j=false;q._moveSelection(1);break;case a.ui.keyCode.TAB:j=true;break;default:j=false;q._typeAhead(o.keyCode,"mouseup");break}return j}).bind("mouseover focus",function(){a(this).addClass(q.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout blur",function(){a(this).removeClass(q.widgetBaseClass+"-focus ui-state-hover")});a(document).mousedown(function(j){q.close(j)});this.element.click(function(){this._refreshValue()}).focus(function(){this.newelement[0].focus()});var d=(f.style=="dropdown")?" ui-corner-bottom":" ui-corner-all";this.list=a('<ul class="'+q.widgetBaseClass+"-menu ui-widget ui-widget-content"+d+'" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");
var b=[];this.element.find("option").each(function(){b.push({value:a(this).attr("value"),text:q._formatText(jQuery(this).text()),selected:a(this).attr("selected"),classes:a(this).attr("class"),parentOptGroup:a(this).parent("optgroup").attr("label")})});var n=(q.options.style=="popup")?" ui-state-active":"";for(var l in b){var e=a('<li role="presentation"><a href="#" tabindex="-1" role="option" aria-selected="false">'+b[l].text+"</a></li>").data("index",l).addClass(b[l].classes).data("optionClasses",b[l].classes||"").mouseup(function(j){if(q._safemouseup){var o=a(this).data("index")!=q._selectedIndex();q.value(a(this).data("index"));q.select(j);if(o){q.change(j)}q.close(j,true)}return false}).click(function(){return false}).bind("mouseover focus",function(){q._selectedOptionLi().addClass(n);q._focusedOptionLi().removeClass(q.widgetBaseClass+"-item-focus ui-state-hover");a(this).removeClass("ui-state-active").addClass(q.widgetBaseClass+"-item-focus ui-state-hover")}).bind("mouseout blur",function(){if(a(this).get(0)==q._selectedOptionLi().get(0)){a(this).addClass(n)
}a(this).removeClass(q.widgetBaseClass+"-item-focus ui-state-hover")});if(b[l].parentOptGroup){var m=q.widgetBaseClass+"-group-"+(b[l].parentOptGroup.replace(/[\W]/g,"-"));if(this.list.find("li."+m).size()){this.list.find("li."+m+":last ul").append(e)}else{a('<li role="presentation" class="'+q.widgetBaseClass+"-group "+m+'"><span class="'+q.widgetBaseClass+'-group-label">'+b[l].parentOptGroup+"</span><ul></ul></li>").appendTo(this.list).find("ul").append(e)}}else{e.appendTo(this.list)}this.list.bind("mousedown mouseup",function(){return false});if(f.icons){for(var h in f.icons){if(e.is(f.icons[h].find)){e.data("optionClasses",b[l].classes+" "+q.widgetBaseClass+"-hasIcon").addClass(q.widgetBaseClass+"-hasIcon");var p=f.icons[h].icon||"";e.find("a:eq(0)").prepend('<span class="'+q.widgetBaseClass+"-item-icon ui-icon "+p+'"></span>')}}}}this.list.find("li:last").addClass("ui-corner-bottom");if(f.style=="popup"){this.list.find("li:first").addClass("ui-corner-top")}if(f.transferClasses){var r=this.element.attr("class")||"";
this.newelement.add(this.list).addClass(r)}var g=this.element.width();this.newelement.width((f.width)?f.width:g);if(f.style=="dropdown"){this.list.width((f.menuWidth)?f.menuWidth:((f.width)?f.width:g))}else{this.list.width((f.menuWidth)?f.menuWidth:((f.width)?f.width-f.handleWidth:g-f.handleWidth))}if(f.maxHeight&&f.maxHeight<this.list.height()){this.list.height(f.maxHeight)}this._optionLis=this.list.find("li:not(."+q.widgetBaseClass+"-group)");this.list.keydown(function(o){var j=true;switch(o.keyCode){case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:j=false;q._moveFocus(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:j=false;q._moveFocus(1);break;case a.ui.keyCode.HOME:j=false;q._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:j=false;q._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:j=false;q._scrollPage("down");break;case a.ui.keyCode.END:j=false;q._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:j=false;q.close(o,true);a(o.target).parents("li:eq(0)").trigger("mouseup");
break;case a.ui.keyCode.TAB:j=true;q.close(o,true);break;case a.ui.keyCode.ESCAPE:j=false;q.close(o,true);break;default:j=false;q._typeAhead(o.keyCode,"focus");break}return j});if(f.style=="dropdown"){this.newelement.addClass(q.widgetBaseClass+"-dropdown");this.list.addClass(q.widgetBaseClass+"-menu-dropdown")}else{this.newelement.addClass(q.widgetBaseClass+"-popup");this.list.addClass(q.widgetBaseClass+"-menu-popup")}this.newelement.prepend('<span class="'+q.widgetBaseClass+'-status">'+b[this._selectedIndex()].text+"</span>");this.element.hide();if(this.element.attr("disabled")==true){this.disable()}this.value(this._selectedIndex())},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");a("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind("click");this.newelement.remove();this.list.remove();this.element.show()},_typeAhead:function(f,e){var b=this;
if(!b._prevChar){b._prevChar=["",0]}var h=String.fromCharCode(f);c=h.toLowerCase();var d=false;function g(j,k){d=true;a(j).trigger(e);b._prevChar[1]=k}this.list.find("li a").each(function(j){if(!d){var k=a(this).text();if(k.indexOf(h)==0||k.indexOf(c)==0){if(b._prevChar[0]==h){if(b._prevChar[1]<j){g(this,j)}}else{g(this,j)}}}});this._prevChar[0]=h},_uiHash:function(){return{value:this.value()}},open:function(e){var d=this;var b=this.newelement.attr("aria-disabled");if(b!="true"){this._refreshPosition();this._closeOthers(e);this.newelement.addClass("ui-state-active");this.list.appendTo("body").addClass(d.widgetBaseClass+"-open").attr("aria-hidden",false).find("li:not(."+d.widgetBaseClass+"-group):visible:eq("+this._selectedIndex()+") a")[0].focus();if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top")}this._refreshPosition();this._trigger("open",e,this._uiHash())}},close:function(d,b){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");
this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");if(this.options.style=="dropdown"){this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all")}if(b){this.newelement[0].focus()}this._trigger("close",d,this._uiHash())}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)});a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(d,b){if(this.list.is("."+this.widgetBaseClass+"-open")){this.close(d,b)}else{this.open(d)}},_formatText:function(b){return this.options.format?this.options.format(b):b},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")
},_moveSelection:function(e){var d=parseInt(this._selectedOptionLi().data("index"),10);var b=d+e;return this._optionLis.eq(b).trigger("mouseup")},_moveFocus:function(f){if(!isNaN(f)){var e=parseInt(this._focusedOptionLi().data("index"),10);var d=e+f}else{var d=parseInt(this._optionLis.filter(f).data("index"),10)}if(d<0){d=0}if(d>this._optionLis.size()-1){d=this._optionLis.size()-1}var b=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this._focusedOptionLi().find("a:eq(0)").attr("id","");this._optionLis.eq(d).trigger("focus").find("a:eq(0)").attr("id",b).trigger("focus");this.list.attr("aria-activedescendant",b)},_scrollPage:function(d){var b=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());b=(d=="up")?-b:b;this._moveFocus(b)},_setData:function(b,d){this.options[b]=d;if(b=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",d)
}},value:function(b){if(arguments.length){this.element[0].selectedIndex=b;this._refreshValue();this._refreshPosition()}return this.element[0].selectedIndex},_refreshValue:function(){var e=(this.options.style=="popup")?" ui-state-active":"";var d=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1000);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+e).find("a").attr("aria-selected","false").attr("id","");this.list.find("."+this.widgetBaseClass+"-item-focus").removeClass(this.widgetBaseClass+"-item-focus");this.list.find(".ui-state-hover").removeClass("ui-state-hover");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+e).addClass(this.widgetBaseClass+"-item-focus").find("a").attr("aria-selected","true").attr("id",d);var b=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"";var f=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(b).data("optionClasses",f).addClass(f).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());
this.list.attr("aria-activedescendant",d)},_refreshPosition:function(){if(this.options.align=="left"){this.list.css("left",this.newelement.offset().left)}else{this.list.css("left",this.newelement.offset().left-this.list.width()+this.newelement.width())}var b=this.newelement.offset().top;var d=this.list[0].scrollTop;this.list.find("li:lt("+this._selectedIndex()+")").each(function(){d-=a(this).outerHeight()});if(this.newelement.is("."+this.widgetBaseClass+"-popup")){b+=d;this.list.css("top",b)}else{b+=this.newelement.height();this.list.css("top",b)}},options:{transferClasses:true,style:"popup",width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,align:"left"}})})(jQuery);Drupal.behaviors.sCommonInfotip=function(a){$("span.infotip:not(.sCommonInfotip-processed)",a).addClass("sCommonInfotip-processed").each(function(){var d=$(this);var b=d.hasClass("manual")?"manual":"hover";d.tipsy({html:true,gravity:d.attr("tipsygravity"),trigger:b,delayIn:500,title:function(){return $(".infotip-content",$(this)).html()
}})});$(".s_cluetip_highlight:not(.sCommonInfotip-processed)",a).add("sCommonInfotip-processed").each(function(){var b=$(this);if(b.attr("cluetip")){b.tipsy({html:false,delayIn:500,title:function(){return Base64.decode(b.attr("cluetip"))}})}})};Drupal.behaviors.sCommonCloseableMessage=function(a){$(".messages.closeable-message:not(.sCommonCloseableMessage-processed)",a).addClass("sCommonCloseableMessage-processed").each(function(){var b=$(this);var e=$(".closeable-message",b);var d=e.attr("id").replace("closeable-message-","");var f=$(".close-btn",e);f.click(function(){$(document).trigger("s_common_closeable_message_closed",d);f.html('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />');$.ajaxSecure({url:"/closeable_message/close",data:{id:d},success:function(g){b.fadeOut()},dataType:"json"})})});$(".messages-close-single-btn:not(.sCommonCloseableMessage-processed)",a).addClass("sCommonCloseableMessage-processed").each(function(){var d=$(this);
var b=d.attr("id").replace("closeable-message-","");d.click(function(){var e=Boolean($(this).attr("skip_reload"));var f=Boolean($(this).attr("remove_messages"));d.addClass("ajax-loading");d.html('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />');$.ajaxSecure({url:"/closeable_message/close",data:{id:b},success:function(h){if(e){var g=d.closest("li");g.fadeOut();if(g.siblings("li").length==0){d.closest("#notice").remove()}return}if(f){d.closest(".messages").fadeOut();return}location.reload()},dataType:"json"})})})};Drupal.behaviors.sCommonFloatingMessage=function(a){$("body:not(.sCommonFloatingMessage-processed)",a).addClass("sCommonFloatingMessage-processed").each(function(){Drupal.sFloatingMessage.init($(this))})};if(typeof Drupal.sFloatingMessage=="undefined"){Drupal.sFloatingMessage=(function(){var f={closeable:true,fadeInDelay:3000,fadeInDuration:500,fadeOutDelay:3000,fadeOutDuration:500};function d(h,g,j){this._parent=g;this.el=h;
this.contentObj=$("<div/>").addClass("s-js-floating-message-content");this.blockObj=$("<div/>").addClass("s-js-floating-message-block").append(this.contentObj);this.el.addClass("s-js-floating-message").append(this.blockObj);this.setOpts(j);this.visible=false;this.fadeTimer=null;this.hide();if(this.opts.closeable){this.blockObj.prepend('<span class="s-js-close-btn">x</span>')}}d.prototype.setOpts=function(g){if(typeof this.opts=="undefined"){this.opts={}}$.extend(this.opts,f,g)};d.prototype.checkFadeTimer=function(){if(this.fadeTimer){clearTimeout(this.fadeTimer);this.fadeTimer=null}};d.prototype.addClass=function(g){this.checkFadeTimer();this.el.addClass(g);return this};d.prototype.removeClass=function(g){this.checkFadeTimer();this.el.removeClass(g);return this};d.prototype.clearClasses=function(){var g=this.el.attr("class");g=g.replace(/(s-js-floating-message|hidden)/,"");return this.removeClass(g)};d.prototype.setClass=function(g){return this.clearClasses().addClass(g)};d.prototype.setContent=function(h,g){this.checkFadeTimer();
g=$.extend({show:true},g);this.contentObj.html(h);if(g.show){this.show(g)}return this};d.prototype.clearContent=function(g){this.checkFadeTimer();g=$.extend({hide:true},g);this.contentObj.html("");if(g.hide){this.hide(g)}return this};d.prototype.toggle=function(g,j){this.checkFadeTimer();j=$.extend({fade:false,fadeDelay:g?this.opts.fadeInDelay:this.opts.fadeOutDelay,fadeDuration:g?this.opts.fadeInDuration:this.opts.fadeOutDuration},j);this.visible=g;if(j.fade){var h=this;var k=function(){var l=g?"fadeIn":"fadeOut";h.blockObj[l](j.fadeDuration,function(){h.el.toggleClass("hidden",!g);h._parent.updateUI(h)})};if(j.fadeDelay){this.fadeTimer=setTimeout(k,j.fadeDelay)}else{k()}}else{this.blockObj.toggle(g);this.el.toggleClass("hidden",!g);this._parent.updateUI(this)}return this};d.prototype.show=function(g){return this.toggle(true,g)};d.prototype.hide=function(g){return this.toggle(false,g)};var e={};var a={initialized:false,msgObjs:{}};var b={containerObj:null};a.init=function(g){b.containerObj=$("<div/>").addClass("s-js-floating-message-container");
b.containerObj.appendTo(g);a.bindEvents()};a.bindEvents=function(){b.containerObj.on("click",".s-js-close-btn",function(h){var g=$(this).closest(".s-js-floating-message").data("msg-id");e.hideMessage(g,{fade:true,fadeDelay:0})})};a.getMessageObj=function(g){return typeof a.msgObjs[g]!="undefined"?a.msgObjs[g]:null};a.newMessageObj=function(h,j){var g=$("<div/>").attr("data-msg-id",h);g.appendTo(b.containerObj);a.msgObjs[h]=new d(g,e,j);return a.msgObjs[h]};e.init=function(g){if(a.initialized){return}a.init(g);a.initialized=true};e.updateUI=function(){var g=0;$.each(a.msgObjs,function(h,j){if(j.visible){g++}});b.containerObj.toggleClass("hidden",(g==0))};e.get=function(h,j){var g=a.getMessageObj(h);if(!g){g=a.newMessageObj(h,j)}return g};e.setContent=function(h,k,j){j=$.extend({},j);var g=e.get(h);g.setMessage(k,j);if(typeof j.addClass!="undefined"){g.addClass(j.addClass)}};e.clearContent=function(h,j){j=$.extend({},j);var g=e.get(h);g.clearContent(j);if(typeof j.clearClasses!="undefined"){g.clearClasses()
}};e.toggleMessage=function(j,g,k){k=$.extend({},k);var h=e.get(j);h.toggle(g,k)};e.showMessage=function(g,h){e.toggleMessage(g,true,h)};e.hideMessage=function(g,h){e.toggleMessage(g,false,h)};return e})()}(function(){var a,b,d;a=jQuery;d=(function(){function e(){this.fileLoadingImage="/sites/all/themes/schoology_theme/images/ajax-loader.gif";this.fileCloseImage="/sites/all/misc/lightbox-2.51/images/close.png";this.resizeDuration=700;this.fadeDuration=500;this.labelImage="Image";this.labelOf="of";this.preloadInPlace=true}return e})();b=(function(){function e(f){this.options=f;this.album=[];this.currentImageIndex=void 0;this.init()}e.prototype.init=function(){this.enable();return this.build()};e.prototype.enable=function(){var f=this;return a("body").on("click","a[rel^=lightbox], area[rel^=lightbox]",function(g){f.start(a(g.currentTarget));return false})};e.prototype.build=function(){var f,g=this;a("<div>",{id:"lightboxOverlay"}).appendTo(a("body")).after(a("<div/>",{id:"lightbox"}).append(a("<div/>",{"class":"lb-outerContainer"}).append(a("<div/>",{"class":"lb-container"}).append(a("<img/>",{"class":"lb-image",alt:""}),a("<div/>",{"class":"lb-nav"}).append(a("<a/>",{"class":"lb-prev"}),a("<a/>",{"class":"lb-next"})),a("<div/>",{"class":"lb-loader"}).append(a("<a/>",{"class":"lb-cancel"}).append(a("<img/>",{src:this.options.fileLoadingImage,alt:"Loading"}))))),a("<div/>",{"class":"lb-dataContainer"}).append(a("<div/>",{"class":"lb-data"}).append(a("<div/>",{"class":"lb-details"}).append(a("<span/>",{"class":"lb-caption"}),a("<span/>",{"class":"lb-number"})),a("<div/>",{"class":"lb-closeContainer"}).append(a("<a/>",{"class":"lb-close"}))))));
a("#lightboxOverlay").hide().on("click",function(h){g.end();return false});f=a("#lightbox");f.hide().on("click",function(h){if(a(h.target).attr("id")==="lightbox"){g.end()}return false});f.find(".lb-outerContainer").on("click",function(h){if(a(h.target).attr("id")==="lightbox"){g.end()}return false});f.find(".lb-prev").on("click",function(h){g.changeImage(g.currentImageIndex-1);return false});f.find(".lb-next").on("click",function(h){g.changeImage(g.currentImageIndex+1);return false});f.find(".lb-loader, .lb-close").on("click",function(h){g.end();return false})};e.prototype.start=function(k){var p,f,n,j,o,g,l,m,h;a(window).on("resize",this.sizeOverlay);a("select, object, embed").css({visibility:"hidden"});a("#lightboxOverlay").width(a(document).width()).height(a(document).height()).fadeIn(this.options.fadeDuration);this.album=[];o=0;if(k.attr("rel")==="lightbox"){this.album.push({link:k.attr("href"),title:k.attr("title"),caption_href:k.attr("caption_href")})}else{h=a(k.prop("tagName")+'[rel="'+k.attr("rel")+'"]');
for(j=0,m=h.length;j<m;j++){n=h[j];this.album.push({link:a(n).attr("href"),title:a(n).attr("title"),caption_href:a(n).attr("caption_href")});if(a(n).attr("href")===k.attr("href")){o=j}}}f=a(window);l=f.scrollTop()+f.height()/10;g=f.scrollLeft();p=a("#lightbox");p.css({top:l+"px",left:g+"px"}).fadeIn(this.options.fadeDuration);this.changeImage(o)};e.prototype.changeImage=function(j){var g,h,f,k=this;this.disableKeyboardNav();h=a("#lightbox");h.find(".lb-loader").show();g=h.find(".lb-image");this.sizeOverlay();a("#lightboxOverlay").fadeIn(this.options.fadeDuration);a(".loader").fadeIn("slow");h.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();h.find(".lb-outerContainer").addClass("animating");if(this.options.preloadInPlace){g.hide();g.attr("src",k.album[j].link);if(k.newHeight){k.sizeContainer(800,k.newHeight)}else{g.unbind("load.jqlightbox").bind("load.jqlightbox",function(){var l=Math.min(g.height(),g.height()/(g.width()/800));k.sizeContainer(800,l);
k.newHeight=l})}}else{f=new Image;f.onload=function(){g.attr("src",k.album[j].link);g.width=f.width;g.height=f.height;k.sizeContainer(800,f.height/(f.width/800))};f.src=this.album[j].link}this.currentImageIndex=j};e.prototype.sizeOverlay=function(){return a("#lightboxOverlay").width(a(document).width()).height(a(document).height())};e.prototype.sizeContainer=function(n,l){var q,t,u,r,j,k,o,f,h,p,g,m=this;t=a("#lightbox");u=t.find(".lb-outerContainer");g=u.outerWidth();p=u.outerHeight();q=t.find(".lb-container");o=parseInt(q.css("padding-top"),10);k=parseInt(q.css("padding-right"),10);r=parseInt(q.css("padding-bottom"),10);j=parseInt(q.css("padding-left"),10);h=n+j+k;f=l+o+r;if(h!==g&&f!==p){u.animate({width:h,height:f},this.options.resizeDuration,"swing")}else{if(h!==g){u.animate({width:h},this.options.resizeDuration,"swing")}else{if(f!==p){u.animate({height:f},this.options.resizeDuration,"swing")}}}setTimeout(function(){t.find(".lb-dataContainer").width(h);t.find(".lb-prevLink").height(f);
t.find(".lb-nextLink").height(f);m.showImage()},this.options.resizeDuration)};e.prototype.showImage=function(){var f;f=a("#lightbox");f.find(".lb-loader").hide();f.find(".lb-image").fadeIn("slow");this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};e.prototype.updateNav=function(){var f;f=a("#lightbox");f.find(".lb-nav").show();if(this.currentImageIndex>0){f.find(".lb-prev").show()}if(this.currentImageIndex<this.album.length-1){f.find(".lb-next").show()}};e.prototype.updateDetails=function(){var g,k=this;g=a("#lightbox");if(typeof this.album[this.currentImageIndex].title!=="undefined"&&this.album[this.currentImageIndex].title!==""){var j=String(this.album[this.currentImageIndex].title);var f=a("<span>"+j+"</span>");var h=String(this.album[this.currentImageIndex].caption_href);if(h!=""){f=a('<span class="clickable" href="'+h+'">'+j+"</span>");f.bind("click",function(){k.end();window.location.href=a(this).attr("href")})}g.find(".lb-caption").empty().append(f).fadeIn("fast")
}if(this.album.length>1){g.find(".lb-number").html(this.options.labelImage+" "+(this.currentImageIndex+1)+" "+this.options.labelOf+"  "+this.album.length).fadeIn("fast")}else{g.find(".lb-number").hide()}g.find(".lb-outerContainer").removeClass("animating");g.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return k.sizeOverlay()})};e.prototype.preloadNeighboringImages=function(){var g,f;if(this.album.length>this.currentImageIndex+1){g=new Image;g.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){f=new Image;f.src=this.album[this.currentImageIndex-1].link}};e.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))};e.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")};e.prototype.keyboardAction=function(j){var l,k,g,h,f;l=27;k=37;g=39;f=j.keyCode;h=String.fromCharCode(f).toLowerCase();if(f===l||h.match(/x|o|c/)){this.end()}else{if(h==="p"||f===k){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)
}}else{if(h==="n"||f===g){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}}}}};e.prototype.end=function(){this.disableKeyboardNav();a(window).off("resize",this.sizeOverlay);a("#lightbox").fadeOut(this.options.fadeDuration);a("#lightboxOverlay").fadeOut(this.options.fadeDuration);return a("select, object, embed").css({visibility:"visible"})};return e})();a(function(){var f,e;e=new d;return f=new b(e)})}).call(this);"undefined"==typeof jwplayer&&(jwplayer=function(a){if(jwplayer.api){return jwplayer.api.selectPlayer(a)}},jwplayer.version="6.8.4616",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(q){function v(a){return function(){return u(a)}}function k(l,d,e,f,g){return function(){var m,b;if(g){e(l)}else{try{if(m=l.responseXML){if(b=m.firstChild,m.lastChild&&"parsererror"===m.lastChild.nodeName){f&&f("Invalid XML");return}}}catch(a){}if(m&&b){return e(l)
}(m=t.parseXML(l.responseText))&&m.firstChild?(l=t.extend({},l,{responseXML:m}),e(l)):f&&f(l.responseText?"Invalid XML":d)}}}var n=document,o=window,r=navigator,t=q.utils=function(){};t.exists=function(a){switch(typeof a){case"string":return 0<a.length;case"object":return null!==a;case"undefined":return !1}return !0};t.styleDimension=function(a){return a+(0<a.toString().indexOf("%")?"":"px")};t.getAbsolutePath=function(p,e){t.exists(e)||(e=n.location.href);if(t.exists(p)){var g;if(t.exists(p)){g=p.indexOf("://");var l=p.indexOf("?");g=0<g&&(0>l||l>g)}else{g=void 0}if(g){return p}g=e.substring(0,e.indexOf("://")+3);var l=e.substring(g.length,e.indexOf("/",g.length+1)),m;0===p.indexOf("/")?m=p.split("/"):(m=e.split("?")[0],m=m.substring(g.length+l.length+1,m.lastIndexOf("/")),m=m.split("/").concat(p.split("/")));for(var x=[],w=0;w<m.length;w++){m[w]&&(t.exists(m[w])&&"."!=m[w])&&(".."==m[w]?x.pop():x.push(m[w]))}return g+l+"/"+x.join("/")}};t.extend=function(){var d=t.extend.arguments;if(1<d.length){for(var b=1;
b<d.length;b++){t.foreach(d[b],function(f,g){try{t.exists(g)&&(d[0][f]=g)}catch(e){}})}return d[0]}return null};var j=window.console=window.console||{log:function(){}};t.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"===typeof j.log?j.log(a):j.log.apply(j,a)};var u=t.userAgentMatch=function(a){return null!==r.userAgent.toLowerCase().match(a)};t.isIE=t.isMSIE=v(/msie/i);t.isFF=v(/firefox/i);t.isChrome=v(/chrome/i);t.isIPod=v(/iP(hone|od)/i);t.isIPad=v(/iPad/i);t.isSafari602=v(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);t.isIETrident=function(a){return a?(a=parseFloat(a).toFixed(1),u(RegExp("msie\\s*"+a+"|trident/.+rv:\\s*"+a,"i"))):u(/msie|trident/i)};t.isSafari=function(){return u(/safari/i)&&!u(/chrome/i)&&!u(/chromium/i)&&!u(/android/i)};t.isIOS=function(a){return a?u(RegExp("iP(hone|ad|od).+\\sOS\\s"+a,"i")):u(/iP(hone|ad|od)/i)};t.isAndroid=function(d,b){var e=b?!u(/chrome\/[23456789]/i):!0;return d?e&&u(RegExp("android.*"+d,"i")):e&&u(/android/i)};t.isMobile=function(){return t.isIOS()||t.isAndroid()
};t.saveCookie=function(d,b){n.cookie="jwplayer."+d+"\x3d"+b+"; path\x3d/"};t.getCookies=function(){for(var e={},b=n.cookie.split("; "),f=0;f<b.length;f++){var d=b[f].split("\x3d");0===d[0].indexOf("jwplayer.")&&(e[d[0].substring(9,d[0].length)]=d[1])}return e};t.typeOf=function(d){var b=typeof d;return"object"===b?!d?"null":d instanceof Array?"array":b:b};t.translateEventResponse=function(g,e){var d=t.extend({},e);if(g==q.events.JWPLAYER_FULLSCREEN&&!d.fullscreen){d.fullscreen="true"==d.message?!0:!1,delete d.message}else{if("object"==typeof d.data){var f=d.data;delete d.data;d=t.extend(d,f)}else{"object"==typeof d.metadata&&t.deepReplaceKeyName(d.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"])}}t.foreach(["position","duration","offset"],function(l,b){d[b]&&(d[b]=Math.round(1000*d[b])/1000)});return d};t.flashVersion=function(){if(t.isAndroid()){return 0}var g=r.plugins,e;try{if("undefined"!==g&&(e=g["Shockwave Flash"])){return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"),10)
}}catch(d){}if("undefined"!=typeof o.ActiveXObject){try{if(e=new o.ActiveXObject("ShockwaveFlash.ShockwaveFlash")){return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0],10)}}catch(f){}}return 0};t.getScriptPath=function(f){for(var e=n.getElementsByTagName("script"),d=0;d<e.length;d++){var g=e[d].src;if(g&&0<=g.indexOf(f)){return g.substr(0,g.indexOf(f))}}return""};t.deepReplaceKeyName=function(g,e,d){switch(q.utils.typeOf(g)){case"array":for(var f=0;f<g.length;f++){g[f]=q.utils.deepReplaceKeyName(g[f],e,d)}break;case"object":t.foreach(g,function(p,a){var m;if(e instanceof Array&&d instanceof Array){if(e.length!=d.length){return}m=e}else{m=[e]}for(var l=p,b=0;b<m.length;b++){l=l.replace(RegExp(e[b],"g"),d[b])}g[l]=q.utils.deepReplaceKeyName(a,e,d);p!=l&&delete g[p]})}return g};var h=t.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};t.getPluginPathType=function(f){if("string"==typeof f){f=f.split("?")[0];var e=f.indexOf("://");if(0<e){return h.ABSOLUTE}var d=f.indexOf("/");f=t.extension(f);
return 0>e&&0>d&&(!f||!isNaN(f))?h.CDN:h.RELATIVE}};t.getPluginName=function(a){return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")};t.getPluginVersion=function(a){return a.replace(/[^-]*-?([^\.]*).*$/,"$1")};t.isYouTube=function(a){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)};t.youTubeID=function(d){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(d).slice(1).join("").replace("?","")}catch(b){return""}};t.isRtmp=function(d,b){return 0===d.indexOf("rtmp")||"rtmp"==b};t.foreach=function(f,e){var l,g;for(l in f){"function"==t.typeOf(f.hasOwnProperty)?f.hasOwnProperty(l)&&(g=f[l],e(l,g)):(g=f[l],e(l,g))}};t.isHTTPS=function(){return 0===o.location.href.indexOf("https")};t.repo=function(){var e="http://p.jwpcdn.com/"+q.version.split(/\W/).splice(0,2).join("/")+"/";try{t.isHTTPS()&&(e=e.replace("http://","https://ssl."))}catch(d){}return e};t.ajax=function(f,e,x,l){var m;0<f.indexOf("#")&&(f=f.replace(/#.*$/,""));if(f&&0<=f.indexOf("://")&&f.split("/")[2]!=o.location.href.split("/")[2]&&t.exists(o.XDomainRequest)){m=new o.XDomainRequest,m.onload=k(m,f,e,x,l),m.ontimeout=m.onprogress=function(){},m.timeout=5000
}else{if(t.exists(o.XMLHttpRequest)){var w=m=new o.XMLHttpRequest,p=f;m.onreadystatechange=function(){if(4===w.readyState){switch(w.status){case 200:k(w,p,e,x,l)();break;case 404:x("File not found")}}}}else{return x&&x(),m}}m.overrideMimeType&&m.overrideMimeType("text/xml");m.onerror=function(){x("Error loading file")};setTimeout(function(){try{m.open("GET",f,!0),m.send()}catch(a){x&&x(f)}},0);return m};t.parseXML=function(e){var d;try{if(o.DOMParser){if(d=(new o.DOMParser).parseFromString(e,"text/xml"),d.childNodes&&d.childNodes.length&&"parsererror"==d.childNodes[0].firstChild.nodeName){return}}else{d=new o.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(e)}}catch(f){return}return d};t.filterPlaylist=function(l,e){var y=[],m,p,x,w;for(m=0;m<l.length;m++){if(p=t.extend({},l[m]),p.sources=t.filterSources(p.sources),0<p.sources.length){for(x=0;x<p.sources.length;x++){w=p.sources[x],w.label||(w.label=x.toString())}y.push(p)}}if(e&&0===y.length){for(m=0;m<l.length;m++){if(p=t.extend({},l[m]),p.sources=t.filterSources(p.sources,!0),0<p.sources.length){for(x=0;
x<p.sources.length;x++){w=p.sources[x],w.label||(w.label=x.toString())}y.push(p)}}}return y};t.filterSources=function(p,l){var A,w,x=t.extensionmap;if(p){w=[];for(var z=0;z<p.length;z++){var y=p[z].type,e=p[z].file;e&&(e=t.trim(e));y||(y=x.extType(t.extension(e)),p[z].type=y);l?q.embed.flashCanPlay(e,y)&&(A||(A=y),y==A&&w.push(t.extend({},p[z]))):t.canPlayHTML5(y)&&(A||(A=y),y==A&&w.push(t.extend({},p[z])))}}return w};t.canPlayHTML5=function(b){if(t.isAndroid()&&("hls"==b||"m3u"==b||"m3u8"==b)){return !1}b=t.extensionmap.types[b];return !!b&&!!q.vid.canPlayType&&q.vid.canPlayType(b)};t.seconds=function(e){e=e.replace(",",".");var d=e.split(":"),f=0;"s"==e.slice(-1)?f=parseFloat(e):"m"==e.slice(-1)?f=60*parseFloat(e):"h"==e.slice(-1)?f=3600*parseFloat(e):1<d.length?(f=parseFloat(d[d.length-1]),f+=60*parseFloat(d[d.length-2]),3==d.length&&(f+=3600*parseFloat(d[d.length-3]))):f=parseFloat(e);return f};t.serialize=function(b){return null==b?null:"true"==b.toString().toLowerCase()?!0:"false"==b.toString().toLowerCase()?!1:isNaN(Number(b))||5<b.length||0===b.length?b:Number(b)
}}(jwplayer),function(m){var h="video/",b=m.foreach,j={mp4:h+"mp4",vorbis:"audio/ogg",ogg:h+"ogg",webm:h+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},k={mp4:j.mp4,f4v:j.mp4,m4v:j.mp4,mov:j.mp4,m4a:j.aac,f4a:j.aac,aac:j.aac,mp3:j.mp3,ogv:j.ogg,ogg:j.vorbis,oga:j.vorbis,webm:j.webm,m3u8:j.hls,hls:j.hls},h="video",h={flv:h,f4v:h,mov:h,m4a:h,m4v:h,mp4:h,aac:h,f4a:h,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},n=m.extensionmap={};b(k,function(d,e){n[d]={html5:e}});b(h,function(d,e){n[d]||(n[d]={});n[d].flash=e});n.types=j;n.mimeType=function(e){var f;b(j,function(a,d){!f&&d==e&&(f=a)});return f};n.extType=function(d){return n.mimeType(k[d])}}(jwplayer.utils),function(f){var d=f.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},b=document;f.scriptloader=function(h){function j(){l=d.ERROR;a.sendEvent(e.ERROR)}function k(){l=d.COMPLETE;a.sendEvent(e.COMPLETE)}var l=d.NEW,e=jwplayer.events,a=new e.eventdispatcher;f.extend(this,a);this.load=function(){var g=f.scriptloader.loaders[h];
if(g&&(g.getStatus()==d.NEW||g.getStatus()==d.LOADING)){g.addEventListener(e.ERROR,j),g.addEventListener(e.COMPLETE,k)}else{if(f.scriptloader.loaders[h]=this,l==d.NEW){l=d.LOADING;var m=b.createElement("script");m.addEventListener?(m.onload=k,m.onerror=j):m.readyState&&(m.onreadystatechange=function(){("loaded"==m.readyState||"complete"==m.readyState)&&k()});b.getElementsByTagName("head")[0].appendChild(m);m.src=h}}};this.getStatus=function(){return l}};f.scriptloader.loaders={}}(jwplayer.utils),function(a){a.trim=function(b){return b.replace(/^\s*/,"").replace(/\s*$/,"")};a.pad=function(b,f,d){for(d||(d="0");b.length<f;){b=d+b}return b};a.xmlAttribute=function(b,f){for(var d=0;d<b.attributes.length;d++){if(b.attributes[d].name&&b.attributes[d].name.toLowerCase()==f.toLowerCase()){return b.attributes[d].value.toString()}}return""};a.extension=function(b){if(!b||"rtmp"==b.substr(0,4)){return""}b=b.substring(b.lastIndexOf("/")+1,b.length).split("?")[0].split("#")[0];if(-1<b.lastIndexOf(".")){return b.substr(b.lastIndexOf(".")+1,b.length).toLowerCase()
}};a.stringToColor=function(b){b=b.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");3==b.length&&(b=b.charAt(0)+b.charAt(0)+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2));return parseInt(b,16)}}(jwplayer.utils),function(f){var d="touchmove",b="touchstart";f.touch=function(o){function r(g){g.type==b?(v=!0,l=u(j.DRAG_START,g)):g.type==d?v&&(a||(t(j.DRAG_START,g,l),a=!0),t(j.DRAG,g)):(v&&(a?t(j.DRAG_END,g):(g.cancelBubble=!0,t(j.TAP,g))),v=a=!1,l=null)}function t(h,g,m){if(e[h]&&(g.preventManipulation&&g.preventManipulation(),g.preventDefault&&g.preventDefault(),g=m?m:u(h,g))){e[h](g)}}function u(h,g){var m=null;g.touches&&g.touches.length?m=g.touches[0]:g.changedTouches&&g.changedTouches.length&&(m=g.changedTouches[0]);if(!m){return null}var n=k.getBoundingClientRect(),m={type:h,target:k,x:m.pageX-window.pageXOffset-n.left,y:m.pageY,deltaX:0,deltaY:0};h!=j.TAP&&l&&(m.deltaX=m.x-l.x,m.deltaY=m.y-l.y);return m}var k=o,v=!1,e={},l=null,a=!1,j=f.touchEvents;document.addEventListener(d,r);document.addEventListener("touchend",function(g){v&&a&&t(j.DRAG_END,g);
v=a=!1;l=null});document.addEventListener("touchcancel",r);o.addEventListener(b,r);o.addEventListener("touchend",r);this.addEventListener=function(h,g){e[h]=g};this.removeEventListener=function(g){delete e[g]};return this}}(jwplayer.utils),function(a){a.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(a){a.key=function(e){var b,h,j;this.edition=function(){return j&&j.getTime()<(new Date).getTime()?"invalid":b};this.token=function(){return h};a.exists(e)||(e="");try{e=a.tea.decrypt(e,"36QXq4W@GSBV^teR");var k=e.split("/");(b=k[0])?/^(free|pro|premium|ads)$/i.test(b)?(h=k[1],k[2]&&0<parseInt(k[2])&&(j=new Date,j.setTime(String(k[2])))):b="invalid":b="free"}catch(m){b="invalid"}}}(jwplayer.utils),function(h){var d=h.tea={};d.encrypt=function(t,v){if(0==t.length){return""}var w=d.strToLongs(f.encode(t));1>=w.length&&(w[1]=0);for(var l=d.strToLongs(f.encode(v).slice(0,16)),x=w.length,u=w[x-1],r=w[0],a,g=Math.floor(6+52/x),o=0;
0<g--;){o+=2654435769;a=o>>>2&3;for(var p=0;p<x;p++){r=w[(p+1)%x],u=(u>>>5^r<<2)+(r>>>3^u<<4)^(o^r)+(l[p&3^a]^u),u=w[p]+=u}}w=d.longsToStr(w);return b.encode(w)};d.decrypt=function(p,t){if(0==p.length){return""}for(var u=d.strToLongs(b.decode(p)),j=d.strToLongs(f.encode(t).slice(0,16)),v=u.length,r=u[v-1],o=u[0],a,g=2654435769*Math.floor(6+52/v);0!=g;){a=g>>>2&3;for(var l=v-1;0<=l;l--){r=u[0<l?l-1:v-1],r=(r>>>5^o<<2)+(o>>>3^r<<4)^(g^o)+(j[l&3^a]^r),o=u[l]-=r}g-=2654435769}u=d.longsToStr(u);u=u.replace(/\0+$/,"");return f.decode(u)};d.strToLongs=function(e){for(var g=Array(Math.ceil(e.length/4)),j=0;j<g.length;j++){g[j]=e.charCodeAt(4*j)+(e.charCodeAt(4*j+1)<<8)+(e.charCodeAt(4*j+2)<<16)+(e.charCodeAt(4*j+3)<<24)}return g};d.longsToStr=function(e){for(var g=Array(e.length),j=0;j<e.length;j++){g[j]=String.fromCharCode(e[j]&255,e[j]>>>8&255,e[j]>>>16&255,e[j]>>>24&255)}return g.join("")};var b={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(y,v){var w,u,x,l,t=[],g="",m,o,r=b.code;
o=("undefined"==typeof v?0:v)?f.encode(y):y;m=o.length%3;if(0<m){for(;3>m++;){g+="\x3d",o+="\x00"}}for(m=0;m<o.length;m+=3){w=o.charCodeAt(m),u=o.charCodeAt(m+1),x=o.charCodeAt(m+2),l=w<<16|u<<8|x,w=l>>18&63,u=l>>12&63,x=l>>6&63,l&=63,t[m/3]=r.charAt(w)+r.charAt(u)+r.charAt(x)+r.charAt(l)}t=t.join("");return t=t.slice(0,t.length-g.length)+g},decode:function(y,v){v="undefined"==typeof v?!1:v;var w,u,x,l,t,g=[],m,o=b.code;m=v?f.decode(y):y;for(var r=0;r<m.length;r+=4){w=o.indexOf(m.charAt(r)),u=o.indexOf(m.charAt(r+1)),l=o.indexOf(m.charAt(r+2)),t=o.indexOf(m.charAt(r+3)),x=w<<18|u<<12|l<<6|t,w=x>>>16&255,u=x>>>8&255,x&=255,g[r/4]=String.fromCharCode(w,u,x),64==t&&(g[r/4]=String.fromCharCode(w,u)),64==l&&(g[r/4]=String.fromCharCode(w))}l=g.join("");return v?f.decode(l):l}},f={encode:function(e){e=e.replace(/[\u0080-\u07ff]/g,function(g){g=g.charCodeAt(0);return String.fromCharCode(192|g>>6,128|g&63)});return e=e.replace(/[\u0800-\uffff]/g,function(g){g=g.charCodeAt(0);return String.fromCharCode(224|g>>12,128|g>>6&63,128|g&63)
})},decode:function(e){e=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(g){g=(g.charCodeAt(0)&15)<<12|(g.charCodeAt(1)&63)<<6|g.charCodeAt(2)&63;return String.fromCharCode(g)});return e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(g){g=(g.charCodeAt(0)&31)<<6|g.charCodeAt(1)&63;return String.fromCharCode(g)})}}}(jwplayer.utils),function(a){a.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped"}
}(jwplayer),function(d){var b=d.utils;d.events.eventdispatcher=function(a,e){function h(q,l,p){if(q){for(var m=0;m<q.length;m++){var n=q[m];if(n){null!==n.count&&0===--n.count&&delete q[m];try{n.listener(l)}catch(o){b.log('Error handling "'+p+'" event listener ['+m+"]: "+o.toString(),n.listener,l)}}}}}var j,k;this.resetEventListeners=function(){j={};k=[]};this.resetEventListeners();this.addEventListener=function(n,f,m){try{b.exists(j[n])||(j[n]=[]),"string"==b.typeOf(f)&&(f=(new Function("return "+f))()),j[n].push({listener:f,count:m||null})}catch(l){b.log("error",l)}return !1};this.removeEventListener=function(n,f){if(j[n]){try{for(var m=0;m<j[n].length;m++){if(j[n][m].listener.toString()==f.toString()){j[n].splice(m,1);break}}}catch(l){b.log("error",l)}return !1}};this.addGlobalListener=function(m,f){try{"string"==b.typeOf(m)&&(m=(new Function("return "+m))()),k.push({listener:m,count:f||null})}catch(l){b.log("error",l)}return !1};this.removeGlobalListener=function(m){if(m){try{for(var f=k.length;
f--;){k[f].listener.toString()==m.toString()&&k.splice(f,1)}}catch(l){b.log("error",l)}return !1}};this.sendEvent=function(g,f){b.exists(f)||(f={});b.extend(f,{id:a,version:d.version,type:g});e&&b.log(g,f);h(j[g],f,g);h(k,f,g)}}}(window.jwplayer),function(f){var d={},b={};f.plugins=function(){};f.plugins.loadPlugins=function(a,e){b[a]=new f.plugins.pluginloader(new f.plugins.model(d),e);return b[a]};f.plugins.registerPlugin=function(e,h,j,k){var a=f.utils.getPluginName(e);d[a]||(d[a]=new f.plugins.plugin(e));d[a].registerPlugin(e,h,j,k)}}(jwplayer),function(a){a.plugins.model=function(b){this.addPlugin=function(d){var e=a.utils.getPluginName(d);b[e]||(b[e]=new a.plugins.plugin(d));return b[e]};this.getPlugins=function(){return b}}}(jwplayer),function(f){var d=jwplayer.utils,b=jwplayer.events;f.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2};f.plugin=function(o){function r(){switch(d.getPluginPathType(o)){case d.pluginPathType.ABSOLUTE:return o;case d.pluginPathType.RELATIVE:return d.getAbsolutePath(o,window.location.href)
}}function t(){a=setTimeout(function(){k=d.loaderstatus.COMPLETE;j.sendEvent(b.COMPLETE)},1000)}function u(){k=d.loaderstatus.ERROR;j.sendEvent(b.ERROR)}var k=d.loaderstatus.NEW,v,e,l,a,j=new b.eventdispatcher;d.extend(this,j);this.load=function(){if(k==d.loaderstatus.NEW){if(0<o.lastIndexOf(".swf")){v=o,k=d.loaderstatus.COMPLETE,j.sendEvent(b.COMPLETE)}else{if(d.getPluginPathType(o)==d.pluginPathType.CDN){k=d.loaderstatus.COMPLETE,j.sendEvent(b.COMPLETE)}else{k=d.loaderstatus.LOADING;var g=new d.scriptloader(r());g.addEventListener(b.COMPLETE,t);g.addEventListener(b.ERROR,u);g.load()}}}};this.registerPlugin=function(p,n,h,m){a&&(clearTimeout(a),a=void 0);l=n;h&&m?(v=m,e=h):"string"==typeof h?v=h:"function"==typeof h?e=h:!h&&!m&&(v=p);k=d.loaderstatus.COMPLETE;j.sendEvent(b.COMPLETE)};this.getStatus=function(){return k};this.getPluginName=function(){return d.getPluginName(o)};this.getFlashPath=function(){if(v){switch(d.getPluginPathType(v)){case d.pluginPathType.ABSOLUTE:return v;case d.pluginPathType.RELATIVE:return 0<o.lastIndexOf(".swf")?d.getAbsolutePath(v,window.location.href):d.getAbsolutePath(v,r())
}}return null};this.getJS=function(){return e};this.getTarget=function(){return l};this.getPluginmode=function(){if("undefined"!=typeof v&&"undefined"!=typeof e){return f.pluginmodes.HYBRID}if("undefined"!=typeof v){return f.pluginmodes.FLASH}if("undefined"!=typeof e){return f.pluginmodes.JAVASCRIPT}};this.getNewInstance=function(h,g,m){return new e(h,g,m)};this.getURL=function(){return o}}}(jwplayer.plugins),function(h){var d=h.utils,b=h.events,f=d.foreach;h.plugins.pluginloader=function(u,v){function w(){t?o.sendEvent(b.ERROR,{message:a}):e||(e=!0,x=d.loaderstatus.COMPLETE,o.sendEvent(b.COMPLETE))}function l(){g||w();if(!e&&!t){var j=0,k=u.getPlugins();d.foreach(g,function(n){n=d.getPluginName(n);var m=k[n];n=m.getJS();var p=m.getTarget(),m=m.getStatus();if(m==d.loaderstatus.LOADING||m==d.loaderstatus.NEW){j++}else{if(n&&(!p||parseFloat(p)>parseFloat(h.version))){t=!0,a="Incompatible player version",w()}}});0==j&&w()}}var x=d.loaderstatus.NEW,e=!1,t=!1,a,g=v,o=new b.eventdispatcher;d.extend(this,o);
this.setupPlugins=function(m,A,z){var n={length:0,plugins:{}},q=0,p={},y=u.getPlugins();f(A.plugins,function(H,I){var E=d.getPluginName(H),B=y[E],G=B.getFlashPath(),D=B.getJS(),k=B.getURL();G&&(n.plugins[G]=d.extend({},I),n.plugins[G].pluginmode=B.getPluginmode(),n.length++);try{if(D&&A.plugins&&A.plugins[k]){var j=document.createElement("div");j.id=m.id+"_"+E;j.style.position="absolute";j.style.top=0;j.style.zIndex=q+10;p[E]=B.getNewInstance(m,d.extend({},A.plugins[k]),j);q++;m.onReady(z(p[E],j,!0));m.onResize(z(p[E],j))}}catch(J){d.log("ERROR: Failed to load "+E+".")}});m.plugins=p;return n};this.load=function(){if(!(d.exists(v)&&"object"!=d.typeOf(v))){x=d.loaderstatus.LOADING;f(v,function(k){d.exists(k)&&(k=u.addPlugin(k),k.addEventListener(b.COMPLETE,l),k.addEventListener(b.ERROR,r))});var j=u.getPlugins();f(j,function(m,k){k.load()})}l()};var r=this.pluginFailed=function(){t||(t=!0,a="File not found",w())};this.getStatus=function(){return x}}}(jwplayer),function(){jwplayer.parsers={localName:function(a){return a?a.localName?a.localName:a.baseName?a.baseName:"":""
},textContent:function(a){return a?a.textContent?jwplayer.utils.trim(a.textContent):a.text?jwplayer.utils.trim(a.text):"":""},getChildNode:function(d,b){return d.childNodes[b]},numChildren:function(a){return a.childNodes?a.childNodes.length:0}}}(jwplayer),function(d){var b=d.parsers;(b.jwparser=function(){}).parseEntry=function(h,j){for(var k=[],o=[],q=d.utils.xmlAttribute,e=0;e<h.childNodes.length;e++){var a=h.childNodes[e];if("jwplayer"==a.prefix){var n=b.localName(a);"source"==n?(delete j.sources,k.push({file:q(a,"file"),"default":q(a,"default"),label:q(a,"label"),type:q(a,"type")})):"track"==n?(delete j.tracks,o.push({file:q(a,"file"),"default":q(a,"default"),kind:q(a,"kind"),label:q(a,"label")})):(j[n]=d.utils.serialize(b.textContent(a)),"file"==n&&j.sources&&delete j.sources)}j.file||(j.file=j.link)}if(k.length){j.sources=[];for(e=0;e<k.length;e++){0<k[e].file.length&&(k[e]["default"]="true"==k[e]["default"]?!0:!1,k[e].label.length||delete k[e].label,j.sources.push(k[e]))}}if(o.length){j.tracks=[];
for(e=0;e<o.length;e++){0<o[e].file.length&&(o[e]["default"]="true"==o[e]["default"]?!0:!1,o[e].kind=!o[e].kind.length?"captions":o[e].kind,o[e].label.length||delete o[e].label,j.tracks.push(o[e]))}}return j}}(jwplayer),function(m){var h=jwplayer.utils,b=h.xmlAttribute,j=m.localName,k=m.textContent,n=m.numChildren,o=m.mediaparser=function(){};o.parseGroup=function(t,a){var r,g,l=[];for(g=0;g<n(t);g++){if(r=t.childNodes[g],"media"==r.prefix&&j(r)){switch(j(r).toLowerCase()){case"content":b(r,"duration")&&(a.duration=h.seconds(b(r,"duration")));0<n(r)&&(a=o.parseGroup(r,a));b(r,"url")&&(a.sources||(a.sources=[]),a.sources.push({file:b(r,"url"),type:b(r,"type"),width:b(r,"width"),label:b(r,"label")}));break;case"title":a.title=k(r);break;case"description":a.description=k(r);break;case"guid":a.mediaid=k(r);break;case"thumbnail":a.image||(a.image=b(r,"url"));break;case"group":o.parseGroup(r,a);break;case"subtitle":var u={};u.file=b(r,"url");u.kind="captions";if(0<b(r,"lang").length){var d=u;
r=b(r,"lang");var f={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};r=f[r]?f[r]:r;d.label=r}l.push(u)}}}a.hasOwnProperty("tracks")||(a.tracks=[]);for(g=0;g<l.length;g++){a.tracks.push(l[g])}return a}}(jwplayer.parsers),function(m){function h(g){for(var e={},q=0;q<g.childNodes.length;q++){var l=g.childNodes[q],p=o(l);if(p){switch(p.toLowerCase()){case"enclosure":e.file=b.xmlAttribute(l,"url");break;case"title":e.title=j(l);break;case"guid":e.mediaid=j(l);break;case"pubdate":e.date=j(l);break;case"description":e.description=j(l);break;case"link":e.link=j(l);break;case"category":e.tags=e.tags?e.tags+j(l):j(l)}}}e=m.mediaparser.parseGroup(g,e);e=m.jwparser.parseEntry(g,e);return new jwplayer.playlist.item(e)}var b=jwplayer.utils,j=m.textContent,k=m.getChildNode,n=m.numChildren,o=m.localName;m.rssparser={};m.rssparser.parse=function(p){for(var a=[],q=0;q<n(p);q++){var f=k(p,q);if("channel"==o(f).toLowerCase()){for(var d=0;
d<n(f);d++){var r=k(f,d);"item"==o(r).toLowerCase()&&a.push(h(r))}}}return a}}(jwplayer.parsers),function(a){a.playlist=function(d){var b=[];if("array"==a.utils.typeOf(d)){for(var e=0;e<d.length;e++){b.push(new a.playlist.item(d[e]))}}else{b.push(new a.playlist.item(d))}return b}}(jwplayer),function(d){var b=d.item=function(a){var e=jwplayer.utils,h=e.extend({},b.defaults,a);h.tracks=a&&e.exists(a.tracks)?a.tracks:[];0==h.sources.length&&(h.sources=[new d.source(h)]);for(var j=0;j<h.sources.length;j++){var k=h.sources[j]["default"];h.sources[j]["default"]=k?"true"==k.toString():!1;h.sources[j]=new d.source(h.sources[j])}if(h.captions&&!e.exists(a.tracks)){for(a=0;a<h.captions.length;a++){h.tracks.push(h.captions[a])}delete h.captions}for(j=0;j<h.tracks.length;j++){h.tracks[j]=new d.track(h.tracks[j])}return h};b.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(k){var d=jwplayer,b=d.utils,h=d.events,j=d.parsers;k.loader=function(){function g(q){try{var o=q.responseXML.childNodes;
q="";for(var a=0;a<o.length&&!(q=o[a],8!=q.nodeType);a++){}"xml"==j.localName(q)&&(q=q.nextSibling);if("rss"!=j.localName(q)){f("Not a valid RSS feed")}else{var p=new k(j.rssparser.parse(q));e.sendEvent(h.JWPLAYER_PLAYLIST_LOADED,{playlist:p})}}catch(m){f()}}function l(m){f(m.match(/invalid/i)?"Not a valid RSS feed":"")}function f(m){e.sendEvent(h.JWPLAYER_ERROR,{message:m?m:"Error loading file"})}var e=new h.eventdispatcher;b.extend(this,e);this.load=function(a){b.ajax(a,g,l)}}}(jwplayer.playlist),function(f){var d=jwplayer.utils,b={file:void 0,label:void 0,type:void 0,"default":void 0};f.source=function(a){var e=d.extend({},b);d.foreach(b,function(g){d.exists(a[g])&&(e[g]=a[g],delete a[g])});e.type&&0<e.type.indexOf("/")&&(e.type=d.extensionmap.mimeType(e.type));"m3u8"==e.type&&(e.type="hls");"smil"==e.type&&(e.type="rtmp");return e}}(jwplayer.playlist),function(f){var d=jwplayer.utils,b={file:void 0,label:void 0,kind:"captions","default":!1};f.track=function(a){var e=d.extend({},b);a||(a={});
d.foreach(b,function(g){d.exists(a[g])&&(e[g]=a[g],delete a[g])});return e}}(jwplayer.playlist),function(o){function j(e,m,l){var f=e.style;f.backgroundColor="#000";f.color="#FFF";f.width=h.styleDimension(l.width);f.height=h.styleDimension(l.height);f.display="table";f.opacity=1;l=document.createElement("p");f=l.style;f.verticalAlign="middle";f.textAlign="center";f.display="table-cell";f.font="15px/20px Arial, Helvetica, sans-serif";l.innerHTML=m.replace(":",":\x3cbr\x3e");e.innerHTML="";e.appendChild(l)}var h=o.utils,k=o.events,n=!0,p=!1,q=document,b=o.embed=function(P){function K(t,r){h.foreach(r,function(u,v){"function"==typeof t[u]&&t[u].call(t,v)})}function O(){if(!m){if("array"==h.typeOf(C.playlist)&&2>C.playlist.length&&(0==C.playlist.length||!C.playlist[0].sources||0==C.playlist[0].sources.length)){M()}else{if(!H){if("string"==h.typeOf(C.playlist)){var r=new o.playlist.loader;r.addEventListener(k.JWPLAYER_PLAYLIST_LOADED,function(u){C.playlist=u.playlist;H=p;O()});r.addEventListener(k.JWPLAYER_ERROR,function(u){H=p;
M(u)});H=n;r.load(C.playlist)}else{if(d.getStatus()==h.loaderstatus.COMPLETE){for(r=0;r<C.modes.length;r++){if(C.modes[r].type&&b[C.modes[r].type]){var w=h.extend({},C),v=new b[C.modes[r].type](G,C.modes[r],w,d,P);if(v.supportsConfig()){return v.addEventListener(k.ERROR,I),v.embed(),K(P,w.events),P}}}var t;C.fallback?(t="No suitable players found and fallback enabled",F=setTimeout(function(){N(t,n)},10),h.log(t),new b.download(G,C,M)):(t="No suitable players found and fallback disabled",N(t,p),h.log(t),G.parentNode.replaceChild(f,G))}}}}}}function I(r){l(J+r.message)}function L(r){l("Could not load plugins: "+r.message)}function M(r){r&&r.message?l("Error loading playlist: "+r.message):l(J+"No playable sources found")}function N(r,t){F&&(clearTimeout(F),F=null);F=setTimeout(function(){F=null;P.dispatchEvent(k.JWPLAYER_SETUP_ERROR,{message:r,fallback:t})},0)}function l(r){m||(C.fallback?(m=n,j(G,r,C),N(r,n)):N(r,p))}var C=new b.config(P.config),G,g,f,e=C.width,a=C.height,J="Error loading player: ",d=o.plugins.loadPlugins(P.id,C.plugins),H=p,m=p,F=null;
C.fallbackDiv&&(f=C.fallbackDiv,delete C.fallbackDiv);C.id=P.id;g=q.getElementById(P.id);C.aspectratio?P.config.aspectratio=C.aspectratio:delete P.config.aspectratio;G=q.createElement("div");G.id=g.id;G.style.width=0<e.toString().indexOf("%")?e:e+"px";G.style.height=0<a.toString().indexOf("%")?a:a+"px";g.parentNode.replaceChild(G,g);this.embed=function(){m||(d.addEventListener(k.COMPLETE,O),d.addEventListener(k.ERROR,L),d.load())};this.errorScreen=l;return this};o.embed.errorScreen=j}(jwplayer),function(k){function d(f){if(f.playlist){for(var l=0;l<f.playlist.length;l++){f.playlist[l]=new j(f.playlist[l])}}else{var g={};h.foreach(j.defaults,function(a){b(f,g,a)});g.sources||(f.levels?(g.sources=f.levels,delete f.levels):(l={},b(f,l,"file"),b(f,l,"type"),g.sources=l.file?[l]:[]));f.playlist=[new j(g)]}}function b(e,l,g){h.exists(e[g])&&(l[g]=e[g],delete e[g])}var h=k.utils,j=k.playlist.item;(k.embed.config=function(g){var l={fallback:!0,height:270,primary:"html5",width:480,base:g.base?g.base:h.getScriptPath("jwplayer.js"),aspectratio:""};
g=h.extend(l,k.defaults,g);var l={type:"html5",src:g.base+"jwplayer.html5.js"},e={type:"flash",src:g.base+"jwplayer.flash.swf"};g.modes="flash"==g.primary?[e,l]:[l,e];g.listbar&&(g.playlistsize=g.listbar.size,g.playlistposition=g.listbar.position,g.playlistlayout=g.listbar.layout);g.flashplayer&&(e.src=g.flashplayer);g.html5player&&(l.src=g.html5player);d(g);e=g.aspectratio;if("string"!=typeof e||!h.exists(e)){l=0}else{var a=e.indexOf(":");-1==a?l=0:(l=parseFloat(e.substr(0,a)),e=parseFloat(e.substr(a+1)),l=0>=l||0>=e?0:100*(e/l)+"%")}-1==g.width.toString().indexOf("%")?delete g.aspectratio:l?g.aspectratio=l:delete g.aspectratio;return g}).addConfig=function(a,e){d(e);return h.extend(a,e)}}(jwplayer),function(f){var d=f.utils,b=document;f.embed.download=function(z,A,C){function D(e,k){for(var j=b.querySelectorAll(e),h=0;h<j.length;h++){d.foreach(k,function(n,g){j[h].style[n]=g})}}function B(g,e,h){g=b.createElement(g);e&&(g.className="jwdownload"+e);h&&h.appendChild(g);return g}var E=d.extend({},A),m=E.width?E.width:480,y=E.height?E.height:320,l;
A=A.logo?A.logo:{prefix:d.repo(),file:"logo.png",margin:10};var o,w,x,E=E.playlist,G,H=["mp4","aac","mp3"];if(E&&E.length){G=E[0];l=G.sources;for(E=0;E<l.length;E++){var a=l[E],F=a.type?a.type:d.extensionmap.extType(d.extension(a.file));a.file&&d.foreach(H,function(e){F==H[e]?(o=a.file,w=G.image):d.isYouTube(a.file)&&(x=a.file)})}o?(l=o,C=w,z&&(E=B("a","display",z),B("div","icon",E),B("div","logo",E),l&&E.setAttribute("href",d.getAbsolutePath(l))),E="#"+z.id+" .jwdownload",z.style.width="",z.style.height="",D(E+"display",{width:d.styleDimension(Math.max(320,m)),height:d.styleDimension(Math.max(180,y)),background:"black center no-repeat "+(C?"url("+C+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),D(E+"display div",{position:"absolute",width:"100%",height:"100%"}),D(E+"logo",{top:A.margin+"px",right:A.margin+"px",background:"top right no-repeat url("+A.prefix+A.file+")"}),D(E+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):x?(A=x,z=B("iframe","",z),z.src="http://www.youtube.com/embed/"+d.youTubeID(A),z.width=m,z.height=y,z.style.border="none"):C()
}}}(jwplayer),function(k){var d=k.utils,b=k.events,h={};(k.embed.flash=function(t,u,g,v,e){function r(n,m,q){var p=document.createElement("param");p.setAttribute("name",m);p.setAttribute("value",q);n.appendChild(p)}function a(n,m,p){return function(){try{p&&document.getElementById(e.id+"_wrapper").appendChild(m);var w=document.getElementById(e.id).getPluginConfig("display");"function"==typeof n.resize&&n.resize(w.width,w.height);m.style.left=w.x;m.style.top=w.h}catch(q){}}}function f(m){if(!m){return{}}var p={},n=[];d.foreach(m,function(q,x){var w=d.getPluginName(q);n.push(q);d.foreach(x,function(z,y){p[w+"."+z]=y})});p.plugins=n.join(",");return p}var l=new k.events.eventdispatcher,o=d.flashVersion();d.extend(this,l);this.embed=function(){g.id=e.id;if(10>o){return l.sendEvent(b.ERROR,{message:"Flash version must be 10.0 or greater"}),!1}var q,x,p=e.config.listbar,n=d.extend({},g);if(t.id+"_wrapper"==t.parentNode.id){q=document.getElementById(t.id+"_wrapper")}else{q=document.createElement("div");
x=document.createElement("div");x.style.display="none";x.id=t.id+"_aspect";q.id=t.id+"_wrapper";q.style.position="relative";q.style.display="block";q.style.width=d.styleDimension(n.width);q.style.height=d.styleDimension(n.height);if(e.config.aspectratio){var m=parseFloat(e.config.aspectratio);x.style.display="block";x.style.marginTop=e.config.aspectratio;q.style.height="auto";q.style.display="inline-block";p&&("bottom"==p.position?x.style.paddingBottom=p.size+"px":"right"==p.position&&(x.style.marginBottom=-1*p.size*(m/100)+"px"))}t.parentNode.replaceChild(q,t);q.appendChild(t);q.appendChild(x)}q=v.setupPlugins(e,n,a);0<q.length?d.extend(n,f(q.plugins)):delete n.plugins;"undefined"!=typeof n["dock.position"]&&"false"==n["dock.position"].toString().toLowerCase()&&(n.dock=n["dock.position"],delete n["dock.position"]);q=n.wmode?n.wmode:n.height&&40>=n.height?"transparent":"opaque";x="height width modes events primary base fallback volume".split(" ");for(p=0;p<x.length;p++){delete n[x[p]]}x=d.getCookies();
d.foreach(x,function(y,w){"undefined"==typeof n[y]&&(n[y]=w)});x=window.location.href.split("/");x.splice(x.length-1,1);x=x.join("/");n.base=x+"/";h[t.id]=n;d.isIE()?(x='\x3cobject classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width\x3d"100%" height\x3d"100%"id\x3d"'+t.id+'" name\x3d"'+t.id+'" tabindex\x3d0""\x3e',x+='\x3cparam name\x3d"movie" value\x3d"'+u.src+'"\x3e',x+='\x3cparam name\x3d"allowfullscreen" value\x3d"true"\x3e\x3cparam name\x3d"allowscriptaccess" value\x3d"always"\x3e',x+='\x3cparam name\x3d"seamlesstabbing" value\x3d"true"\x3e',x+='\x3cparam name\x3d"wmode" value\x3d"'+q+'"\x3e',x+='\x3cparam name\x3d"bgcolor" value\x3d"#000000"\x3e',x+="\x3c/object\x3e",t.outerHTML=x,q=document.getElementById(t.id)):(x=document.createElement("object"),x.setAttribute("type","application/x-shockwave-flash"),x.setAttribute("data",u.src),x.setAttribute("width","100%"),x.setAttribute("height","100%"),x.setAttribute("bgcolor","#000000"),x.setAttribute("id",t.id),x.setAttribute("name",t.id),x.setAttribute("tabindex",0),r(x,"allowfullscreen","true"),r(x,"allowscriptaccess","always"),r(x,"seamlesstabbing","true"),r(x,"wmode",q),t.parentNode.replaceChild(x,t),q=x);
e.config.aspectratio&&(q.style.position="absolute");e.container=q;e.setPlayer(q,"flash")};this.supportsConfig=function(){if(o){if(g){if("string"==d.typeOf(g.playlist)){return !0}try{var m=g.playlist[0].sources;if("undefined"==typeof m){return !0}for(var p=0;p<m.length;p++){if(m[p].file&&j(m[p].file,m[p].type)){return !0}}}catch(n){}}else{return !0}}return !1}}).getVars=function(e){return h[e]};var j=k.embed.flashCanPlay=function(e,g){if(d.isYouTube(e)||d.isRtmp(e,g)||"hls"==g){return !0}var a=d.extensionmap[g?g:d.extension(e)];return !a?!1:!!a.flash}}(jwplayer),function(h){var d=h.utils,b=d.extensionmap,f=h.events;h.embed.html5=function(l,o,r,j,t){function e(n,m,p){return function(){try{var u=document.querySelector("#"+l.id+" .jwmain");p&&u.appendChild(m);"function"==typeof n.resize&&(n.resize(u.clientWidth,u.clientHeight),setTimeout(function(){n.resize(u.clientWidth,u.clientHeight)},400));m.left=u.style.left;m.top=u.style.top}catch(q){}}}function k(m){a.sendEvent(m.type,{message:"HTML5 player not found"})
}var a=this,g=new f.eventdispatcher;d.extend(a,g);a.embed=function(){if(h.html5){j.setupPlugins(t,r,e);l.innerHTML="";var m=h.utils.extend({},r);delete m.volume;m=new h.html5.player(m);t.container=document.getElementById(t.id);t.setPlayer(m,"html5")}else{m=new d.scriptloader(o.src),m.addEventListener(f.ERROR,k),m.addEventListener(f.COMPLETE,a.embed),m.load()}};a.supportsConfig=function(){if(h.vid.canPlayType){try{if("string"==d.typeOf(r.playlist)){return !0}for(var G=r.playlist[0].sources,E=0;E<G.length;E++){var D;var C=G[E].file,B=G[E].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||d.isAndroid()&&("m3u"==d.extension(C)||"m3u8"==d.extension(C))||d.isRtmp(C,B)){D=!1}else{var v=b[B?B:d.extension(C)],z;if(!v||v.flash&&!v.html5){z=!1}else{var x=v.html5,u=h.vid;if(x){try{z=u.canPlayType(x)?!0:!1}catch(w){z=!1}}else{z=!0}}D=z}if(D){return !0}}}catch(F){}}return !1}}}(jwplayer),function(h){var d=h.embed,b=h.utils,f=/\.(js|swf)$/;h.embed=b.extend(function(z){function A(){a="Adobe SiteCatalyst Error: Could not find Media Module"
}var B=b.repo(),o=b.extend({},h.defaults),C=b.extend({},o,z.config),g=z.config,y=C.plugins,e=C.analytics,l=B+"jwpsrv.js",w=B+"sharing.js",x=B+"related.js",E=B+"gapro.js",o=h.key?h.key:o.key,F=(new h.utils.key(o)).edition(),a,y=y?y:{};"ads"==F&&C.advertising&&(f.test(C.advertising.client)?y[C.advertising.client]=C.advertising:y[B+C.advertising.client+".js"]=C.advertising);delete g.advertising;g.key=o;C.analytics&&f.test(C.analytics.client)&&(l=C.analytics.client);delete g.analytics;e&&"ads"!==F&&delete e.enabled;if("free"==F||!e||!1!==e.enabled){y[l]=e?e:{}}delete y.sharing;delete y.related;switch(F){case"ads":if(g.sitecatalyst){try{window.s&&window.s.hasOwnProperty("Media")?new h.embed.sitecatalyst(z):A()}catch(D){A()}}case"premium":C.related&&(f.test(C.related.client)&&(x=C.related.client),y[x]=C.related),C.ga&&(f.test(C.ga.client)&&(E=C.ga.client),y[E]=C.ga);case"pro":C.sharing&&(f.test(C.sharing.client)&&(w=C.sharing.client),y[w]=C.sharing),C.skin&&(g.skin=C.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,b.repo()+"skins/$1.xml"))
}g.plugins=y;z.config=g;z=new d(z);a&&z.errorScreen(a);return z},h.embed)}(jwplayer),function(d){var b=jwplayer.utils;d.sitecatalyst=function(z){function x(e){C.debug&&b.log(e)}function y(e){e=e.split("/");e=e[e.length-1];e=e.split("?");return e[0]}function A(){if(!t){t=!0;var e=r.getPosition();x("stop: "+w+" : "+e);s.Media.stop(w,e)}}function B(){v||(A(),v=!0,x("close: "+w),s.Media.close(w),D=!0,o=0)}var r=z,C=b.extend({},r.config.sitecatalyst),l={onPlay:function(){if(!D){var e=r.getPosition();t=!1;x("play: "+w+" : "+e);s.Media.play(w,e)}},onPause:A,onBuffer:A,onIdle:B,onPlaylistItem:function(m){try{D=!0;B();o=0;var h;if(C.mediaName){h=C.mediaName}else{var j=r.getPlaylistItem(m.index);h=j.title?j.title:j.file?y(j.file):j.sources&&j.sources.length?y(j.sources[0].file):""}w=h;a=C.playerName?C.playerName:r.id}catch(f){b.log(f)}},onTime:function(){if(D){var f=r.getDuration();if(-1==f){return}v=t=D=!1;x("open: "+w+" : "+f+" : "+a);s.Media.open(w,f,a);x("play: "+w+" : 0");s.Media.play(w,0)}f=r.getPosition();
if(3<=Math.abs(f-o)){var e=o;x("seek: "+e+" to "+f);x("stop: "+w+" : "+e);s.Media.stop(w,e);x("play: "+w+" : "+f);s.Media.play(w,f)}o=f},onComplete:B},w,a,o,t=!0,v=!0,D;b.foreach(l,function(e){r[e](l[e])})}}(jwplayer.embed),function(o,j){var h=[],k=o.utils,n=o.events,p=n.state,q=document,b=o.api=function(H){function m(r,l){return function(t){return l(r,t)}}function E(r,l){M[r]||(M[r]=[],g(n.JWPLAYER_PLAYER_STATE,function(t){var x=t.newstate;t=t.oldstate;if(x==r){var w=M[x];if(w){for(var u=0;u<w.length;u++){var v=w[u];"function"==typeof v&&v.call(this,{oldstate:t,newstate:x})}}}}));M[r].push(l);return D}function d(r,l){try{r.jwAddEventListener(l,'function(dat) { jwplayer("'+D.id+'").dispatchEvent("'+l+'", dat); }')}catch(t){k.log("Could not add internal listener")}}function g(r,l){L[r]||(L[r]=[],a&&K&&d(a,r));L[r].push(l);return D}function C(){if(K){if(a){var r=Array.prototype.slice.call(arguments,0),l=r.shift();if("function"===typeof a[l]){switch(r.length){case 6:return a[l](r[0],r[1],r[2],r[3],r[4],r[5]);
case 5:return a[l](r[0],r[1],r[2],r[3],r[4]);case 4:return a[l](r[0],r[1],r[2],r[3]);case 3:return a[l](r[0],r[1],r[2]);case 2:return a[l](r[0],r[1]);case 1:return a[l](r[0])}return a[l]()}}return null}J.push(arguments)}var D=this,L={},M={},a,K=!1,J=[],I,F={},f={};D.container=H;D.id=H.id;D.getBuffer=function(){return C("jwGetBuffer")};D.getContainer=function(){return D.container};D.addButton=function(r,l,v,u){try{f[u]=v,C("jwDockAddButton",r,l,"jwplayer('"+D.id+"').callback('"+u+"')",u)}catch(t){k.log("Could not add dock button"+t.message)}};D.removeButton=function(l){C("jwDockRemoveButton",l)};D.callback=function(l){if(f[l]){f[l]()}};D.forceState=function(l){C("jwForceState",l);return D};D.releaseState=function(){return C("jwReleaseState")};D.getDuration=function(){return C("jwGetDuration")};D.getFullscreen=function(){return C("jwGetFullscreen")};D.getHeight=function(){return C("jwGetHeight")};D.getLockState=function(){return C("jwGetLockState")};D.getMeta=function(){return D.getItemMeta()
};D.getMute=function(){return C("jwGetMute")};D.getPlaylist=function(){var l=C("jwGetPlaylist");"flash"==D.renderingMode&&k.deepReplaceKeyName(l,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);return l};D.getPlaylistItem=function(l){k.exists(l)||(l=D.getPlaylistIndex());return D.getPlaylist()[l]};D.getPlaylistIndex=function(){return C("jwGetPlaylistIndex")};D.getPosition=function(){return C("jwGetPosition")};D.getRenderingMode=function(){return D.renderingMode};D.getState=function(){return C("jwGetState")};D.getVolume=function(){return C("jwGetVolume")};D.getWidth=function(){return C("jwGetWidth")};D.setFullscreen=function(l){k.exists(l)?C("jwSetFullscreen",l):C("jwSetFullscreen",!C("jwGetFullscreen"));return D};D.setMute=function(l){k.exists(l)?C("jwSetMute",l):C("jwSetMute",!C("jwGetMute"));return D};D.lock=function(){return D};D.unlock=function(){return D};D.load=function(l){C("jwLoad",l);return D};D.playlistItem=function(l){C("jwPlaylistItem",parseInt(l,10));return D
};D.playlistPrev=function(){C("jwPlaylistPrev");return D};D.playlistNext=function(){C("jwPlaylistNext");return D};D.resize=function(r,l){if("flash"!==D.renderingMode){C("jwResize",r,l)}else{var u=q.getElementById(D.id+"_wrapper"),t=q.getElementById(D.id+"_aspect");t&&(t.style.display="none");u&&(u.style.display="block",u.style.width=k.styleDimension(r),u.style.height=k.styleDimension(l))}return D};D.play=function(l){l===j?(l=D.getState(),l==p.PLAYING||l==p.BUFFERING?C("jwPause"):C("jwPlay")):C("jwPlay",l);return D};D.pause=function(l){l===j?(l=D.getState(),l==p.PLAYING||l==p.BUFFERING?C("jwPause"):C("jwPlay")):C("jwPause",l);return D};D.stop=function(){C("jwStop");return D};D.seek=function(l){C("jwSeek",l);return D};D.setVolume=function(l){C("jwSetVolume",l);return D};D.createInstream=function(){return new b.instream(this,a)};D.setInstream=function(l){return I=l};D.loadInstream=function(r,l){I=D.setInstream(D.createInstream()).init(l);I.loadItem(r);return I};D.getQualityLevels=function(){return C("jwGetQualityLevels")
};D.getCurrentQuality=function(){return C("jwGetCurrentQuality")};D.setCurrentQuality=function(l){C("jwSetCurrentQuality",l)};D.getCaptionsList=function(){return C("jwGetCaptionsList")};D.getCurrentCaptions=function(){return C("jwGetCurrentCaptions")};D.setCurrentCaptions=function(l){C("jwSetCurrentCaptions",l)};D.getControls=function(){return C("jwGetControls")};D.getSafeRegion=function(){return C("jwGetSafeRegion")};D.setControls=function(l){C("jwSetControls",l)};D.destroyPlayer=function(){C("jwPlayerDestroy")};D.playAd=function(r){var l=o(D.id).plugins;l.vast&&l.vast.jwPlayAd(r)};D.pauseAd=function(){var l=o(D.id).plugins;l.vast?l.vast.jwPauseAd():C("jwPauseAd")};var G={onBufferChange:n.JWPLAYER_MEDIA_BUFFER,onBufferFull:n.JWPLAYER_MEDIA_BUFFER_FULL,onError:n.JWPLAYER_ERROR,onSetupError:n.JWPLAYER_SETUP_ERROR,onFullscreen:n.JWPLAYER_FULLSCREEN,onMeta:n.JWPLAYER_MEDIA_META,onMute:n.JWPLAYER_MEDIA_MUTE,onPlaylist:n.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:n.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:n.JWPLAYER_PLAYLIST_COMPLETE,onReady:n.API_READY,onResize:n.JWPLAYER_RESIZE,onComplete:n.JWPLAYER_MEDIA_COMPLETE,onSeek:n.JWPLAYER_MEDIA_SEEK,onTime:n.JWPLAYER_MEDIA_TIME,onVolume:n.JWPLAYER_MEDIA_VOLUME,onBeforePlay:n.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:n.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:n.JWPLAYER_DISPLAY_CLICK,onControls:n.JWPLAYER_CONTROLS,onQualityLevels:n.JWPLAYER_MEDIA_LEVELS,onQualityChange:n.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:n.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:n.JWPLAYER_CAPTIONS_CHANGED,onAdError:n.JWPLAYER_AD_ERROR,onAdClick:n.JWPLAYER_AD_CLICK,onAdImpression:n.JWPLAYER_AD_IMPRESSION,onAdTime:n.JWPLAYER_AD_TIME,onAdComplete:n.JWPLAYER_AD_COMPLETE,onAdCompanions:n.JWPLAYER_AD_COMPANIONS,onAdSkipped:n.JWPLAYER_AD_SKIPPED};
k.foreach(G,function(l){D[l]=m(G[l],g)});var e={onBuffer:p.BUFFERING,onPause:p.PAUSED,onPlay:p.PLAYING,onIdle:p.IDLE};k.foreach(e,function(l){D[l]=m(e[l],E)});D.remove=function(){if(!K){throw"Cannot call remove() before player is ready"}J=[];b.destroyPlayer(this.id)};D.setup=function(r){if(o.embed){var l=q.getElementById(D.id);l&&(r.fallbackDiv=l);l=D;J=[];b.destroyPlayer(l.id);l=o(D.id);l.config=r;(new o.embed(l)).embed();return l}return D};D.registerPlugin=function(r,l,u,t){o.plugins.registerPlugin(r,l,u,t)};D.setPlayer=function(r,l){a=r;D.renderingMode=l};D.detachMedia=function(){if("html5"==D.renderingMode){return C("jwDetachMedia")}};D.attachMedia=function(l){if("html5"==D.renderingMode){return C("jwAttachMedia",l)}};D.removeEventListener=function(r,l){var u=L[r];if(u){for(var t=u.length;t--;){u[t]===l&&u.splice(t,1)}}};D.dispatchEvent=function(r,l){var x=L[r];if(x){for(var x=x.slice(0),w=k.translateEventResponse(r,l),v=0;v<x.length;v++){var t=x[v];if("function"===typeof t){try{r===n.JWPLAYER_PLAYLIST_LOADED&&k.deepReplaceKeyName(w.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),t.call(this,w)
}catch(u){k.log("There was an error calling back an event handler")}}}}};D.dispatchInstreamEvent=function(l){I&&I.dispatchEvent(l,arguments)};D.callInternal=C;D.playerReady=function(l){K=!0;a||D.setPlayer(q.getElementById(l.id));D.container=q.getElementById(D.id);k.foreach(L,function(r){d(a,r)});g(n.JWPLAYER_PLAYLIST_ITEM,function(){F={}});g(n.JWPLAYER_MEDIA_META,function(r){k.extend(F,r.metadata)});for(D.dispatchEvent(n.API_READY);0<J.length;){C.apply(this,J.shift())}};D.getItemMeta=function(){return F};D.isBeforePlay=function(){return C("jwIsBeforePlay")};D.isBeforeComplete=function(){return C("jwIsBeforeComplete")};return D};b.selectPlayer=function(e){var f;k.exists(e)||(e=0);e.nodeType?f=e:"string"==typeof e&&(f=q.getElementById(e));return f?(e=b.playerById(f.id))?e:b.addPlayer(new b(f)):"number"==typeof e?h[e]:null};b.playerById=function(d){for(var e=0;e<h.length;e++){if(h[e].id==d){return h[e]}}return null};b.addPlayer=function(d){for(var e=0;e<h.length;e++){if(h[e]==d){return d}}h.push(d);
return d};b.destroyPlayer=function(g){for(var r=-1,l,m=0;m<h.length;m++){h[m].id==g&&(r=m,l=h[m])}0<=r&&(g=l.id,m=q.getElementById(g+("flash"==l.renderingMode?"_wrapper":"")),k.clearCss&&k.clearCss("#"+g),m&&("html5"==l.renderingMode&&l.destroyPlayer(),l=q.createElement("div"),l.id=g,m.parentNode.replaceChild(l,m)),h.splice(r,1));return null};o.playerReady=function(d){var e=o.api.playerById(d.id);e?e.playerReady(d):o.api.selectPlayer(d.id).playerReady(d)}}(window.jwplayer),function(h){var d=h.events,b=h.utils,f=d.state;h.api.instream=function(l,o){function r(n,e){k[n]||(k[n]=[],o.jwInstreamAddEventListener(n,'function(dat) { jwplayer("'+l.id+'").dispatchInstreamEvent("'+n+'", dat); }'));k[n].push(e);return this}function m(e,n){a[e]||(a[e]=[],r(d.JWPLAYER_PLAYER_STATE,function(p){var x=p.newstate,w=p.oldstate;if(x==e){var v=a[x];if(v){for(var u=0;u<v.length;u++){var q=v[u];"function"==typeof q&&q.call(this,{oldstate:w,newstate:x,type:p.type})}}}}));a[e].push(n);return this}var t,g,k={},a={},j=this;
j.type="instream";j.init=function(){l.callInternal("jwInitInstream");return j};j.loadItem=function(e,n){t=e;g=n||{};"array"==b.typeOf(e)?l.callInternal("jwLoadArrayInstream",t,g):l.callInternal("jwLoadItemInstream",t,g)};j.removeEvents=function(){k=a={}};j.removeEventListener=function(n,e){var q=k[n];if(q){for(var p=q.length;p--;){q[p]===e&&q.splice(p,1)}}};j.dispatchEvent=function(p,n){var w=k[p];if(w){for(var w=w.slice(0),v=b.translateEventResponse(p,n[1]),u=0;u<w.length;u++){var q=w[u];"function"==typeof q&&q.call(this,v)}}};j.onError=function(e){return r(d.JWPLAYER_ERROR,e)};j.onMediaError=function(e){return r(d.JWPLAYER_MEDIA_ERROR,e)};j.onFullscreen=function(e){return r(d.JWPLAYER_FULLSCREEN,e)};j.onMeta=function(e){return r(d.JWPLAYER_MEDIA_META,e)};j.onMute=function(e){return r(d.JWPLAYER_MEDIA_MUTE,e)};j.onComplete=function(e){return r(d.JWPLAYER_MEDIA_COMPLETE,e)};j.onPlaylistComplete=function(e){return r(d.JWPLAYER_PLAYLIST_COMPLETE,e)};j.onPlaylistItem=function(e){return r(d.JWPLAYER_PLAYLIST_ITEM,e)
};j.onTime=function(e){return r(d.JWPLAYER_MEDIA_TIME,e)};j.onBuffer=function(e){return m(f.BUFFERING,e)};j.onPause=function(e){return m(f.PAUSED,e)};j.onPlay=function(e){return m(f.PLAYING,e)};j.onIdle=function(e){return m(f.IDLE,e)};j.onClick=function(e){return r(d.JWPLAYER_INSTREAM_CLICK,e)};j.onInstreamDestroyed=function(e){return r(d.JWPLAYER_INSTREAM_DESTROYED,e)};j.onAdSkipped=function(e){return r(d.JWPLAYER_AD_SKIPPED,e)};j.play=function(e){o.jwInstreamPlay(e)};j.pause=function(e){o.jwInstreamPause(e)};j.hide=function(){l.callInternal("jwInstreamHide")};j.destroy=function(){j.removeEvents();l.callInternal("jwInstreamDestroy")};j.setText=function(e){o.jwInstreamSetText(e?e:"")};j.getState=function(){return o.jwInstreamState()};j.setClick=function(e){o.jwInstreamClick&&o.jwInstreamClick(e)}}}(window.jwplayer),function(f){var d=f.api,b=d.selectPlayer;d.selectPlayer=function(e){return(e=b(e))?e:{registerPlugin:function(g,h,j){f.plugins.registerPlugin(g,h,j)}}}}(jwplayer));var swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,f=aB.userAgent.toLowerCase(),d=aB.platform.toLowerCase(),j=d?/win/.test(d):/win/.test(f),l=d?/mac/.test(d):/mac/.test(f),h=/webkit/.test(f)?parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,e=!+"\v1",g=[0,0,0],m=null;
if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){m=aB.plugins[ab].description;if(m&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;e=false;m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1");g[0]=parseInt(m.replace(/^(.*)\..*$/,"$1"),10);g[1]=parseInt(m.replace(/^.*\.(.*)\s.*$/,"$1"),10);g[2]=/[a-zA-Z]/.test(m)?parseInt(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=aq){try{var k=new ActiveXObject(X);if(k){m=k.GetVariable("$version");if(m){e=true;m=m.split(" ")[1].split(",");g=[parseInt(m[0],10),parseInt(m[1],10),parseInt(m[2],10)]}}}catch(b){}}}return{w3:a,pv:g,wk:h,ie:e,win:j,mac:l}}(),aK=function(){if(!ah.w3){return}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);
aP()}});if(af==top){(function(){if(ak){return}try{aL.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aP()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return}aP()})()}aC(aP)}}();function aP(){if(ak){return}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var e=Z.length;for(var d=0;d<e;d++){Z[d]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aN(){if(aa){Y()}else{am()}}function Y(){var e=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=e.appendChild(b);if(a){var d=0;
(function(){if(typeof a.GetVariable!=aq){var f=a.GetVariable("$version");if(f){f=f.split(" ")[1].split(",");ah.pv=[parseInt(f[0],10),parseInt(f[1],10),parseInt(f[2],10)]}}else{if(d<10){d++;setTimeout(arguments.callee,10);return}}e.removeChild(b);a=null;am()})()}else{am()}}function am(){var h=aG.length;if(h>0){for(var j=0;j<h;j++){var d=aG[j].id;var n=aG[j].callbackFn;var a={success:false,id:d};if(ah.pv[0]>0){var k=aS(d);if(k){if(ao(aG[j].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(d,true);if(n){a.success=true;a.ref=av(d);n(a)}}else{if(aG[j].expressInstall&&au()){var f={};f.data=aG[j].expressInstall;f.width=k.getAttribute("width")||"0";f.height=k.getAttribute("height")||"0";if(k.getAttribute("class")){f.styleclass=k.getAttribute("class")}if(k.getAttribute("align")){f.align=k.getAttribute("align")}var g={};var e=k.getElementsByTagName("param");var m=e.length;for(var l=0;l<m;l++){if(e[l].getAttribute("name").toLowerCase()!="movie"){g[e[l].getAttribute("name")]=e[l].getAttribute("value")}}ae(f,g,d,n)
}else{aF(k);if(n){n(a)}}}}}else{ay(d,true);if(n){var b=av(d);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b}n(a)}}}}}function av(b){var e=null;var d=aS(b);if(d&&d.nodeName=="OBJECT"){if(typeof d.SetVariable!=aq){e=d}else{var a=d.getElementsByTagName(aD)[0];if(a){e=a}}}return e}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(g,e,j,f){aU=true;ap=f||null;at={success:false,id:j};var a=aS(j);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null}else{aJ=a;ad=j}g.id=ac;if(typeof g.width==aq||(!/%$/.test(g.width)&&parseInt(g.width,10)<310)){g.width="310"}if(typeof g.height==aq||(!/%$/.test(g.height)&&parseInt(g.height,10)<137)){g.height="137"}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",d="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof e.flashvars!=aq){e.flashvars+="&"+d}else{e.flashvars=d}if(ah.ie&&ah.win&&a.readyState!=4){var h=ar("div");
j+="SWFObjectNew";h.setAttribute("id",j);a.parentNode.insertBefore(h,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aA(g,e,j)}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aO(a),a)}}function aO(b){var e=ar("div");if(ah.win&&ah.ie){e.innerHTML=b.innerHTML}else{var f=b.getElementsByTagName(aD)[0];if(f){var a=f.childNodes;if(a){var g=a.length;for(var d=0;d<g;d++){if(!(a[d].nodeType==1&&a[d].nodeName=="PARAM")&&!(a[d].nodeType==8)){e.appendChild(a[d].cloneNode(true))}}}}}return e}function aA(f,h,d){var e,a=aS(d);if(ah.wk&&ah.wk<312){return e}if(a){if(typeof f.id==aq){f.id=d}if(ah.ie&&ah.win){var g="";for(var k in f){if(f[k]!=Object.prototype[k]){if(k.toLowerCase()=="data"){h.movie=f[k]
}else{if(k.toLowerCase()=="styleclass"){g+=' class="'+f[k]+'"'}else{if(k.toLowerCase()!="classid"){g+=" "+k+'="'+f[k]+'"'}}}}}var j="";for(var l in h){if(h[l]!=Object.prototype[l]){j+='<param name="'+l+'" value="'+h[l]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+g+">"+j+"</object>";ag[ag.length]=f.id;e=aS(f.id)}else{var b=ar(aD);b.setAttribute("type",aE);for(var m in f){if(f[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){b.setAttribute("class",f[m])}else{if(m.toLowerCase()!="classid"){b.setAttribute(m,f[m])}}}}for(var n in h){if(h[n]!=Object.prototype[n]&&n.toLowerCase()!="movie"){aQ(b,n,h[n])}}a.parentNode.replaceChild(b,a);e=b}}return e}function aQ(b,e,d){var a=ar("param");a.setAttribute("name",e);a.setAttribute("value",d);b.appendChild(a)}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)
}}}function aT(a){var b=aS(a);if(b){for(var d in b){if(typeof b[d]=="function"){b[d]=null}}b.parentNode.removeChild(b)}}function aS(a){var d=null;try{d=aL.getElementById(a)}catch(b){}return d}function ar(a){return aL.createElement(a)}function aM(a,d,b){a.attachEvent(d,b);al[al.length]=[a,d,b]}function ao(a){var b=ah.pv,d=a.split(".");d[0]=parseInt(d[0],10);d[1]=parseInt(d[1],10)||0;d[2]=parseInt(d[2],10)||0;return(b[0]>d[0]||(b[0]==d[0]&&b[1]>d[1])||(b[0]==d[0]&&b[1]==d[1]&&b[2]>=d[2]))?true:false}function az(b,g,a,d){if(ah.ie&&ah.mac){return}var f=aL.getElementsByTagName("head")[0];if(!f){return}var h=(a&&typeof a=="string")?a:"screen";if(d){aH=null;an=null}if(!aH||an!=h){var e=ar("style");e.setAttribute("type","text/css");e.setAttribute("media",h);aH=f.appendChild(e);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]}an=h}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,g)}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+g+"}"))
}}}function ay(a,d){if(!aI){return}var b=d?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b}else{az("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var d=a.exec(b)!=null;return d&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var e=ag.length;for(var d=0;d<e;d++){aw(ag[d])}for(var f in ah){ah[f]=null}ah=null;for(var g in swfobject){swfobject[g]=null}swfobject=null})}}();return{registerObject:function(a,f,d,b){if(ah.w3&&a&&f){var e={};e.id=a;e.swfVersion=f;e.expressInstall=d;e.callbackFn=b;aG[aG.length]=e;ay(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return av(a)}},embedSWF:function(m,f,j,g,d,a,b,k,h,l){var e={success:false,id:f};if(ah.w3&&!(ah.wk&&ah.wk<312)&&m&&f&&j&&g&&d){ay(f,false);aj(function(){j+="";g+="";var t={};if(h&&typeof h===aD){for(var q in h){t[q]=h[q]}}t.data=m;
t.width=j;t.height=g;var p={};if(k&&typeof k===aD){for(var r in k){p[r]=k[r]}}if(b&&typeof b===aD){for(var n in b){if(typeof p.flashvars!=aq){p.flashvars+="&"+n+"="+b[n]}else{p.flashvars=n+"="+b[n]}}}if(ao(d)){var o=aA(t,p,f);if(t.id==f){ay(f,true)}e.success=true;e.ref=o}else{if(a&&au()){t.data=a;ae(t,p,f,l);return}else{ay(f,true)}}if(l){l(e)}})}else{if(l){l(e)}}},switchOffAutoHideShow:function(){aI=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ao,createSWF:function(a,b,d){if(ah.w3){return aA(a,b,d)}else{return undefined}},showExpressInstall:function(b,a,e,d){if(ah.w3&&au()){ae(b,a,e,d)}},removeSWF:function(a){if(ah.w3){aw(a)}},createCSS:function(b,a,d,e){if(ah.w3){az(b,a,d,e)}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var d=a.split("&");for(var e=0;e<d.length;e++){if(d[e].substring(0,d[e].indexOf("="))==b){return ai(d[e].substring((d[e].indexOf("=")+1)))
}}}return""},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block"}}if(ap){ap(at)}}aU=false}}}}();var SWFUpload;if(SWFUpload==undefined){SWFUpload=function(a){this.initSWFUpload(a)}}SWFUpload.prototype.initSWFUpload=function(b){try{this.customSettings={};this.settings=b;this.eventQueue=[];this.movieName="SWFUpload_"+SWFUpload.movieCount++;this.movieElement=null;SWFUpload.instances[this.movieName]=this;this.initSettings();this.loadFlash();this.displayDebugInfo()}catch(a){delete SWFUpload.instances[this.movieName];throw a}};SWFUpload.instances={};SWFUpload.movieCount=0;SWFUpload.version="2.2.0 2009-03-25";SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130};SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290};
SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5};SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120};SWFUpload.CURSOR={ARROW:-1,HAND:-2};SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"};SWFUpload.completeURL=function(a){if(typeof(a)!=="string"||a.match(/^https?:\/\//i)||a.match(/^\//)){return a}var d=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var b=window.location.pathname.lastIndexOf("/");if(b<=0){path="/"}else{path=window.location.pathname.substr(0,b)+"/"}return path+a};SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(b,a){this.settings[b]=(this.settings[b]==undefined)?a:this.settings[b]};this.ensureDefault("upload_url","");this.ensureDefault("preserve_relative_urls",false);this.ensureDefault("file_post_name","Filedata");this.ensureDefault("post_params",{});this.ensureDefault("use_query_string",false);this.ensureDefault("requeue_on_error",false);
this.ensureDefault("http_success",[]);this.ensureDefault("assume_success_timeout",0);this.ensureDefault("file_types","*.*");this.ensureDefault("file_types_description","All Files");this.ensureDefault("file_size_limit",0);this.ensureDefault("file_upload_limit",0);this.ensureDefault("file_queue_limit",0);this.ensureDefault("flash_url","swfupload.swf");this.ensureDefault("prevent_swf_caching",true);this.ensureDefault("button_image_url","");this.ensureDefault("button_width",1);this.ensureDefault("button_height",1);this.ensureDefault("button_text","");this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;");this.ensureDefault("button_text_top_padding",0);this.ensureDefault("button_text_left_padding",0);this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES);this.ensureDefault("button_disabled",false);this.ensureDefault("button_placeholder_id","");this.ensureDefault("button_placeholder",null);this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW);this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW);
this.ensureDefault("debug",false);this.settings.debug_enabled=this.settings.debug;this.settings.return_upload_start_handler=this.returnUploadStart;this.ensureDefault("swfupload_loaded_handler",null);this.ensureDefault("file_dialog_start_handler",null);this.ensureDefault("file_queued_handler",null);this.ensureDefault("file_queue_error_handler",null);this.ensureDefault("file_dialog_complete_handler",null);this.ensureDefault("upload_start_handler",null);this.ensureDefault("upload_progress_handler",null);this.ensureDefault("upload_error_handler",null);this.ensureDefault("upload_success_handler",null);this.ensureDefault("upload_complete_handler",null);this.ensureDefault("debug_handler",this.debugMessage);this.ensureDefault("custom_settings",{});this.customSettings=this.settings.custom_settings;if(!!this.settings.prevent_swf_caching){this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+new Date().getTime()}if(!this.settings.preserve_relative_urls){this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url);
this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)}delete this.ensureDefault};SWFUpload.prototype.loadFlash=function(){var a,b;if(document.getElementById(this.movieName)!==null){throw"ID "+this.movieName+" is already in use. The Flash Object could not be added"}a=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder;if(a==undefined){throw"Could not find the placeholder element: "+this.settings.button_placeholder_id}b=document.createElement("div");b.innerHTML=this.getFlashHTML();a.parentNode.replaceChild(b.firstChild,a);if(window[this.movieName]==undefined){window[this.movieName]=this.getMovieElement()}};SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")
};SWFUpload.prototype.getFlashVars=function(){var b=this.buildParamString();var a=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(a),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(b),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")
};SWFUpload.prototype.getMovieElement=function(){if(this.movieElement==undefined){this.movieElement=document.getElementById(this.movieName)}if(this.movieElement===null){throw"Could not find Flash element"}return this.movieElement};SWFUpload.prototype.buildParamString=function(){var d=this.settings.post_params;var b=[];if(typeof(d)==="object"){for(var a in d){if(d.hasOwnProperty(a)){b.push(encodeURIComponent(a.toString())+"="+encodeURIComponent(d[a].toString()))}}}return b.join("&amp;")};SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,false);var a=null;a=this.getMovieElement();if(a&&typeof(a.CallFunction)==="unknown"){for(var d in a){try{if(typeof(a[d])==="function"){a[d]=null}}catch(f){}}try{a.parentNode.removeChild(a)}catch(b){}}window[this.movieName]=null;SWFUpload.instances[this.movieName]=null;delete SWFUpload.instances[this.movieName];this.movieElement=null;this.settings=null;this.customSettings=null;this.eventQueue=null;this.movieName=null;return true}catch(e){return false
}};SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",(this.settings.button_placeholder?"Set":"Not Set"),"\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",(typeof this.settings.swfupload_loaded_handler==="function").toString(),"\n","\t","file_dialog_start_handler assigned: ",(typeof this.settings.file_dialog_start_handler==="function").toString(),"\n","\t","file_queued_handler assigned:       ",(typeof this.settings.file_queued_handler==="function").toString(),"\n","\t","file_queue_error_handler assigned:  ",(typeof this.settings.file_queue_error_handler==="function").toString(),"\n","\t","upload_start_handler assigned:      ",(typeof this.settings.upload_start_handler==="function").toString(),"\n","\t","upload_progress_handler assigned:   ",(typeof this.settings.upload_progress_handler==="function").toString(),"\n","\t","upload_error_handler assigned:      ",(typeof this.settings.upload_error_handler==="function").toString(),"\n","\t","upload_success_handler assigned:    ",(typeof this.settings.upload_success_handler==="function").toString(),"\n","\t","upload_complete_handler assigned:   ",(typeof this.settings.upload_complete_handler==="function").toString(),"\n","\t","debug_handler assigned:             ",(typeof this.settings.debug_handler==="function").toString(),"\n"].join(""))
};SWFUpload.prototype.addSetting=function(b,d,a){if(d==undefined){return(this.settings[b]=a)}else{return(this.settings[b]=d)}};SWFUpload.prototype.getSetting=function(a){if(this.settings[a]!=undefined){return this.settings[a]}return""};SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement();var returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>");returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}if(returnValue!=undefined&&typeof returnValue.post==="object"){returnValue=this.unescapeFilePostParams(returnValue)}return returnValue};SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")};SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")};SWFUpload.prototype.startUpload=function(a){this.callFlash("StartUpload",[a])};
SWFUpload.prototype.cancelUpload=function(a,b){if(b!==false){b=true}this.callFlash("CancelUpload",[a,b])};SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")};SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")};SWFUpload.prototype.setStats=function(a){this.callFlash("SetStats",[a])};SWFUpload.prototype.getFile=function(a){if(typeof(a)==="number"){return this.callFlash("GetFileByIndex",[a])}else{return this.callFlash("GetFile",[a])}};SWFUpload.prototype.addFileParam=function(a,b,d){return this.callFlash("AddFileParam",[a,b,d])};SWFUpload.prototype.removeFileParam=function(a,b){this.callFlash("RemoveFileParam",[a,b])};SWFUpload.prototype.setUploadURL=function(a){this.settings.upload_url=a.toString();this.callFlash("SetUploadURL",[a])};SWFUpload.prototype.setPostParams=function(a){this.settings.post_params=a;this.callFlash("SetPostParams",[a])};SWFUpload.prototype.addPostParam=function(a,b){this.settings.post_params[a]=b;this.callFlash("SetPostParams",[this.settings.post_params])
};SWFUpload.prototype.removePostParam=function(a){delete this.settings.post_params[a];this.callFlash("SetPostParams",[this.settings.post_params])};SWFUpload.prototype.setFileTypes=function(a,b){this.settings.file_types=a;this.settings.file_types_description=b;this.callFlash("SetFileTypes",[a,b])};SWFUpload.prototype.setFileSizeLimit=function(a){this.settings.file_size_limit=a;this.callFlash("SetFileSizeLimit",[a])};SWFUpload.prototype.setFileUploadLimit=function(a){this.settings.file_upload_limit=a;this.callFlash("SetFileUploadLimit",[a])};SWFUpload.prototype.setFileQueueLimit=function(a){this.settings.file_queue_limit=a;this.callFlash("SetFileQueueLimit",[a])};SWFUpload.prototype.setFilePostName=function(a){this.settings.file_post_name=a;this.callFlash("SetFilePostName",[a])};SWFUpload.prototype.setUseQueryString=function(a){this.settings.use_query_string=a;this.callFlash("SetUseQueryString",[a])};SWFUpload.prototype.setRequeueOnError=function(a){this.settings.requeue_on_error=a;this.callFlash("SetRequeueOnError",[a])
};SWFUpload.prototype.setHTTPSuccess=function(a){if(typeof a==="string"){a=a.replace(" ","").split(",")}this.settings.http_success=a;this.callFlash("SetHTTPSuccess",[a])};SWFUpload.prototype.setAssumeSuccessTimeout=function(a){this.settings.assume_success_timeout=a;this.callFlash("SetAssumeSuccessTimeout",[a])};SWFUpload.prototype.setDebugEnabled=function(a){this.settings.debug_enabled=a;this.callFlash("SetDebugEnabled",[a])};SWFUpload.prototype.setButtonImageURL=function(a){if(a==undefined){a=""}this.settings.button_image_url=a;this.callFlash("SetButtonImageURL",[a])};SWFUpload.prototype.setButtonDimensions=function(d,a){this.settings.button_width=d;this.settings.button_height=a;var b=this.getMovieElement();if(b!=undefined){b.style.width=d+"px";b.style.height=a+"px"}this.callFlash("SetButtonDimensions",[d,a])};SWFUpload.prototype.setButtonText=function(a){this.settings.button_text=a;this.callFlash("SetButtonText",[a])};SWFUpload.prototype.setButtonTextPadding=function(b,a){this.settings.button_text_top_padding=a;
this.settings.button_text_left_padding=b;this.callFlash("SetButtonTextPadding",[b,a])};SWFUpload.prototype.setButtonTextStyle=function(a){this.settings.button_text_style=a;this.callFlash("SetButtonTextStyle",[a])};SWFUpload.prototype.setButtonDisabled=function(a){this.settings.button_disabled=a;this.callFlash("SetButtonDisabled",[a])};SWFUpload.prototype.setButtonAction=function(a){this.settings.button_action=a;this.callFlash("SetButtonAction",[a])};SWFUpload.prototype.setButtonCursor=function(a){this.settings.button_cursor=a;this.callFlash("SetButtonCursor",[a])};SWFUpload.prototype.queueEvent=function(b,d){if(d==undefined){d=[]}else{if(!(d instanceof Array)){d=[d]}}var a=this;if(typeof this.settings[b]==="function"){this.eventQueue.push(function(){this.settings[b].apply(this,d)});setTimeout(function(){a.executeNextEvent()},0)}else{if(this.settings[b]!==null){throw"Event handler "+b+" is unknown or is not a function"}}};SWFUpload.prototype.executeNextEvent=function(){var a=this.eventQueue?this.eventQueue.shift():null;
if(typeof(a)==="function"){a.apply(this)}};SWFUpload.prototype.unescapeFilePostParams=function(d){var f=/[$]([0-9a-f]{4})/i;var g={};var e;if(d!=undefined){for(var a in d.post){if(d.post.hasOwnProperty(a)){e=a;var b;while((b=f.exec(e))!==null){e=e.replace(b[0],String.fromCharCode(parseInt("0x"+b[1],16)))}g[e]=d.post[a]}}d.post=g}return d};SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(a){return false}};SWFUpload.prototype.flashReady=function(){var a=this.getMovieElement();if(!a){this.debug("Flash called back ready but the flash movie can't be found.");return}this.cleanUp(a);this.queueEvent("swfupload_loaded_handler")};SWFUpload.prototype.cleanUp=function(a){try{if(this.movieElement&&typeof(a.CallFunction)==="unknown"){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var d in a){try{if(typeof(a[d])==="function"){a[d]=null}}catch(b){}}}}catch(e){}window.__flash__removeCallback=function(f,g){try{if(f){f[g]=null
}}catch(h){}}};SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")};SWFUpload.prototype.fileQueued=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("file_queued_handler",a)};SWFUpload.prototype.fileQueueError=function(a,d,b){a=this.unescapeFilePostParams(a);this.queueEvent("file_queue_error_handler",[a,d,b])};SWFUpload.prototype.fileDialogComplete=function(b,d,a){this.queueEvent("file_dialog_complete_handler",[b,d,a])};SWFUpload.prototype.uploadStart=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("return_upload_start_handler",a)};SWFUpload.prototype.returnUploadStart=function(a){var b;if(typeof this.settings.upload_start_handler==="function"){a=this.unescapeFilePostParams(a);b=this.settings.upload_start_handler.call(this,a)}else{if(this.settings.upload_start_handler!=undefined){throw"upload_start_handler must be a function"}}if(b===undefined){b=true}b=!!b;this.callFlash("ReturnUploadStart",[b])};SWFUpload.prototype.uploadProgress=function(a,d,b){a=this.unescapeFilePostParams(a);
this.queueEvent("upload_progress_handler",[a,d,b])};SWFUpload.prototype.uploadError=function(a,d,b){a=this.unescapeFilePostParams(a);this.queueEvent("upload_error_handler",[a,d,b])};SWFUpload.prototype.uploadSuccess=function(b,a,d){b=this.unescapeFilePostParams(b);this.queueEvent("upload_success_handler",[b,a,d])};SWFUpload.prototype.uploadComplete=function(a){a=this.unescapeFilePostParams(a);this.queueEvent("upload_complete_handler",a)};SWFUpload.prototype.debug=function(a){this.queueEvent("debug_handler",a)};SWFUpload.prototype.debugMessage=function(d){if(this.settings.debug){var a,e=[];if(typeof d==="object"&&typeof d.name==="string"&&typeof d.message==="string"){for(var b in d){if(d.hasOwnProperty(b)){e.push(b+": "+d[b])}}a=e.join("\n")||"";e=a.split("\n");a="EXCEPTION: "+e.join("\nEXCEPTION: ");SWFUpload.Console.writeLine(a)}else{SWFUpload.Console.writeLine(d)}}};SWFUpload.Console={};SWFUpload.Console.writeLine=function(e){var b,a;try{b=document.getElementById("SWFUpload_Console");
if(!b){a=document.createElement("form");document.getElementsByTagName("body")[0].appendChild(a);b=document.createElement("textarea");b.id="SWFUpload_Console";b.style.fontFamily="monospace";b.setAttribute("wrap","off");b.wrap="off";b.style.overflow="auto";b.style.width="700px";b.style.height="350px";b.style.margin="5px";a.appendChild(b)}b.value+=e+"\n";b.scrollTop=b.scrollHeight-b.clientHeight}catch(d){alert("Exception: "+d.name+" Message: "+d.message)}};var SWFUpload;if(typeof(SWFUpload)==="function"){SWFUpload.queue={};SWFUpload.prototype.initSettings=(function(a){return function(){if(typeof(a)==="function"){a.call(this)}this.queueSettings={};this.queueSettings.queue_cancelled_flag=false;this.queueSettings.queue_upload_count=0;this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler;this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler;this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler;this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler;
this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}})(SWFUpload.prototype.initSettings);SWFUpload.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=false;this.callFlash("StartUpload",[a])};SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=true;this.stopUpload();var a=this.getStats();while(a.files_queued>0){this.cancelUpload();a=this.getStats()}};SWFUpload.queue.uploadStartHandler=function(a){var b;if(typeof(this.queueSettings.user_upload_start_handler)==="function"){b=this.queueSettings.user_upload_start_handler.call(this,a)}b=(b===false)?false:true;this.queueSettings.queue_cancelled_flag=!b;return b};SWFUpload.queue.uploadCompleteHandler=function(b){var d=this.queueSettings.user_upload_complete_handler;var e;if(b.filestatus===SWFUpload.FILE_STATUS.COMPLETE){this.queueSettings.queue_upload_count++}if(typeof(d)==="function"){e=(d.call(this,b)===false)?false:true}else{if(b.filestatus===SWFUpload.FILE_STATUS.QUEUED){e=false
}else{e=true}}if(e){var a=this.getStats();if(a.files_queued>0&&this.queueSettings.queue_cancelled_flag===false){this.startUpload()}else{if(this.queueSettings.queue_cancelled_flag===false){this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]);this.queueSettings.queue_upload_count=0}else{this.queueSettings.queue_cancelled_flag=false;this.queueSettings.queue_upload_count=0}}}}}var SWFUpload;if(typeof(SWFUpload)==="function"){SWFUpload.prototype.initSettings=function(a){return function(){if(typeof(a)==="function"){a.call(this)}this.refreshCookies(false)}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.refreshCookies=function(k){if(k===undefined){k=true}k=!!k;var f=this.settings.post_params;var d,j=document.cookie.split(";"),b=j.length,e,h,a,g;for(d=0;d<b;d++){e=j[d];while(e.charAt(0)===" "){e=e.substring(1,e.length)}h=e.indexOf("=");if(h>0){a=e.substring(0,h);g=e.substring(h+1);f[a]=g}}if(k){this.setPostParams(f)}}}(function(cI,cD,ch){function cj(m,q,v){var u;
if(m){if(cP(m)){for(u in m){u!="prototype"&&u!="length"&&u!="name"&&m.hasOwnProperty(u)&&q.call(v,m[u],u)}}else{if(m.forEach&&m.forEach!==cj){m.forEach(q,v)}else{if(!m||typeof m.length!=="number"?0:typeof m.hasOwnProperty!="function"&&typeof m.constructor!="function"||m instanceof cL||dp&&m instanceof dp||dx.call(m)!=="[object Object]"||typeof m.callee==="function"){for(u=0;u<m.length;u++){q.call(v,m[u],u)}}else{for(u in m){m.hasOwnProperty(u)&&q.call(v,m[u],u)}}}}}return m}function c8(m){var q=[],u;for(u in m){m.hasOwnProperty(u)&&q.push(u)}return q.sort()}function aM(m,q,w){for(var v=c8(m),u=0;u<v.length;u++){q.call(w,m[v[u]],v[u])}return v}function cv(a){return function(m,q){a(q,m)}}function n(){for(var m=cx.length,q;m;){m--;q=cx[m].charCodeAt(0);if(q==57){return cx[m]="A",cx.join("")}if(q==90){cx[m]="0"}else{return cx[m]=String.fromCharCode(q+1),cx.join("")}}cx.unshift("0");return cx.join("")}function b3(m,q){q?m.$$hashKey=q:delete m.$$hashKey}function cU(m){var q=m.$$hashKey;cj(arguments,function(u){u!==m&&cj(u,function(v,w){m[w]=v
})});b3(m,q);return m}function cR(a){return parseInt(a,10)}function dE(m,q){return cU(new (cU(function(){},{prototype:m})),q)}function ce(){}function c9(a){return a}function cO(a){return function(){return a}}function b8(a){return typeof a=="undefined"}function b7(a){return typeof a!="undefined"}function cK(a){return a!=null&&typeof a=="object"}function cV(a){return typeof a=="string"}function Q(a){return typeof a=="number"}function cw(a){return dx.apply(a)=="[object Date]"}function cT(a){return dx.apply(a)=="[object Array]"}function cP(a){return typeof a=="function"}function j(a){return dx.apply(a)=="[object RegExp]"}function b4(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function az(a){return a&&(a.nodeName||a.bind&&a.find)}function dC(m,q,v){var u=[];cj(m,function(a,y,w){u.push(q.call(v,a,y,w))});return u}function dk(m,q){if(m.indexOf){return m.indexOf(q)}for(var u=0;u<m.length;u++){if(q===m[u]){return u}}return -1}function dh(m,q){var u=dk(m,q);u>=0&&m.splice(u,1);return q
}function cC(m,q){if(b4(m)||m&&m.$evalAsync&&m.$watch){throw Error("Can't copy Window or Scope")}if(q){if(m===q){throw Error("Can't copy equivalent objects or arrays")}if(cT(m)){for(var v=q.length=0;v<m.length;v++){q.push(cC(m[v]))}}else{v=q.$$hashKey;cj(q,function(a,w){delete q[w]});for(var u in m){q[u]=cC(m[u])}b3(q,v)}}else{(q=m)&&(cT(m)?q=cC(m,[]):cw(m)?q=new Date(m.getTime()):j(m)?q=RegExp(m.source):cK(m)&&(q=cC(m,{})))}return q}function ak(m,q){var q=q||{},u;for(u in m){m.hasOwnProperty(u)&&u.substr(0,2)!=="$$"&&(q[u]=m[u])}return q}function bH(m,q){if(m===q){return !0}if(m===null||q===null){return !1}if(m!==m&&q!==q){return !0}var v=typeof m,u;if(v==typeof q&&v=="object"){if(cT(m)){if(!cT(q)){return !1}if((v=m.length)==q.length){for(u=0;u<v;u++){if(!bH(m[u],q[u])){return !1}}return !0}}else{if(cw(m)){return cw(q)&&m.getTime()==q.getTime()}else{if(j(m)&&j(q)){return m.toString()==q.toString()}else{if(m&&m.$evalAsync&&m.$watch||q&&q.$evalAsync&&q.$watch||b4(m)||b4(q)||cT(q)){return !1
}v={};for(u in m){if(!(u.charAt(0)==="$"||cP(m[u]))){if(!bH(m[u],q[u])){return !1}v[u]=!0}}for(u in q){if(!v[u]&&u.charAt(0)!=="$"&&q[u]!==ch&&!cP(q[u])){return !1}}return !0}}}}return !1}function cH(m,q){var u=arguments.length>2?aO.call(arguments,2):[];return cP(q)&&!(q instanceof RegExp)?u.length?function(){return arguments.length?q.apply(m,u.concat(aO.call(arguments,0))):q.apply(m,u)}:function(){return arguments.length?q.apply(m,arguments):q.call(m)}:q}function z(m,q){var u=q;/^\$+/.test(m)?u=ch:b4(q)?u="$WINDOW":q&&cD===q?u="$DOCUMENT":q&&q.$evalAsync&&q.$watch&&(u="$SCOPE");return u}function cS(m,q){return typeof m==="undefined"?ch:JSON.stringify(m,z,q?"  ":null)}function bO(a){return cV(a)?JSON.parse(a):a}function ci(a){a&&a.length!==0?(a=b5(""+a),a=!(a=="f"||a=="0"||a=="false"||a=="no"||a=="n"||a=="[]")):a=!1;return a}function bP(m){m=b6(m).clone();try{m.html("")}catch(q){}var v=b6("<div>").append(m).html();try{return m[0].nodeType===3?b5(v):v.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(y,w){return"<"+b5(w)
})}catch(u){return b5(v)}}function by(m){try{return decodeURIComponent(m)}catch(q){}}function bT(m){var q={},v,u;cj((m||"").split("&"),function(a){a&&(v=a.split("="),u=by(v[0]),b7(u)&&(q[u]=b7(v[1])?by(v[1]):!0))});return q}function be(m){var q=[];cj(m,function(a,u){q.push(bD(u,!0)+(a===!0?"":"="+bD(a,!0)))});return q.length?q.join("&"):""}function bj(a){return bD(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function bD(m,q){return encodeURIComponent(m).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,q?"%20":"+")}function dK(m,q){function D(E){E&&B.push(E)}var B=[m],y,v,u=["ng:app","ng-app","x-ng-app","data-ng-app"],w=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;cj(u,function(E){u[E]=!0;D(cD.getElementById(E));E=E.replace(":","\\:");m.querySelectorAll&&(cj(m.querySelectorAll("."+E),D),cj(m.querySelectorAll("."+E+"\\:"),D),cj(m.querySelectorAll("["+E+"]"),D))});cj(B,function(G){if(!y){var E=w.exec(" "+G.className+" ");E?(y=G,v=(E[2]||"").replace(/\s+/g,",")):cj(G.attributes,function(a){if(!y&&u[a.name]){y=G,v=a.value
}})}});y&&q(y,v?[v]:[])}function aV(m,q){var v=function(){m=b6(m);q=q||[];q.unshift(["$provide",function(w){w.value("$rootElement",m)}]);q.unshift("ng");var a=aH(q);a.invoke(["$rootScope","$rootElement","$compile","$injector",function(y,w,D,B){y.$apply(function(){w.data("$injector",B);D(w)(y)})}]);return a},u=/^NG_DEFER_BOOTSTRAP!/;if(cI&&!u.test(cI.name)){return v()}cI.name=cI.name.replace(u,"");cZ.resumeBootstrap=function(a){cj(a,function(w){q.push(w)});v()}}function dn(m,q){q=q||"_";return m.replace(du,function(a,u){return(u?q:"")+a.toLowerCase()})}function cQ(m,q,u){if(!m){throw Error("Argument '"+(q||"?")+"' is "+(u||"required"))}return m}function bz(m,q,u){u&&cT(m)&&(m=m[m.length-1]);cQ(cP(m),q,"not a function, got "+(m&&typeof m=="object"?m.constructor.name||"Object":typeof m));return m}function cm(m,q,B){if(!q){return m}for(var q=q.split("."),y,w=m,v=q.length,u=0;u<v;u++){y=q[u],m&&(m=(w=m)[y])}return !B&&cP(m)?cH(w,m):m}function c7(m){function q(v,u,w){return v[u]||(v[u]=w())}return q(q(m,"angular",Object),"module",function(){var a={};
return function(w,v,u){v&&a.hasOwnProperty(w)&&(a[w]=null);return q(a,w,function(){function B(L,I,H){return function(){y[H||"push"]([L,I,arguments]);return D}}if(!v){throw Error("No module: "+w)}var y=[],G=[],E=B("$injector","invoke"),D={_invokeQueue:y,_runBlocks:G,requires:v,name:w,provider:B("$provide","provider"),factory:B("$provide","factory"),service:B("$provide","service"),value:B("$provide","value"),constant:B("$provide","constant","unshift"),filter:B("$filterProvider","register"),controller:B("$controllerProvider","register"),directive:B("$compileProvider","directive"),config:E,run:function(H){G.push(H);return this}};u&&E(u);return D})}})}function at(a){return a.replace(cu,function(q,m,v,u){return u?v.toUpperCase():v}).replace(b1,"Moz$1")}function bW(m,q,y,w){function v(O){var L;var M=y&&O?[this.filter(O)]:[this],I=q,H,G,E,D,B,a;if(!w||O!=null){for(;M.length;){H=M.shift();G=0;for(E=H.length;G<E;G++){D=b6(H[G]);I?D.triggerHandler("$destroy"):I=!I;B=0;for(L=(a=D.children()).length,D=L;
B<D;B++){M.push(dp(a[B]))}}}}return u.apply(this,arguments)}var u=dp.fn[m],u=u.$original||u;v.$original=u;dp.fn[m]=v}function cL(m){if(m instanceof cL){return m}if(!(this instanceof cL)){if(cV(m)&&m.charAt(0)!="<"){throw Error("selectors not implemented")}return new cL(m)}if(cV(m)){var q=cD.createElement("div");q.innerHTML="<div>&#160;</div>"+m;q.removeChild(q.firstChild);bG(this,q.childNodes);this.remove()}else{bG(this,m)}}function bq(a){return a.cloneNode(!0)}function bf(m){Y(m);for(var q=0,m=m.childNodes||[];q<m.length;q++){bf(m[q])}}function l(m,q,v){var u=dq(m,"events");dq(m,"handle")&&(b8(q)?cj(u,function(w,y){a3(m,y,w);delete u[y]}):b8(v)?(a3(m,q,u[q]),delete u[q]):dh(u[q]||[],v))}function Y(m){var q=m[bp],u=a2[q];u&&(u.handle&&(u.events.$destroy&&u.handle({},"$destroy"),l(m)),delete a2[q],m[bp]=ch)}function dq(m,q,v){var u=m[bp],u=a2[u||-1];if(b7(v)){u||(m[bp]=u=++bN,u=a2[u]={}),u[q]=v}else{return u&&u[q]}}function dD(m,q,B){var y=dq(m,"data"),w=b7(B),v=!w&&b7(q),u=v&&!cK(q);!y&&!u&&dq(m,"data",y={});
if(w){y[q]=B}else{if(v){if(u){return y&&y[q]}else{cU(y,q)}}else{return y}}}function aL(m,q){return(" "+m.className+" ").replace(/[\n\t]/g," ").indexOf(" "+q+" ")>-1}function dj(m,q){q&&cj(q.split(" "),function(u){m.className=cF((" "+m.className+" ").replace(/[\n\t]/g," ").replace(" "+cF(u)+" "," "))})}function bm(m,q){q&&cj(q.split(" "),function(u){if(!aL(m,u)){m.className=cF(m.className+" "+cF(u))}})}function bG(m,q){if(q){for(var q=!q.nodeName&&b7(q.length)&&!b4(q)?q:[q],u=0;u<q.length;u++){m.push(q[u])}}}function aZ(m,q){return ay(m,"$"+(q||"ngController")+"Controller")}function ay(m,q,u){m=b6(m);for(m[0].nodeType==9&&(m=m.find("html"));m.length;){if(u=m.data(q)){return u}m=m.parent()}}function aK(m,q){var u=aj[q.toLowerCase()];return u&&ax[m.nodeName]&&u}function bx(m,q){var u=function(w,v){if(!w.preventDefault){w.preventDefault=function(){w.returnValue=!1}}if(!w.stopPropagation){w.stopPropagation=function(){w.cancelBubble=!0}}if(!w.target){w.target=w.srcElement||cD}if(b8(w.defaultPrevented)){var a=w.preventDefault;
w.preventDefault=function(){w.defaultPrevented=!0;a.call(w)};w.defaultPrevented=!1}w.isDefaultPrevented=function(){return w.defaultPrevented};cj(q[v||w.type],function(y){y.call(m,w)});cA<=8?(w.preventDefault=null,w.stopPropagation=null,w.isDefaultPrevented=null):(delete w.preventDefault,delete w.stopPropagation,delete w.isDefaultPrevented)};u.elem=m;return u}function br(m){var q=typeof m,u;if(q=="object"&&m!==null){if(typeof(u=m.$$hashKey)=="function"){u=m.$$hashKey()}else{if(u===ch){u=m.$$hashKey=n()}}}else{u=m}return q+":"+u}function x(a){cj(a,this.put,this)}function aN(){}function ai(m){var q,u;if(typeof m=="function"){if(!(q=m.$inject)){q=[],u=m.toString().replace(a9,""),u=u.match(aU),cj(u[1].split(aF),function(a){a.replace(aq,function(v,y,w){q.push(w)})}),m.$inject=q}}else{cT(m)?(u=m.length-1,bz(m[u],"fn"),q=m.slice(0,u)):bz(m,"fn",!0)}return q}function aH(L){function M(O){return function(a,P){if(cK(a)){cj(a,cv(O))}else{return O(a,P)}}}function I(P,O){if(cP(O)||cT(O)){O=u.instantiate(O)
}if(!O.$get){throw Error("Provider "+P+" must define $get factory method.")}return v[P+E]=O}function H(P,O){return I(P,{$get:O})}function G(P){var O=[];cj(P,function(ab){if(!w.get(ab)){if(w.put(ab,!0),cV(ab)){var aa=aW(ab);O=O.concat(G(aa.requires)).concat(aa._runBlocks);try{for(var Z=aa._invokeQueue,aa=0,X=Z.length;aa<X;aa++){var W=Z[aa],S=W[0]=="$injector"?u:u.get(W[0]);S[W[1]].apply(S,W[2])}}catch(V){throw V.message&&(V.message+=" from "+ab),V}}else{if(cP(ab)){try{O.push(u.invoke(ab))}catch(U){throw U.message&&(U.message+=" from "+ab),U}}else{if(cT(ab)){try{O.push(u.invoke(ab))}catch(T){throw T.message&&(T.message+=" from "+String(ab[ab.length-1])),T}}else{bz(ab,"module")}}}}});return O}function D(P,O){function T(a){if(typeof a!=="string"){throw Error("Service name expected")}if(P.hasOwnProperty(a)){if(P[a]===B){throw Error("Circular dependency: "+y.join(" <- "))}return P[a]}else{try{return y.unshift(a),P[a]=B,P[a]=O(a)}finally{y.shift()}}}function S(V,U,ac){var aa=[],W=ai(V),Z,X,ab;
X=0;for(Z=W.length;X<Z;X++){ab=W[X],aa.push(ac&&ac.hasOwnProperty(ab)?ac[ab]:T(ab))}V.$inject||(V=V[Z]);switch(U?-1:aa.length){case 0:return V();case 1:return V(aa[0]);case 2:return V(aa[0],aa[1]);case 3:return V(aa[0],aa[1],aa[2]);case 4:return V(aa[0],aa[1],aa[2],aa[3]);case 5:return V(aa[0],aa[1],aa[2],aa[3],aa[4]);case 6:return V(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5]);case 7:return V(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6]);case 8:return V(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);case 9:return V(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7],aa[8]);case 10:return V(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7],aa[8],aa[9]);default:return V.apply(U,aa)}}return{invoke:S,instantiate:function(V,U){var X=function(){},W;X.prototype=(cT(V)?V[V.length-1]:V).prototype;X=new X;W=S(V,X,U);return cK(W)?W:X},get:T,annotate:ai}}var B={},E="Provider",y=[],w=new x,v={$provide:{provider:M(I),factory:M(H),service:M(function(P,O){return H(P,["$injector",function(S){return S.instantiate(O)}])
}),value:M(function(P,O){return H(P,cO(O))}),constant:M(function(P,O){v[P]=O;q[P]=O}),decorator:function(P,O){var T=u.get(P+E),S=T.$get;T.$get=function(){var U=m.invoke(S,T);return m.invoke(O,null,{$delegate:U})}}}},u=D(v,function(){throw Error("Unknown provider: "+y.join(" <- "))}),q={},m=q.$injector=D(q,function(O){O=u.get(O+E);return m.invoke(O.$get,O)});cj(G(L),function(O){m.invoke(O||ce)});return m}function R(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(m,y,w){function v(D){var B=null;cj(D,function(E){!B&&b5(E.nodeName)==="a"&&(B=E)});return B}function u(){var B=y.hash(),D;B?(D=q.getElementById(B))?D.scrollIntoView():(D=v(q.getElementsByName(B)))?D.scrollIntoView():B==="top"&&m.scrollTo(0,0):m.scrollTo(0,0)}var q=m.document;a&&w.$watch(function(){return y.hash()},function(){w.$evalAsync(u)});return u}]}function k(aa,ab,Z,X){function W(ba){try{ba.apply(null,aO.call(arguments,1))}finally{if(H--,H===0){for(;v.length;){try{v.pop()()
}catch(ad){Z.error(ad)}}}}}function U(ba,ad){(function bb(){cj(E,function(bc){bc()});y=ad(bb,ba)})()}function T(){q!=V.url()&&(q=V.url(),cj(u,function(ad){ad(V.url())}))}var V=this,S=ab[0],P=aa.location,O=aa.history,M=aa.setTimeout,L=aa.clearTimeout,I={};V.isMock=!1;var H=0,v=[];V.$$completeOutstandingRequest=W;V.$$incOutstandingRequestCount=function(){H++};V.notifyWhenNoOutstandingRequests=function(ad){cj(E,function(ba){ba()});H===0?ad():v.push(ad)};var E=[],y;V.addPollFn=function(ad){b8(y)&&U(100,M);E.push(ad);return ad};var q=P.href,G=ab.find("base"),w=null;V.url=function(ba,ad){if(ba){if(q!=ba){return q=ba,X.history?ad?O.replaceState(null,"",ba):(O.pushState(null,"",ba),G.attr("href",G.attr("href"))):ad?(P.replace(ba),w=ba):(P.href=ba,w=null),V}}else{return w||P.href.replace(/%27/g,"'")}};var u=[],D=!1;V.onUrlChange=function(ad){D||(X.history&&b6(aa).bind("popstate",T),X.hashchange?b6(aa).bind("hashchange",T):V.addPollFn(T),D=!0);u.push(ad);return ad};V.baseHref=function(){var ad=G.attr("href");
return ad?ad.replace(/^https?\:\/\/[^\/]*/,""):""};var ac={},m="",B=V.baseHref();V.cookies=function(ba,ad){var ca,bd,bc,bb;if(ba){if(ad===ch){S.cookie=escape(ba)+"=;path="+B+";expires=Thu, 01 Jan 1970 00:00:00 GMT"}else{if(cV(ad)){ca=(S.cookie=escape(ba)+"="+escape(ad)+";path="+B).length+1,ca>4096&&Z.warn("Cookie '"+ba+"' possibly not set or overflowed because it was too large ("+ca+" > 4096 bytes)!")}}}else{if(S.cookie!==m){m=S.cookie;ca=m.split("; ");ac={};for(bc=0;bc<ca.length;bc++){bd=ca[bc],bb=bd.indexOf("="),bb>0&&(ba=unescape(bd.substring(0,bb)),ac[ba]===ch&&(ac[ba]=unescape(bd.substring(bb+1))))}}return ac}};V.defer=function(ba,ad){var bb;H++;bb=M(function(){delete I[bb];W(ba)},ad||0);I[bb]=!0;return bb};V.defer.cancel=function(ad){return I[ad]?(delete I[ad],L(ad),W(ce),!0):!1}}function di(){this.$get=["$window","$log","$sniffer","$document",function(m,q,v,u){return new k(m,u,q,v)}]}function bl(){this.$get=function(){function m(I,H){function G(L){if(L!=u){if(a){if(a==L){a=L.n}}else{a=L
}D(L.n,L.p);D(L,u);u=L;u.n=null}}function D(M,L){if(M!=L){if(M){M.p=L}if(L){L.n=M}}}if(I in q){throw Error("cacheId "+I+" taken")}var B=0,E=cU({},H,{id:I}),y={},w=H&&H.capacity||Number.MAX_VALUE,v={},u=null,a=null;return q[I]={put:function(M,L){var O=v[M]||(v[M]={key:M});G(O);b8(L)||(M in y||B++,y[M]=L,B>w&&this.remove(a.key))},get:function(M){var L=v[M];if(L){return G(L),y[M]}},remove:function(M){var L=v[M];if(L){if(L==u){u=L.p}if(L==a){a=L.n}D(L.n,L.p);delete v[M];delete y[M];B--}},removeAll:function(){y={};B=0;v={};u=a=null},destroy:function(){v=E=y=null;delete q[I]},info:function(){return cU({},E,{size:B})}}}var q={};m.info=function(){var a={};cj(q,function(u,v){a[v]=u.info()});return a};m.get=function(a){return q[a]};return m}}function aY(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function t(m){var q={},D="Directive",B=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,y=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,w="Template must have exactly one root element. was: ",v=/^\s*(https?|ftp|mailto|file):/;
this.directive=function u(E,a){cV(E)?(cQ(a,"directive"),q.hasOwnProperty(E)||(q[E]=[],m.factory(E+D,["$injector","$exceptionHandler",function(G,I){var H=[];cj(q[E],function(L){try{var O=G.invoke(L);if(cP(O)){O={compile:cO(O)}}else{if(!O.compile&&O.link){O.compile=cO(O.link)}}O.priority=O.priority||0;O.name=O.name||E;O.require=O.require||O.controller&&O.name;O.restrict=O.restrict||"A";H.push(O)}catch(M){I(M)}});return H}])),q[E].push(a)):cj(E,cv(u));return this};this.urlSanitizationWhitelist=function(E){return b7(E)?(v=E,this):v};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(ca,bc,bb,ba,ac,ab,aa,M,X){function S(db,cd,dd){db instanceof b6||(db=b6(db));cj(db,function(dL,dM){dL.nodeType==3&&dL.nodeValue.match(/\S+/)&&(db[dM]=b6(dL).wrap("<span></span>").parent()[0])});var dc=Z(db,cd,db,dd);return function(dL,dQ){cQ(dL,"scope");for(var dP=dQ?au.clone.call(db):db,dO=0,dM=dP.length;dO<dM;dO++){var dN=dP[dO];
(dN.nodeType==1||dN.nodeType==9)&&dP.eq(dO).data("$scope",dL)}I(dP,"ng-scope");dQ&&dQ(dP,dL);dc&&dc(dL,dP,dP);return dP}}function I(db,cd){try{db.addClass(cd)}catch(dc){}}function Z(dQ,dP,dO,dN){function dM(d2,d1,d0,dX){var dZ,dY,dW,dS,dT,dV,dU,dR=[];dT=0;for(dV=d1.length;dT<dV;dT++){dR.push(d1[dT])}dU=dT=0;for(dV=dL.length;dT<dV;dU++){dY=dR[dU],d1=dL[dT++],dZ=dL[dT++],d1?(d1.scope?(dW=d2.$new(cK(d1.scope)),b6(dY).data("$scope",dW)):dW=d2,(dS=d1.transclude)||!dX&&dP?d1(dZ,dW,dY,d0,function(d3){return function(d5){var d4=d2.$new();d4.$$transcluded=!0;return d3(d4,d5).bind("$destroy",cH(d4,d4.$destroy))}}(dS||dP)):d1(dZ,dW,dY,ch,dX)):dZ&&dZ(d2,dY.childNodes,ch,dX)}}for(var dL=[],db,dd,dc,cd=0;cd<dQ.length;cd++){dd=new ad,db=P(dQ[cd],[],dd,dN),dd=(db=db.length?L(db,dQ[cd],dd,dP,dO):null)&&db.terminal||!dQ[cd].childNodes||!dQ[cd].childNodes.length?null:Z(dQ[cd].childNodes,db?db.transclude:dP),dL.push(db),dL.push(dd),dc=dc||db||dd}return dc?dM:null}function P(dS,dR,dQ,dP){var dM=dQ.$attr,dO;
switch(dS.nodeType){case 1:W(dR,cn(dJ(dS).toLowerCase()),"E",dP);var dN,dL,db;dO=dS.attributes;for(var cd=0,dd=dO&&dO.length;cd<dd;cd++){if(dN=dO[cd],!cA||cA>=8||dN.specified){dL=dN.name,db=cn(dL.toLowerCase()),dM[db]=dL,dQ[db]=dN=cF(cA&&dL=="href"?decodeURIComponent(dS.getAttribute(dL,2)):dN.value),aK(dS,db)&&(dQ[db]=!0),G(dS,dR,dN,db),W(dR,db,"A",dP)}}dS=dS.className;if(cV(dS)&&dS!==""){for(;dO=y.exec(dS);){db=cn(dO[2]),W(dR,db,"C",dP)&&(dQ[db]=cF(dO[3])),dS=dS.substr(dO.index+dO[0].length)}}break;case 3:E(dR,dS.nodeValue);break;case 8:try{if(dO=B.exec(dS.nodeValue)){db=cn(dO[1]),W(dR,db,"M",dP)&&(dQ[db]=cF(dO[2]))}}catch(dc){}}dR.sort(V);return dR}function L(d5,d4,d3,d2,d1){function dY(d8,d7){if(d8){d8.require=dQ.require,dW.push(d8)}if(d7){d7.require=dQ.require,dU.push(d7)}}function d0(d8,d7){var eb,ea="data",d9=!1;if(cV(d8)){for(;(eb=d8.charAt(0))=="^"||eb=="?";){d8=d8.substr(1),eb=="^"&&(ea="inheritedData"),d9=d9||eb=="?"}eb=d7[ea]("$"+d8+"Controller");if(!eb&&!d9){throw Error("No controller: "+d8)
}}else{cT(d8)&&(eb=[],cj(d8,function(ec){eb.push(d0(ec,d7))}))}return eb}function dZ(ei,ef,ee,ec,eb){var d9,eg,ek,ej,ed;d9=d4===ee?d3:ak(d3,new ad(b6(ee),d3.$attr));eg=d9.$$element;if(dd){var ea=/^\s*([@=&])\s*(\w*)\s*$/,eh=ef.$parent||ef;cj(dd.scope,function(em,el){var er=em.match(ea)||[],eq=er[2]||el,er=er[1],ep,en,eo;ef.$$isolateBindings[el]=er+eq;switch(er){case"@":d9.$observe(eq,function(es){ef[el]=es});d9.$$observers[eq].$$scope=eh;break;case"=":en=ab(d9[eq]);eo=en.assign||function(){ep=ef[el]=en(eh);throw Error(dI+d9[eq]+" (directive: "+dd.name+")")};ep=ef[el]=en(eh);ef.$watch(function(){var es=en(eh);es!==ef[el]&&(es!==ep?ep=ef[el]=es:eo(eh,es=ep=ef[el]));return es});break;case"&":en=ab(d9[eq]);ef[el]=function(es){return en(eh,es)};break;default:throw Error("Invalid isolate scope definition for directive "+dd.name+": "+em)}})}db&&cj(db,function(em){var el={$scope:ef,$element:eg,$attrs:d9,$transclude:eb};ed=em.controller;ed=="@"&&(ed=d9[em.name]);eg.data("$"+em.name+"Controller",aa(ed,el))
});ec=0;for(ek=dW.length;ec<ek;ec++){try{ej=dW[ec],ej(ef,eg,d9,ej.require&&d0(ej.require,eg))}catch(d8){bb(d8,bP(eg))}}ei&&ei(ef,ee.childNodes,ch,eb);ec=0;for(ek=dU.length;ec<ek;ec++){try{ej=dU[ec],ej(ef,eg,d9,ej.require&&d0(ej.require,eg))}catch(d7){bb(d7,bP(eg))}}}for(var dX=-Number.MAX_VALUE,dW=[],dU=[],dL=null,dd=null,dV=null,dP=d3.$$element=b6(d4),dQ,dT,dc,cd,d6=d2,db,dS,dO,dR=0,dM=d5.length;dR<dM;dR++){dQ=d5[dR];dc=ch;if(dX>dQ.priority){break}if(dO=dQ.scope){bd("isolated scope",dd,dQ,dP),cK(dO)&&(I(dP,"ng-isolate-scope"),dd=dQ),I(dP,"ng-scope"),dL=dL||dQ}dT=dQ.name;if(dO=dQ.controller){db=db||{},bd("'"+dT+"' controller",db[dT],dQ,dP),db[dT]=dQ}if(dO=dQ.transclude){bd("transclusion",cd,dQ,dP),cd=dQ,dX=dQ.priority,dO=="element"?(dc=b6(d4),dP=d3.$$element=b6(cD.createComment(" "+dT+": "+d3[dT]+" ")),d4=dP[0],T(d1,b6(dc[0]),d4),d6=S(dc,d2,dX)):(dc=b6(bq(d4)).contents(),dP.html(""),d6=S(dc,d2))}if(dO=dQ.template){if(bd("template",dV,dQ,dP),dV=dQ,dO=O(dO),dQ.replace){dc=b6("<div>"+cF(dO)+"</div>").contents();
d4=dc[0];if(dc.length!=1||d4.nodeType!==1){throw Error(w+dO)}T(d1,dP,d4);dT={$attr:{}};d5=d5.concat(P(d4,d5.splice(dR+1,d5.length-(dR+1)),dT));cc(d3,dT);dM=d5.length}else{dP.html(dO)}}if(dQ.templateUrl){bd("template",dV,dQ,dP),dV=dQ,dZ=H(d5.splice(dR,d5.length-dR),dZ,dP,d3,d1,dQ.replace,d6),dM=d5.length}else{if(dQ.compile){try{dS=dQ.compile(dP,d3,d6),cP(dS)?dY(null,dS):dS&&dY(dS.pre,dS.post)}catch(dN){bb(dN,bP(dP))}}}if(dQ.terminal){dZ.terminal=!0,dX=Math.max(dX,dQ.priority)}}dZ.scope=dL&&dL.scope;dZ.transclude=cd&&d6;return dZ}function W(dP,dO,dN,dL){var dM=!1;if(q.hasOwnProperty(dO)){for(var db,dO=ca.get(dO+D),dd=0,cd=dO.length;dd<cd;dd++){try{if(db=dO[dd],(dL===ch||dL>db.priority)&&db.restrict.indexOf(dN)!=-1){dP.push(db),dM=!0}}catch(dc){bb(dc)}}}return dM}function cc(db,cd){var dL=cd.$attr,dd=db.$attr,dc=db.$$element;cj(db,function(dN,dM){dM.charAt(0)!="$"&&(cd[dM]&&(dN+=(dM==="style"?";":" ")+cd[dM]),db.$set(dM,dN,!0,dL[dM]))});cj(cd,function(dM,dN){dN=="class"?(I(dc,dM),db["class"]=(db["class"]?db["class"]+" ":"")+dM):dN=="style"?dc.attr("style",dc.attr("style")+";"+dM):dN.charAt(0)!="$"&&!db.hasOwnProperty(dN)&&(db[dN]=dM,dd[dN]=dL[dN])
})}function H(dT,dS,dR,dP,dO,dL,dN){var dM=[],dd,dc,db=dR[0],cd=dT.shift(),dQ=cU({},cd,{controller:null,templateUrl:null,transclude:null,scope:null});dR.html("");ba.get(cd.templateUrl,{cache:ac}).success(function(dU){var dZ,dY,dU=O(dU);if(dL){dY=b6("<div>"+cF(dU)+"</div>").contents();dZ=dY[0];if(dY.length!=1||dZ.nodeType!==1){throw Error(w+dU)}dU={$attr:{}};T(dO,dR,dZ);P(dZ,dT,dU);cc(dP,dU)}else{dZ=db,dR.html(dU)}dT.unshift(dQ);dd=L(dT,dZ,dP,dN);for(dc=Z(dR[0].childNodes,dN);dM.length;){var dV=dM.pop(),dU=dM.pop();dY=dM.pop();var dX=dM.pop(),dW=dZ;dY!==db&&(dW=bq(dZ),T(dU,b6(dY),dW));dd(function(){dS(dc,dX,dW,dO,dV)},dX,dW,dO,dV)}dM=null}).error(function(dV,dU,dX,dW){throw Error("Failed to load template: "+dW.url)});return function(dU,dY,dX,dW,dV){dM?(dM.push(dY),dM.push(dX),dM.push(dW),dM.push(dV)):dd(function(){dS(dc,dY,dX,dW,dV)},dY,dX,dW,dV)}}function V(db,cd){return cd.priority-db.priority}function bd(db,cd,dd,dc){if(cd){throw Error("Multiple directives ["+cd.name+", "+dd.name+"] asking for "+db+" on: "+bP(dc))
}}function E(db,cd){var dc=bc(cd,!0);dc&&db.push({priority:0,compile:cO(function(dL,dd){var dN=dd.parent(),dM=dN.data("$binding")||[];dM.push(dc);I(dN.data("$binding",dM),"ng-binding");dL.$watch(dc,function(dO){dd[0].nodeValue=dO})})})}function G(db,cd,dL,dd){var dc=bc(dL,!0);dc&&cd.push({priority:100,compile:cO(function(dN,dM,dO){dM=dO.$$observers||(dO.$$observers={});dd==="class"&&(dc=bc(dO[dd],!0));dO[dd]=ch;(dM[dd]||(dM[dd]=[])).$$inter=!0;(dO.$$observers&&dO.$$observers[dd].$$scope||dN).$watch(dc,function(dP){dO.$set(dd,dP)})})})}function T(db,cd,dN){var dM=cd[0],dL=dM.parentNode,dd,dc;if(db){dd=0;for(dc=db.length;dd<dc;dd++){if(db[dd]==dM){db[dd]=dN;break}}}dL&&dL.replaceChild(dN,dM);dN[b6.expando]=dM[b6.expando];cd[0]=dN}var ad=function(db,cd){this.$$element=db;this.$attr=cd||{}};ad.prototype={$normalize:cn,$set:function(db,cd,dM,dL){var dd=aK(this.$$element[0],db),dc=this.$$observers;dd&&(this.$$element.prop(db,cd),dL=dd);this[db]=cd;dL?this.$attr[db]=dL:(dL=this.$attr[db])||(this.$attr[db]=dL=dn(db,"-"));
if(dJ(this.$$element[0])==="A"&&db==="href"){U.setAttribute("href",cd),dd=U.href,dd!==""&&!dd.match(v)&&(this[db]=cd="unsafe:"+dd)}dM!==!1&&(cd===null||cd===ch?this.$$element.removeAttr(dL):this.$$element.attr(dL,cd));dc&&cj(dc[db],function(dN){try{dN(cd)}catch(dO){bb(dO)}})},$observe:function(db,cd){var dL=this,dd=dL.$$observers||(dL.$$observers={}),dc=dd[db]||(dd[db]=[]);dc.push(cd);M.$evalAsync(function(){dc.$$inter||cd(dL[db])});return cd}};var U=X[0].createElement("a"),a=bc.startSymbol(),cb=bc.endSymbol(),O=a=="{{"||cb=="}}"?c9:function(cd){return cd.replace(/\{\{/g,a).replace(/}}/g,cb)};return S}]}function cn(a){return at(a.replace(ag,""))}function p(){var a={};this.register=function(m,q){cK(m)?cU(a,m):a[m]=q};this.$get=["$injector","$window",function(m,q){return function(w,v){if(cV(w)){var u=w,w=a.hasOwnProperty(u)?a[u]:cm(v.$scope,u,!0)||cm(q,u,!0);bz(w,u,!0)}return m.instantiate(w,v)}}]}function dG(){this.$get=["$window",function(a){return b6(a.document)}]}function ds(){this.$get=["$log",function(a){return function(m,q){a.error.apply(a,arguments)
}}]}function c0(){var m="{{",q="}}";this.startSymbol=function(u){return u?(m=u,this):m};this.endSymbol=function(a){return a?(q=a,this):q};this.$get=["$parse",function(w){function v(M,L){for(var I,H,G=0,E=[],D=M.length,B=!1,y=[];G<D;){(I=M.indexOf(m,G))!=-1&&(H=M.indexOf(q,I+u))!=-1?(G!=I&&E.push(M.substring(G,I)),E.push(G=w(B=M.substring(I+u,H))),G.exp=B,G=H+a,B=!0):(G!=D&&E.push(M.substring(G)),G=D)}if(!(D=E.length)){E.push(""),D=1}if(!L||B){return y.length=D,G=function(P){for(var O=0,T=D,S;O<T;O++){if(typeof(S=E[O])=="function"){S=S(P),S==null||S==ch?S="":typeof S!="string"&&(S=cS(S))}y[O]=S}return y.join("")},G.exp=M,G.parts=E,G}}var u=m.length,a=q.length;v.startSymbol=function(){return m};v.endSymbol=function(){return q};return v}]}function c5(m){for(var m=m.split("/"),q=m.length;q--;){m[q]=bj(m[q])}return m.join("/")}function ae(m,q){var u=cs.exec(m),u={protocol:u[1],host:u[3],port:cR(u[5])||b0[u[1]]||null,path:u[6]||"/",search:u[8],hash:u[10]};if(q){q.$$protocol=u.protocol,q.$$host=u.host,q.$$port=u.port
}return u}function C(m,q,u){return m+"://"+q+(u==b0[m]?"":":"+u)}function cq(m,q,v){var u=ae(m);return decodeURIComponent(u.path)!=q||b8(u.hash)||u.hash.indexOf(v)!==0?m:C(u.protocol,u.host,u.port)+q.substr(0,q.lastIndexOf("/"))+u.hash.substr(v.length)}function bY(m,q,D){var B=ae(m);if(decodeURIComponent(B.path)==q&&!b8(B.hash)&&B.hash.indexOf(D)===0){return m}else{var y=B.search&&"?"+B.search||"",v=B.hash&&"#"+B.hash||"",u=q.substr(0,q.lastIndexOf("/")),w=B.path.substr(u.length);if(B.path.indexOf(u)!==0){throw Error('Invalid url "'+m+'", missing path prefix "'+u+'" !')}return C(B.protocol,B.host,B.port)+q+"#"+D+w+y+v}}function aA(m,q,u){q=q||"";this.$$parse=function(a){var v=ae(a,this);if(v.path.indexOf(q)!==0){throw Error('Invalid url "'+a+'", missing path prefix "'+q+'" !')}this.$$path=decodeURIComponent(v.path.substr(q.length));this.$$search=bT(v.search);this.$$hash=v.hash&&decodeURIComponent(v.hash)||"";this.$$compose()};this.$$compose=function(){var a=be(this.$$search),v=this.$$hash?"#"+bj(this.$$hash):"";
this.$$url=c5(this.$$path)+(a?"?"+a:"")+v;this.$$absUrl=C(this.$$protocol,this.$$host,this.$$port)+q+this.$$url};this.$$rewriteAppUrl=function(v){if(v.indexOf(u)==0){return v}};this.$$parse(m)}function dv(m,q,v){var u;this.$$parse=function(a){var w=ae(a,this);if(w.hash&&w.hash.indexOf(q)!==0){throw Error('Invalid url "'+a+'", missing hash prefix "'+q+'" !')}u=w.path+(w.search?"?"+w.search:"");w=bJ.exec((w.hash||"").substr(q.length));this.$$path=w[1]?(w[1].charAt(0)=="/"?"":"/")+decodeURIComponent(w[1]):"";this.$$search=bT(w[3]);this.$$hash=w[5]&&decodeURIComponent(w[5])||"";this.$$compose()};this.$$compose=function(){var a=be(this.$$search),w=this.$$hash?"#"+bj(this.$$hash):"";this.$$url=c5(this.$$path)+(a?"?"+a:"")+w;this.$$absUrl=C(this.$$protocol,this.$$host,this.$$port)+u+(this.$$url?"#"+q+this.$$url:"")};this.$$rewriteAppUrl=function(w){if(w.indexOf(v)==0){return w}};this.$$parse(m)}function bL(m,q,v,u){dv.apply(this,arguments);this.$$rewriteAppUrl=function(a){if(a.indexOf(v)==0){return v+u+"#"+q+a.substr(v.length)
}}}function c6(a){return function(){return this[a]}}function bv(m,q){return function(a){if(b8(a)){return this[m]}this[m]=q(a);this.$$compose();return this}}function bt(){var m="",q=!1;this.hashPrefix=function(u){return b7(u)?(m=u,this):m};this.html5Mode=function(a){return b7(a)?(q=a,this):q};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(I,H,G,D){function B(L){I.$broadcast("$locationChangeSuccess",E.absUrl(),L)}var E,y,w,v=H.url(),u=ae(v);q?(y=H.baseHref()||"/",w=y.substr(0,y.lastIndexOf("/")),u=C(u.protocol,u.host,u.port)+w+"/",E=G.history?new aA(cq(v,y,m),w,u):new bL(bY(v,y,m),m,u,y.substr(w.length+1))):(u=C(u.protocol,u.host,u.port)+(u.path||"")+(u.search?"?"+u.search:"")+"#"+m+"/",E=new dv(v,m,u));D.bind("click",function(M){if(!M.ctrlKey&&!(M.metaKey||M.which==2)){for(var L=b6(M.target);b5(L[0].nodeName)!=="a";){if(L[0]===D[0]||!(L=L.parent())[0]){return}}var P=L.prop("href"),O=E.$$rewriteAppUrl(P);P&&!L.attr("target")&&O&&(E.$$parse(O),I.$apply(),M.preventDefault(),cI.angular["ff-684208-preventDefault"]=!0)
}});E.absUrl()!=v&&H.url(E.absUrl(),!0);H.onUrlChange(function(L){E.absUrl()!=L&&(I.$broadcast("$locationChangeStart",L,E.absUrl()).defaultPrevented?H.url(E.absUrl()):(I.$evalAsync(function(){var M=E.absUrl();E.$$parse(L);B(M)}),I.$$phase||I.$digest()))});var a=0;I.$watch(function(){var M=H.url(),L=E.$$replace;if(!a||M!=E.absUrl()){a++,I.$evalAsync(function(){I.$broadcast("$locationChangeStart",E.absUrl(),M).defaultPrevented?E.$$parse(M):(H.url(E.absUrl(),L),B(M))})}E.$$replace=!1;return a});return E}]}function a5(){this.$get=["$window",function(m){function q(v){v instanceof Error&&(v.stack?v=v.message&&v.stack.indexOf(v.message)===-1?"Error: "+v.message+"\n"+v.stack:v.stack:v.sourceURL&&(v=v.message+"\n"+v.sourceURL+":"+v.line));return v}function u(w){var v=m.console||{},a=v[w]||v.log||ce;return a.apply?function(){var y=[];cj(arguments,function(B){y.push(q(B))});return a.apply(v,y)}:function(B,y){a(B,y)}}return{log:u("log"),warn:u("warn"),info:u("info"),error:u("error")}}]}function aQ(W,X){function V(m){return m.indexOf(w)!=-1
}function U(){return B+1<W.length?W.charAt(B+1):!1}function T(m){return"0"<=m&&m<="9"}function P(m){return m==" "||m=="\r"||m=="\t"||m=="\n"||m=="\u000b"||m=="\u00a0"}function O(m){return"a"<=m&&m<="z"||"A"<=m&&m<="Z"||"_"==m||m=="$"}function S(m){return m=="-"||m=="+"||T(m)}function M(m,aa,Z){Z=Z||B;throw Error("Lexer Error: "+m+" at column"+(b7(aa)?"s "+aa+"-"+B+" ["+W.substring(aa,Z)+"]":" "+Z)+" in expression ["+W+"].")}function L(){for(var m="",ab=B;B<W.length;){var aa=b5(W.charAt(B));if(aa=="."||T(aa)){m+=aa}else{var Z=U();if(aa=="e"&&S(Z)){m+=aa}else{if(S(aa)&&Z&&T(Z)&&m.charAt(m.length-1)=="e"){m+=aa}else{if(S(aa)&&(!Z||!T(Z))&&m.charAt(m.length-1)=="e"){M("Invalid exponent")}else{break}}}}B++}m*=1;E.push({index:ab,text:m,json:!0,fn:function(){return m}})}function I(){for(var ad="",ac=B,ab,Z,aa,m;B<W.length;){m=W.charAt(B);if(m=="."||O(m)||T(m)){m=="."&&(ab=B),ad+=m}else{break}B++}if(ab){for(Z=B;Z<W.length;){m=W.charAt(Z);if(m=="("){aa=ad.substr(ab-ac+1);ad=ad.substr(0,ab-ac);B=Z;
break}if(P(m)){Z++}else{break}}}ac={index:ac,text:ad};if(ct.hasOwnProperty(ad)){ac.fn=ac.json=ct[ad]}else{var a=a7(ad,X);ac.fn=cU(function(bb,ba){return a(bb,ba)},{assign:function(bb,ba){return aS(bb,ad,ba)}})}E.push(ac);aa&&(E.push({index:ab,text:".",json:!1}),E.push({index:ab+1,text:aa,json:!1}))}function H(m){var ad=B;B++;for(var ac="",ab=m,aa=!1;B<W.length;){var Z=W.charAt(B);ab+=Z;if(aa){Z=="u"?(Z=W.substring(B+1,B+5),Z.match(/[\da-f]{4}/i)||M("Invalid unicode escape [\\u"+Z+"]"),B+=4,ac+=String.fromCharCode(parseInt(Z,16))):(aa=aC[Z],ac+=aa?aa:Z),aa=!1}else{if(Z=="\\"){aa=!0}else{if(Z==m){B++;E.push({index:ad,text:ab,string:ac,json:!0,fn:function(){return ac}});return}else{ac+=Z}}}B++}M("Unterminated quote",ad)}for(var E=[],D,B=0,q=[],w,v=":";B<W.length;){w=W.charAt(B);if(V("\"'")){H(w)}else{if(T(w)||V(".")&&T(U())){L()}else{if(O(w)){if(I(),"{,".indexOf(v)!=-1&&q[0]=="{"&&(D=E[E.length-1])){D.json=D.text.indexOf(".")==-1}}else{if(V("(){}[].,;:")){E.push({index:B,text:w,json:":[,".indexOf(v)!=-1&&V("{[")||V("}]:,")}),V("{[")&&q.unshift(w),V("}]")&&q.shift(),B++
}else{if(P(w)){B++;continue}else{var G=w+U(),y=ct[w],u=ct[G];u?(E.push({index:B,text:G,fn:u}),B+=2):y?(E.push({index:B,text:w,fn:y,json:"[,:".indexOf(v)!=-1&&V("+-")}),B+=1):M("Unexpected next character ",B,B+1)}}}}}v=w}return E}function an(cb,cc,ca,bd){function bc(m,u){throw Error("Syntax Error: Token '"+u.text+"' "+m+" at column "+(u.index+1)+" of the expression ["+cb+"] starting at ["+cb.substring(u.index)+"].")}function ba(){if(B.length===0){throw Error("Unexpected end of expression: "+cb)}return B[0]}function ad(u,m,db,cd){if(B.length>0){var w=B[0],v=w.text;if(v==u||v==m||v==db||v==cd||!u&&!m&&!db&&!cd){return w}}return !1}function bb(a,v,u,m){return(a=ad(a,v,u,m))?(cc&&!a.json&&bc("is not valid json",a),B.shift(),a):!1}function ac(m){bb(m)||bc("is unexpected, expecting ["+m+"]",ad())}function ab(u,m){return function(v,a){return u(v,a,m)}}function aa(u,m,v){return function(w,a){return m(w,a,u,v)}}function Z(){for(var m=[];;){if(B.length>0&&!ad("}",")",";","]")&&m.push(L()),!bb(";")){return m.length==1?m[0]:function(a,cd){for(var w,v=0;
v<m.length;v++){var u=m[v];u&&(w=u(a,cd))}return w}}}}function W(){for(var u=bb(),m=ca(u.text),w=[];;){if(u=bb(":")){w.push(O())}else{var v=function(cd,dd,dc){for(var dc=[dc],db=0;db<w.length;db++){dc.push(w[db](cd,dd))}return m.apply(cd,dc)};return function(){return v}}}}function V(){for(var u=U(),m;;){if(m=bb("||")){u=aa(u,m.fn,U())}else{return u}}}function U(){var u=E(),m;if(m=bb("&&")){u=aa(u,m.fn,U())}return u}function E(){var u=S(),m;if(m=bb("==","!=")){u=aa(u,m.fn,E())}return u}function S(){var u;u=H();for(var m;m=bb("+","-");){u=aa(u,m.fn,H())}if(m=bb("<",">","<=",">=")){u=aa(u,m.fn,S())}return u}function H(){for(var u=X(),m;m=bb("*","/","%");){u=aa(u,m.fn,X())}return u}function X(){var m;return bb("+")?T():(m=bb("-"))?aa(P,m.fn,X()):(m=bb("!"))?ab(m.fn,X()):T()}function T(){var u;if(bb("(")){u=L(),ac(")")}else{if(bb("[")){u=G()}else{if(bb("{")){u=D()}else{var m=bb();(u=m.fn)||bc("not a primary expression",m)}}}for(var v;m=bb("(","[",".");){m.text==="("?(u=I(u,v),v=null):m.text==="["?(v=u,u=y(u)):m.text==="."?(v=u,u=q(u)):bc("IMPOSSIBLE")
}return u}function G(){var m=[];if(ba().text!="]"){do{m.push(O())}while(bb(","))}ac("]");return function(a,w){for(var v=[],u=0;u<m.length;u++){v.push(m[u](a,w))}return v}}function D(){var u=[];if(ba().text!="}"){do{var m=bb(),m=m.string||m.text;ac(":");var v=O();u.push({key:m,value:v})}while(bb(","))}ac("}");return function(a,dc){for(var db={},cd=0;cd<u.length;cd++){var w=u[cd];db[w.key]=w.value(a,dc)}return db}}var P=cO(0),M,B=aQ(cb,bd),O=function(){var m=V(),v,u;return(u=bb("="))?(m.assign||bc("implies assignment but ["+cb.substring(0,u.index)+"] can not be assigned to",u),v=V(),function(a,w){return m.assign(a,v(a,w),w)}):m},I=function(u,m){var v=[];if(ba().text!=")"){do{v.push(O())}while(bb(","))}ac(")");return function(dc,db){for(var cd=[],w=m?m(dc,db):dc,a=0;a<v.length;a++){cd.push(v[a](dc,db))}a=u(dc,db,w)||ce;return a.apply?a.apply(w,cd):a(cd[0],cd[1],cd[2],cd[3],cd[4])}},q=function(u){var m=bb().text,v=a7(m,bd);return cU(function(a,cd,w){return v(w||u(a,cd),cd)},{assign:function(cd,w,a){return aS(u(cd,a),m,w)
}})},y=function(u){var m=O();ac("]");return cU(function(db,cd){var w=u(db,cd),v=m(db,cd),a;if(!w){return ch}if((w=w[v])&&w.then){a=w;if(!("$$v" in w)){a.$$v=ch,a.then(function(dc){a.$$v=dc})}w=w.$$v}return w},{assign:function(w,v,a){return u(w,a)[m(w,a)]=v}})},L=function(){for(var u=O(),m;;){if(m=bb("|")){u=aa(u,m.fn,W())}else{return u}}};cc?(O=V,I=q=y=L=function(){bc("is not valid json",{text:cb,index:0})},M=T()):M=Z();B.length!==0&&bc("is an unexpected token",B[0]);return M}function aS(m,q,y){for(var q=q.split("."),w=0;q.length>1;w++){var v=q.shift(),u=m[v];u||(u={},m[v]=u);m=u}return m[q.shift()]=y}function aE(m,q,w,v,u){return function(B,y){var D=y&&y.hasOwnProperty(m)?y:B,a;if(D===null||D===ch){return D}if((D=D[m])&&D.then){if(!("$$v" in D)){a=D,a.$$v=ch,a.then(function(E){a.$$v=E})}D=D.$$v}if(!q||D===null||D===ch){return D}if((D=D[q])&&D.then){if(!("$$v" in D)){a=D,a.$$v=ch,a.then(function(E){a.$$v=E})}D=D.$$v}if(!w||D===null||D===ch){return D}if((D=D[w])&&D.then){if(!("$$v" in D)){a=D,a.$$v=ch,a.then(function(E){a.$$v=E
})}D=D.$$v}if(!v||D===null||D===ch){return D}if((D=D[v])&&D.then){if(!("$$v" in D)){a=D,a.$$v=ch,a.then(function(E){a.$$v=E})}D=D.$$v}if(!u||D===null||D===ch){return D}if((D=D[u])&&D.then){if(!("$$v" in D)){a=D,a.$$v=ch,a.then(function(E){a.$$v=E})}D=D.$$v}return D}}function a7(m,q){if(al.hasOwnProperty(m)){return al[m]}var y=m.split("."),w=y.length,v;if(q){v=w<6?aE(y[0],y[1],y[2],y[3],y[4]):function(D,B){var G=0,E;do{E=aE(y[G++],y[G++],y[G++],y[G++],y[G++])(D,B),B=ch,D=E}while(G<w);return E}}else{var u="var l, fn, p;\n";cj(y,function(D,B){u+="if(s === null || s === undefined) return s;\nl=s;\ns="+(B?"s":'((k&&k.hasOwnProperty("'+D+'"))?k:s)')+'["'+D+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'});u+="return s;";v=Function("s","k",u);v.toString=function(){return u}}return al[m]=v}function J(){var a={};this.$get=["$filter","$sniffer",function(m,q){return function(u){switch(typeof u){case"string":return a.hasOwnProperty(u)?a[u]:a[u]=an(u,!1,m,q.csp);
case"function":return u;default:return ce}}}]}function f(){this.$get=["$rootScope","$exceptionHandler",function(m,q){return dz(function(u){m.$evalAsync(u)},q)}]}function dz(m,q){function B(D){return D}function y(D){return u(D)}var w=function(){var E=[],D,a;return a={resolve:function(G){if(E){var H=E;E=ch;D=v(G);H.length&&m(function(){for(var L,I=0,M=H.length;I<M;I++){L=H[I],D.then(L[0],L[1])}})}},reject:function(G){a.resolve(u(G))},promise:{then:function(G,L){var H=w(),I=function(P){try{H.resolve((G||B)(P))}catch(O){H.reject(O),q(O)}},M=function(O){try{H.resolve((L||y)(O))}catch(P){H.reject(P),q(P)}};E?E.push([I,M]):D.then(I,M);return H.promise}}}},v=function(D){return D&&D.then?D:{then:function(E){var a=w();m(function(){a.resolve(E(D))});return a.promise}}},u=function(D){return{then:function(G,E){var a=w();m(function(){a.resolve((E||y)(D))});return a.promise}}};return{defer:w,reject:u,when:function(H,G,E){var D=w(),a,L=function(M){try{return(G||B)(M)}catch(O){return q(O),u(O)}},I=function(M){try{return(E||y)(M)
}catch(O){return q(O),u(O)}};m(function(){v(H).then(function(M){a||(a=!0,D.resolve(v(M).then(L,I)))},function(M){a||(a=!0,D.resolve(I(M)))})});return D.promise},all:function(E){var D=w(),H=E.length,G=[];H?cj(E,function(I,L){v(I).then(function(M){L in G||(G[L]=M,--H||D.resolve(G))},function(M){L in G||D.reject(M)})}):D.resolve(G);return D.promise}}}function de(){var a={};this.when=function(m,u){a[m]=cU({reloadOnSearch:!0},u);if(m){var q=m[m.length-1]=="/"?m.substr(0,m.length-1):m+"/";a[q]={redirectTo:m}}return this};this.otherwise=function(m){this.when(null,m);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(L,I,H,G,D,B,E){function y(X,W){for(var W="^"+W.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$",V="",U=[],T={},S=/:(\w+)/g,P,M=0;(P=S.exec(W))!==null;){V+=W.slice(M,P.index),V+="([^\\/]*)",U.push(P[1]),M=S.lastIndex}V+=W.substr(M);var O=X.match(RegExp(V));O&&cj(U,function(aa,Z){T[aa]=O[Z+1]});return O?T:null}function w(){var M=v(),O=m.current;
if(M&&O&&M.$$route===O.$$route&&bH(M.pathParams,O.pathParams)&&!M.reloadOnSearch&&!q){O.params=M.params,cC(O.params,H),L.$broadcast("$routeUpdate",O)}else{if(M||O){q=!1,L.$broadcast("$routeChangeStart",M,O),(m.current=M)&&M.redirectTo&&(cV(M.redirectTo)?I.path(u(M.redirectTo,M.params)).search(M.params).replace():I.url(M.redirectTo(M.pathParams,I.path(),I.search())).replace()),G.when(M).then(function(){if(M){var P=[],T=[],S;cj(M.resolve||{},function(U,V){P.push(V);T.push(cV(U)?D.get(U):D.invoke(U))});if(!b7(S=M.template)){if(b7(S=M.templateUrl)){S=B.get(S,{cache:E}).then(function(U){return U.data})}}b7(S)&&(P.push("$template"),T.push(S));return G.all(T).then(function(U){var V={};cj(U,function(W,X){V[P[X]]=W});return V})}}).then(function(P){if(M==m.current){if(M){M.locals=P,cC(M.params,H)}L.$broadcast("$routeChangeSuccess",M,O)}},function(P){M==m.current&&L.$broadcast("$routeChangeError",M,O,P)})}}}function v(){var M,O;cj(a,function(P,S){if(!O&&(M=y(I.path(),S))){O=dE(P,{params:cU({},I.search(),M),pathParams:M}),O.$$route=P
}});return O||a[null]&&dE(a[null],{params:{},pathParams:{}})}function u(O,M){var P=[];cj((O||"").split(":"),function(S,V){if(V==0){P.push(S)}else{var U=S.match(/(\w+)(.*)/),T=U[1];P.push(M[T]);P.push(U[2]||"");delete M[T]}});return P.join("")}var q=!1,m={routes:a,reload:function(){q=!0;L.$evalAsync(w)}};L.$on("$locationChangeSuccess",w);return m}]}function cE(){this.$get=cO({})}function cf(){var a=10;this.digestTtl=function(m){arguments.length&&(a=m);return a};this.$get=["$injector","$exceptionHandler","$parse",function(m,D,B){function y(){this.$id=n();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=[];this.$$listeners={};this.$$isolateBindings={}}function v(E){if(q.$$phase){throw Error(q.$$phase+" already in progress")}q.$$phase=E}function u(G,E){var H=B(G);bz(H,E);return H}function w(){}y.prototype={$new:function(E){if(cP(E)){throw Error("API-CHANGE: Use $controller to instantiate controllers.")
}E?(E=new y,E.$root=this.$root):(E=function(){},E.prototype=this,E=new E,E.$id=n());E["this"]=E;E.$$listeners={};E.$parent=this;E.$$asyncQueue=[];E.$$watchers=E.$$nextSibling=E.$$childHead=E.$$childTail=null;E.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=E:this.$$childHead=this.$$childTail=E;return E},$watch:function(G,E,O){var M=u(G,"watch"),L=this.$$watchers,I={fn:E,last:w,get:M,exp:G,eq:!!O};if(!cP(E)){var H=u(E||ce,"listener");I.fn=function(S,P,T){H(T)}}if(!L){L=this.$$watchers=[]}L.unshift(I);return function(){dh(L,I)}},$digest:function(){var X,T,S,P,M,I,O,E=a,W,H=[],L,V;v("$digest");do{O=!1;W=this;do{for(M=W.$$asyncQueue;M.length;){try{W.$eval(M.shift())}catch(U){D(U)}}if(P=W.$$watchers){for(I=P.length;I--;){try{if((X=P[I])&&(T=X.get(W))!==(S=X.last)&&!(X.eq?bH(T,S):typeof T=="number"&&typeof S=="number"&&isNaN(T)&&isNaN(S))){O=!0,X.last=X.eq?cC(T):T,X.fn(T,S===w?T:S,W),E<5&&(L=4-E,H[L]||(H[L]=[]),V=cP(X.exp)?"fn: "+(X.exp.name||X.exp.toString()):X.exp,V+="; newVal: "+cS(T)+"; oldVal: "+cS(S),H[L].push(V))
}}catch(G){D(G)}}}if(!(P=W.$$childHead||W!==this&&W.$$nextSibling)){for(;W!==this&&!(P=W.$$nextSibling);){W=W.$parent}}}while(W=P);if(O&&!E--){throw q.$$phase=null,Error(a+" $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: "+cS(H))}}while(O||M.length);q.$$phase=null},$destroy:function(){if(!(q==this||this.$$destroyed)){var E=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(E.$$childHead==this){E.$$childHead=this.$$nextSibling}if(E.$$childTail==this){E.$$childTail=this.$$prevSibling}if(this.$$prevSibling){this.$$prevSibling.$$nextSibling=this.$$nextSibling}if(this.$$nextSibling){this.$$nextSibling.$$prevSibling=this.$$prevSibling}this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(G,E){return B(G)(this,E)},$evalAsync:function(E){this.$$asyncQueue.push(E)},$apply:function(G){try{return v("$apply"),this.$eval(G)}catch(E){D(E)}finally{q.$$phase=null;try{q.$digest()}catch(H){throw D(H),H}}},$on:function(G,E){var H=this.$$listeners[G];
H||(this.$$listeners[G]=H=[]);H.push(E);return function(){H[dk(H,E)]=null}},$emit:function(U,T){var S=[],P,O=this,M=!1,L={name:U,targetScope:O,stopPropagation:function(){M=!0},preventDefault:function(){L.defaultPrevented=!0},defaultPrevented:!1},I=[L].concat(aO.call(arguments,1)),H,E;do{P=O.$$listeners[U]||S;L.currentScope=O;H=0;for(E=P.length;H<E;H++){if(P[H]){try{if(P[H].apply(null,I),M){return L}}catch(G){D(G)}}else{P.splice(H,1),H--,E--}}O=O.$parent}while(O);return L},$broadcast:function(S,P){var O=this,M=this,L={name:S,targetScope:this,preventDefault:function(){L.defaultPrevented=!0},defaultPrevented:!1},I=[L].concat(aO.call(arguments,1)),H,G;do{O=M;L.currentScope=O;M=O.$$listeners[S]||[];H=0;for(G=M.length;H<G;H++){if(M[H]){try{M[H].apply(null,I)}catch(E){D(E)}}else{M.splice(H,1),H--,G--}}if(!(M=O.$$childHead||O!==this&&O.$$nextSibling)){for(;O!==this&&!(M=O.$$nextSibling);){O=O.$parent}}}while(O=M);return L}};var q=new y;return q}]}function bR(){this.$get=["$window",function(m){var q={},u=cR((/android (\d+)/.exec(b5(m.navigator.userAgent))||[])[1]);
return{history:!(!m.history||!m.history.pushState||u<4),hashchange:"onhashchange" in m&&(!m.document.documentMode||m.document.documentMode>7),hasEvent:function(v){if(v=="input"&&cA==9){return !1}if(b8(q[v])){var a=m.document.createElement("div");q[v]="on"+v in a}return q[v]},csp:!1}}]}function bB(){this.$get=cO(cI)}function ap(m){var q={},w,v,u;if(!m){return q}cj(m.split("\n"),function(a){u=a.indexOf(":");w=b5(cF(a.substr(0,u)));v=cF(a.substr(u+1));w&&(q[w]?q[w]+=", "+v:q[w]=v)});return q}function N(m){var q=cK(m)?m:ch;return function(a){q||(q=ap(m));return a?q[b5(a)]||null:q}}function h(m,q,u){if(cP(u)){return u(m,q)}cj(u,function(a){m=a(m,q)});return m}function bh(){var m=/^\s*(\[|\{[^\{])/,q=/[\}\]]\s*$/,w=/^\)\]\}',?\n/,v=this.defaults={transformResponse:[function(a){cV(a)&&(a=a.replace(w,""),m.test(a)&&q.test(a)&&(a=bO(a,!0)));return a}],transformRequest:[function(y){return cK(y)&&dx.apply(y)!=="[object File]"?cS(y):y}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},u=this.responseInterceptors=[];
this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(P,O,M,I,H,G){function E(ad){function ac(bb){var ba=cU({},bb,{data:h(bb.data,bb.headers,aa)});return 200<=bb.status&&bb.status<300?ba:H.reject(ba)}ad.method=d(ad.method);var ab=ad.transformRequest||v.transformRequest,aa=ad.transformResponse||v.transformResponse,Z=cU({},ad.headers),X=cU({"X-XSRF-TOKEN":O.cookies()["XSRF-TOKEN"]},v.headers.common,v.headers[b5(ad.method)]),W,V,U,T;ad:for(W in X){V=b5(W);for(U in ad.headers){if(b5(U)===V){continue ad}}Z[W]=X[W]}if(b8(ad.data)){for(var S in Z){if(b5(S)==="content-type"){delete Z[S];break}}}ab=h(ad.data,N(Z),ab);T=D(ad,ab,Z);T=T.then(ac,ac);cj(L,function(ba){T=ba(T)});T.success=function(a){T.then(function(ba){a(ba.data,ba.status,ba.headers,ad)});return T};T.error=function(a){T.then(null,function(ba){a(ba.data,ba.status,ba.headers,ad)});return T};return T}function D(ab,aa,Z){function X(ba,ad,bb){T&&(200<=ba&&ba<300?T.put(a,[ba,ad,ap(bb)]):T.remove(a));W(ad,ba,bb);
I.$apply()}function W(ad,bb,ba){bb=Math.max(bb,0);(200<=bb&&bb<300?U.resolve:U.reject)({data:ad,status:bb,headers:N(ba),config:ab})}function V(){var ad=dk(E.pendingRequests,ab);ad!==-1&&E.pendingRequests.splice(ad,1)}var U=H.defer(),S=U.promise,T,ac,a=B(ab.url,ab.params);E.pendingRequests.push(ab);S.then(V,V);ab.cache&&ab.method=="GET"&&(T=cK(ab.cache)?ab.cache:y);if(T){if(ac=T.get(a)){if(ac.then){return ac.then(V,V),ac}else{cT(ac)?W(ac[1],ac[0],cC(ac[2])):W(ac,200,{})}}else{T.put(a,S)}}ac||P(ab.method,a,aa,X,Z,ab.timeout,ab.withCredentials);return S}function B(T,S){if(!S){return T}var U=[];aM(S,function(W,V){W==null||W==ch||(cK(W)&&(W=cS(W)),U.push(encodeURIComponent(V)+"="+encodeURIComponent(W)))});return T+(T.indexOf("?")==-1?"?":"&")+U.join("&")}var y=M("$http"),L=[];cj(u,function(S){L.push(cV(S)?G.get(S):G.invoke(S))});E.pendingRequests=[];(function(S){cj(arguments,function(T){E[T]=function(a,U){return E(cU(U||{},{method:T,url:a}))}})})("get","delete","head","jsonp");(function(S){cj(arguments,function(T){E[T]=function(a,V,U){return E(cU(U||{},{method:T,url:a,data:V}))
}})})("post","put");E.defaults=v;return E}]}function cW(){this.$get=["$browser","$window","$document",function(m,q,u){return dl(m,cM,m.defer,q.angular.callbacks,u[0],q.location.protocol.replace(":",""))}]}function dl(m,q,B,y,w,v){function u(E,D){var H=w.createElement("script"),G=function(){w.body.removeChild(H);D&&D()};H.type="text/javascript";H.src=E;cA?H.onreadystatechange=function(){/loaded|complete/.test(H.readyState)&&G()}:H.onload=H.onerror=G;w.body.appendChild(H)}return function(P,O,M,L,I,H,G){function E(T,W,V,U){W=(O.match(cs)||["",v])[1]=="file"?V?200:404:W;T(W==1223?204:W,V,U);m.$$completeOutstandingRequest(ce)}m.$$incOutstandingRequestCount();O=O||m.url();if(b5(P)=="jsonp"){var D="_"+(y.counter++).toString(36);y[D]=function(T){y[D].data=T};u(O.replace("JSON_CALLBACK","angular.callbacks."+D),function(){y[D].data?E(L,200,y[D].data):E(L,-2);delete y[D]})}else{var a=new q;a.open(P,O,!0);cj(I,function(U,T){U&&a.setRequestHeader(T,U)});var S;a.onreadystatechange=function(){if(a.readyState==4){var U=a.getAllResponseHeaders(),T=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];
U||(U="",cj(T,function(V){var W=a.getResponseHeader(V);W&&(U+=V+": "+W+"\n")}));E(L,S||a.status,a.responseText,U)}};if(G){a.withCredentials=!0}a.send(M||"");H>0&&B(function(){S=-1;a.abort()},H)}}}function ck(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return a===1?"one":"other"
}}}}function bU(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(m,q,y,w){function v(H,G,E){var D=y.defer(),B=D.promise,a=b7(E)&&!E,G=q.defer(function(){try{D.resolve(H())}catch(I){D.reject(I),w(I)}finally{delete u[B.$$timeoutId]}a||m.$apply()},G);B.$$timeoutId=G;u[G]=D;return B}var u={};v.cancel=function(a){return a&&a.$$timeoutId in u?(u[a.$$timeoutId].reject("canceled"),delete u[a.$$timeoutId],q.defer.cancel(a.$$timeoutId)):!1};return v}]}function dB(m){function q(v,w){return m.factory(v+u,w)}var u="Filter";this.register=q;this.$get=["$injector",function(v){return function(a){return v.get(a+u)}}];q("currency",dg);q("date",cG);q("filter",bE);q("json",bn);q("limitTo",a0);q("lowercase",aJ);q("number",cg);q("orderBy",bS);q("uppercase",aw)}function bE(){return function(m,q){if(!cT(m)){return m}var D=[];D.check=function(G){for(var E=0;E<D.length;E++){if(!D[E](G)){return !1}}return !0};var B=function(G,E){if(E.charAt(0)==="!"){return !B(G,E.substr(1))}switch(typeof G){case"boolean":case"number":case"string":return(""+G).toLowerCase().indexOf(E)>-1;
case"object":for(var H in G){if(H.charAt(0)!=="$"&&B(G[H],E)){return !0}}return !1;case"array":for(H=0;H<G.length;H++){if(B(G[H],E)){return !0}}return !1;default:return !1}};switch(typeof q){case"boolean":case"number":case"string":q={$:q};case"object":for(var y in q){y=="$"?function(){var a=(""+q[y]).toLowerCase();a&&D.push(function(E){return B(E,a)})}():function(){var a=y,E=(""+q[y]).toLowerCase();E&&D.push(function(G){return B(cm(G,a),E)})}()}break;case"function":D.push(q);break;default:return m}for(var v=[],u=0;u<m.length;u++){var w=m[u];D.check(w)&&v.push(w)}return v}}function dg(m){var q=m.NUMBER_FORMATS;return function(a,u){if(b8(u)){u=q.CURRENCY_SYM}return bC(a,q.PATTERNS[1],q.GROUP_SEP,q.DECIMAL_SEP,2).replace(/\u00A4/g,u)}}function cg(m){var q=m.NUMBER_FORMATS;return function(a,u){return bC(a,q.PATTERNS[0],q.GROUP_SEP,q.DECIMAL_SEP,u)}}function bC(I,L,H,G,E){if(isNaN(I)||!isFinite(I)){return""}var B=I<0,I=Math.abs(I),y=I+"",D="",w=[],v=!1;if(y.indexOf("e")!==-1){var u=y.match(/([\d\.]+)e(-?)(\d+)/);
u&&u[2]=="-"&&u[3]>E+1?y="0":(D=y,v=!0)}if(v){E>0&&I>-1&&I<1&&(D=I.toFixed(E))}else{y=(y.split(bi)[1]||"").length;b8(E)&&(E=Math.min(Math.max(L.minFrac,y),L.maxFrac));var y=Math.pow(10,E),I=Math.round(I*y)/y,I=(""+I).split(bi),y=I[0],I=I[1]||"",v=0,u=L.lgSize,q=L.gSize;if(y.length>=u+q){for(var v=y.length-u,m=0;m<v;m++){(v-m)%q===0&&m!==0&&(D+=H),D+=y.charAt(m)}}for(m=v;m<y.length;m++){(y.length-m)%u===0&&m!==0&&(D+=H),D+=y.charAt(m)}for(;I.length<E;){I+="0"}E&&E!=="0"&&(D+=G+I.substr(0,E))}w.push(B?L.negPre:L.posPre);w.push(D);w.push(B?L.negSuf:L.posSuf);return w.join("")}function A(m,q,v){var u="";m<0&&(u="-",m=-m);for(m=""+m;m.length<q;){m="0"+m}v&&(m=m.substr(m.length-q));return u+m}function cJ(m,q,v,u){v=v||0;return function(a){a=a["get"+m]();if(v>0||a>-v){a+=v}a===0&&v==-12&&(a=12);return A(a,q,u)}}function b2(m,q){return function(w,v){var u=w["get"+m](),a=d(q?"SHORT"+m:m);return v[a][u]}}function cG(m){function q(w){var v;if(v=w.match(u)){var w=new Date(0),B=0,y=0;v[9]&&(B=cR(v[9]+v[10]),y=cR(v[9]+v[11]));
w.setUTCFullYear(cR(v[1]),cR(v[2])-1,cR(v[3]));w.setUTCHours(cR(v[4]||0)-B,cR(v[5]||0)-y,cR(v[6]||0),cR(v[7]||0))}return w}var u=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(D,B){var w="",v=[],y,a,B=B||"mediumDate",B=m.DATETIME_FORMATS[B]||B;cV(D)&&(D=ah.test(D)?cR(D):q(D));Q(D)&&(D=new Date(D));if(!cw(D)){return D}for(;B;){(a=r.exec(B))?(v=v.concat(aO.call(a,1)),B=v.pop()):(v.push(B),B=null)}cj(v,function(E){y=dH[E];w+=y?y(D,m.DATETIME_FORMATS):E.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return w}}function bn(){return function(a){return cS(a,!0)}}function a0(){return function(m,q){if(!(m instanceof Array)){return m}var q=cR(q),w=[],v,u;if(!m||!(m instanceof Array)){return w}q>m.length?q=m.length:q<-m.length&&(q=-m.length);q>0?(v=0,u=q):(v=m.length+q,u=m.length);for(;v<u;v++){w.push(m[v])}return w}}function bS(a){return function(m,y,w){function v(D,B){return ci(B)?function(E,G){return D(G,E)}:D}if(!cT(m)){return m
}if(!y){return m}for(var y=cT(y)?y:[y],y=dC(y,function(B){var E=!1,D=B||c9;if(cV(B)){if(B.charAt(0)=="+"||B.charAt(0)=="-"){E=B.charAt(0)=="-",B=B.substring(1)}D=a(B)}return v(function(H,G){var O;O=D(H);var M=D(G),L=typeof O,I=typeof M;L==I?(L=="string"&&(O=O.toLowerCase(),M=M.toLowerCase()),O=O===M?0:O<M?-1:1):O=L<I?-1:1;return O},E)}),u=[],q=0;q<m.length;q++){u.push(m[q])}return u.sort(v(function(D,B){for(var G=0;G<y.length;G++){var E=y[G](D,B);if(E!==0){return E}}return 0},w))}}function cz(a){cP(a)&&(a={link:a});a.restrict=a.restrict||"AC";return cO(a)}function cY(m,q){function B(D,E){E=E?"-"+dn(E,"-"):"";m.removeClass((D?bM:bw)+E).addClass((D?bw:bM)+E)}var y=this,w=m.parent().controller("form")||a8,v=0,u=y.$error={};y.$name=q.name||q.ngForm;y.$dirty=!1;y.$pristine=!0;y.$valid=!0;y.$invalid=!1;w.$addControl(y);m.addClass(aT);B(!0);y.$addControl=function(D){D.$name&&!y.hasOwnProperty(D.$name)&&(y[D.$name]=D)};y.$removeControl=function(D){D.$name&&y[D.$name]===D&&delete y[D.$name];cj(u,function(a,E){y.$setValidity(E,!0,D)
})};y.$setValidity=function(E,D,H){var G=u[E];if(D){if(G&&(dh(G,H),!G.length)){v--;if(!v){B(D),y.$valid=!0,y.$invalid=!1}u[E]=!1;B(!0,E);w.$setValidity(E,!0,y)}}else{v||B(D);if(G){if(dk(G,H)!=-1){return}}else{u[E]=G=[],v++,B(!1,E),w.$setValidity(E,!1,y)}G.push(H);y.$valid=!1;y.$invalid=!0}};y.$setDirty=function(){m.removeClass(aT).addClass(dm);y.$dirty=!0;y.$pristine=!1;w.$setDirty()}}function cy(a){return b8(a)||a===""||a===null||a!==a}function aG(I,L,H,G,E,B){var y=function(){var a=cF(L.val());G.$viewValue!==a&&I.$apply(function(){G.$setViewValue(a)})};if(E.hasEvent("input")){L.bind("input",y)}else{var D,w=function(){D||(D=B.defer(function(){y();D=null}))};L.bind("keydown",function(M){M=M.keyCode;M===91||15<M&&M<19||37<=M&&M<=40||w()});L.bind("change",y);E.hasEvent("paste")&&L.bind("paste cut",w)}G.$render=function(){L.val(cy(G.$viewValue)?"":G.$viewValue)};var v=H.ngPattern,u=function(O,M){return cy(M)||O.test(M)?(G.$setValidity("pattern",!0),M):(G.$setValidity("pattern",!1),ch)};v&&(v.match(/^\/(.*)\/$/)?(v=RegExp(v.substr(1,v.length-2)),E=function(M){return u(v,M)
}):E=function(M){var O=I.$eval(v);if(!O||!O.test){throw Error("Expected "+v+" to be a RegExp but was "+O)}return u(O,M)},G.$formatters.push(E),G.$parsers.push(E));if(H.ngMinlength){var q=cR(H.ngMinlength),E=function(M){return !cy(M)&&M.length<q?(G.$setValidity("minlength",!1),ch):(G.$setValidity("minlength",!0),M)};G.$parsers.push(E);G.$formatters.push(E)}if(H.ngMaxlength){var m=cR(H.ngMaxlength),H=function(M){return !cy(M)&&M.length>m?(G.$setValidity("maxlength",!1),ch):(G.$setValidity("maxlength",!0),M)};G.$parsers.push(H);G.$formatters.push(H)}}function b(m,q){m="ngClass"+m;return cz(function(D,B,y){function v(E){if(q===!0||D.$index%2===q){a&&!bH(E,a)&&u(a),w(E)}a=cC(E)}function u(E){cK(E)&&!cT(E)&&(E=dC(E,function(H,G){if(H){return G}}));B.removeClass(cT(E)?E.join(" "):E)}function w(E){cK(E)&&!cT(E)&&(E=dC(E,function(H,G){if(H){return G}}));E&&B.addClass(cT(E)?E.join(" "):E)}var a=ch;D.$watch(y[m],v,!0);y.$observe("class",function(){var E=D.$eval(y[m]);v(E,E)});m!=="ngClass"&&D.$watch("$index",function(H,G){var E=H&1;
E!==G&1&&(E===q?w(D.$eval(y[m])):u(D.$eval(y[m])))})})}var b5=function(a){return cV(a)?a.toLowerCase():a},d=function(a){return cV(a)?a.toUpperCase():a},cA=cR((/msie (\d+)/.exec(b5(navigator.userAgent))||[])[1]),b6,dp,aO=[].slice,ar=[].push,dx=Object.prototype.toString,cZ=cI.angular||(cI.angular={}),aW,dJ,cx=["0","0","0"];ce.$inject=[];c9.$inject=[];var cF=function(){return !String.prototype.trim?function(a){return cV(a)?a.replace(/^\s*/,"").replace(/\s*$/,""):a}:function(a){return cV(a)?a.trim():a}}();dJ=cA<9?function(a){a=a.nodeName?a:a[0];return a.scopeName&&a.scopeName!="HTML"?d(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var du=/[A-Z]/g,dt={full:"1.0.8",major:1,minor:0,dot:8,codeName:"bubble-burst"},a2=cL.cache={},bp=cL.expando="ng-"+(new Date).getTime(),bN=1,cN=cI.document.addEventListener?function(m,q,u){m.addEventListener(q,u,!1)}:function(m,q,u){m.attachEvent("on"+q,u)},a3=cI.document.removeEventListener?function(m,q,u){m.removeEventListener(q,u,!1)
}:function(m,q,u){m.detachEvent("on"+q,u)},cu=/([\:\-\_]+(.))/g,b1=/^moz([A-Z])/,au=cL.prototype={ready:function(m){function q(){u||(u=!0,m())}var u=!1;this.bind("DOMContentLoaded",q);cL(cI).bind("load",q)},toString:function(){var a=[];cj(this,function(m){a.push(""+m)});return"["+a.join(", ")+"]"},eq:function(a){return a>=0?b6(this[a]):b6(this[this.length+a])},length:0,push:ar,sort:[].sort,splice:[].splice},aj={};cj("multiple,selected,checked,disabled,readOnly,required".split(","),function(a){aj[b5(a)]=a});var ax={};cj("input,select,option,textarea,button,form".split(","),function(a){ax[d(a)]=!0});cj({data:dD,inheritedData:ay,scope:function(a){return ay(a,"$scope")},controller:aZ,injector:function(a){return ay(a,"$injector")},removeAttr:function(m,q){m.removeAttribute(q)},hasClass:aL,css:function(m,q,v){q=at(q);if(b7(v)){m.style[q]=v}else{var u;cA<=8&&(u=m.currentStyle&&m.currentStyle[q],u===""&&(u="auto"));u=u||m.style[q];cA<=8&&(u=u===""?ch:u);return u}},attr:function(m,q,v){var u=b5(q);
if(aj[u]){if(b7(v)){v?(m[q]=!0,m.setAttribute(q,u)):(m[q]=!1,m.removeAttribute(u))}else{return m[q]||(m.attributes.getNamedItem(q)||ce).specified?u:ch}}else{if(b7(v)){m.setAttribute(q,v)}else{if(m.getAttribute){return m=m.getAttribute(q,2),m===null?ch:m}}}},prop:function(m,q,u){if(b7(u)){m[q]=u}else{return m[q]}},text:cU(cA<9?function(m,q){if(m.nodeType==1){if(b8(q)){return m.innerText}m.innerText=q}else{if(b8(q)){return m.nodeValue}m.nodeValue=q}}:function(m,q){if(b8(q)){return m.textContent}m.textContent=q},{$dv:""}),val:function(m,q){if(b8(q)){if(dJ(m)==="SELECT"&&m.multiple){var u=[];cj(m.options,function(v){v.selected&&u.push(v.value||v.text)});return u.length===0?null:u}return m.value}m.value=q},html:function(m,q){if(b8(q)){return m.innerHTML}for(var v=0,u=m.childNodes;v<u.length;v++){bf(u[v])}m.innerHTML=q}},function(m,q){cL.prototype[q]=function(u,y){var w,v;if((m.length==2&&m!==aL&&m!==aZ?u:y)===ch){if(cK(u)){for(w=0;w<this.length;w++){if(m===dD){m(this[w],u)}else{for(v in u){m(this[w],v,u[v])
}}}return this}else{if(this.length){return m(this[0],u,y)}}}else{for(w=0;w<this.length;w++){m(this[w],u,y)}return this}return m.$dv}});cj({removeData:Y,dealoc:bf,bind:function co(v,u,q){var m=dq(v,"events"),a=dq(v,"handle");m||dq(v,"events",m={});a||dq(v,"handle",a=bx(v,m));cj(u.split(" "),function(B){var y=m[B];if(!y){if(B=="mouseenter"||B=="mouseleave"){var w=cD.body.contains||cD.body.compareDocumentPosition?function(D,H){var G=D.nodeType===9?D.documentElement:D,E=H&&H.parentNode;return D===E||!(!E||!(E.nodeType===1&&(G.contains?G.contains(E):D.compareDocumentPosition&&D.compareDocumentPosition(E)&16)))}:function(D,E){if(E){for(;E=E.parentNode;){if(E===D){return !0}}}return !1};m[B]=[];co(v,{mouseleave:"mouseout",mouseenter:"mouseover"}[B],function(D){var E=D.relatedTarget;(!E||E!==this&&!w(this,E))&&a(D,B)})}else{cN(v,B,a),m[B]=[]}y=m[B]}y.push(q)})},unbind:l,replaceWith:function(m,v){var u,q=m.parentNode;bf(m);cj(new cL(v),function(a){u?q.insertBefore(a,u.nextSibling):q.replaceChild(a,m);
u=a})},children:function(m){var q=[];cj(m.childNodes,function(u){u.nodeType===1&&q.push(u)});return q},contents:function(m){return m.childNodes||[]},append:function(m,q){cj(new cL(q),function(a){m.nodeType===1&&m.appendChild(a)})},prepend:function(m,u){if(m.nodeType===1){var q=m.firstChild;cj(new cL(u),function(a){m.insertBefore(a,q)})}},wrap:function(m,u){var u=b6(u)[0],q=m.parentNode;q&&q.replaceChild(u,m);u.appendChild(m)},remove:function(m){bf(m);var q=m.parentNode;q&&q.removeChild(m)},after:function(m,v){var u=m,q=m.parentNode;cj(new cL(v),function(w){q.insertBefore(w,u.nextSibling);u=w})},addClass:bm,removeClass:dj,toggleClass:function(m,u,q){b8(q)&&(q=!aL(m,u));(q?bm:dj)(m,u)},parent:function(m){return(m=m.parentNode)&&m.nodeType!==11?m:null},next:function(m){if(m.nextElementSibling){return m.nextElementSibling}for(m=m.nextSibling;m!=null&&m.nodeType!==1;){m=m.nextSibling}return m},find:function(m,q){return m.getElementsByTagName(q)},clone:bq,triggerHandler:function(m,u){var q=(dq(m,"events")||{})[u];
cj(q,function(a){a.call(m,null)})}},function(m,q){cL.prototype[q]=function(w,v){for(var u,a=0;a<this.length;a++){u==ch?(u=m(this[a],w,v),u!==ch&&(u=b6(u))):bG(u,m(this[a],w,v))}return u==ch?this:u}});x.prototype={put:function(m,q){this[br(m)]=q},get:function(m){return this[br(m)]},remove:function(m){var q=this[m=br(m)];delete this[m];return q}};aN.prototype={push:function(m,u){var q=this[m=br(m)];q?q.push(u):this[m]=[u]},shift:function(m){var q=this[m=br(m)];if(q){return q.length==1?(delete this[m],q[0]):q.shift()}},peek:function(m){if(m=this[br(m)]){return m[0]}}};var aU=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,aF=/,/,aq=/^\s*(_?)(\S+?)\1\s*$/,a9=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,dI="Non-assignable model expression: ";t.$inject=["$provide"];var ag=/^(x[\:\-_]|data[\:\-_])/i,cs=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,cl=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,bJ=cl,b0={http:80,https:443,ftp:21};aA.prototype={$$replace:!1,absUrl:c6("$$absUrl"),url:function(m,u){if(b8(m)){return this.$$url
}var q=cl.exec(m);q[1]&&this.path(decodeURIComponent(q[1]));if(q[2]||q[1]){this.search(q[3]||"")}this.hash(q[5]||"",u);return this},protocol:c6("$$protocol"),host:c6("$$host"),port:c6("$$port"),path:bv("$$path",function(m){return m.charAt(0)=="/"?m:"/"+m}),search:function(m,q){if(b8(m)){return this.$$search}b7(q)?q===null?delete this.$$search[m]:this.$$search[m]=q:this.$$search=cV(m)?bT(m):m;this.$$compose();return this},hash:bv("$$hash",c9),replace:function(){this.$$replace=!0;return this}};dv.prototype=dE(aA.prototype);bL.prototype=dE(dv.prototype);var ct={"null":function(){return null},"true":function(){return !0},"false":function(){return !1},undefined:ce,"+":function(m,v,u,q){u=u(m,v);q=q(m,v);return b7(u)?b7(q)?u+q:u:b7(q)?q:ch},"-":function(m,v,u,q){u=u(m,v);q=q(m,v);return(b7(u)?u:0)-(b7(q)?q:0)},"*":function(m,v,u,q){return u(m,v)*q(m,v)},"/":function(m,v,u,q){return u(m,v)/q(m,v)},"%":function(m,v,u,q){return u(m,v)%q(m,v)},"^":function(m,v,u,q){return u(m,v)^q(m,v)},"=":ce,"==":function(m,v,u,q){return u(m,v)==q(m,v)
},"!=":function(m,v,u,q){return u(m,v)!=q(m,v)},"<":function(m,v,u,q){return u(m,v)<q(m,v)},">":function(m,v,u,q){return u(m,v)>q(m,v)},"<=":function(m,v,u,q){return u(m,v)<=q(m,v)},">=":function(m,v,u,q){return u(m,v)>=q(m,v)},"&&":function(m,v,u,q){return u(m,v)&&q(m,v)},"||":function(m,v,u,q){return u(m,v)||q(m,v)},"&":function(m,v,u,q){return u(m,v)&q(m,v)},"|":function(m,v,u,q){return q(m,v)(m,v,u(m,v))},"!":function(m,u,q){return !q(m,u)}},aC={n:"\n",f:"\u000c",r:"\r",t:"\t",v:"\u000b","'":"'",'"':'"'},al={},cM=cI.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(m){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(u){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(q){}throw Error("This browser does not support XMLHttpRequest.")};dB.$inject=["$provide"];dg.$inject=["$locale"];cg.$inject=["$locale"];var bi=".",dH={yyyy:cJ("FullYear",4),yy:cJ("FullYear",2,0,!0),y:cJ("FullYear",1),MMMM:b2("Month"),MMM:b2("Month",!0),MM:cJ("Month",2,1),M:cJ("Month",1,1),dd:cJ("Date",2),d:cJ("Date",1),HH:cJ("Hours",2),H:cJ("Hours",1),hh:cJ("Hours",2,-12),h:cJ("Hours",1,-12),mm:cJ("Minutes",2),m:cJ("Minutes",1),ss:cJ("Seconds",2),s:cJ("Seconds",1),EEEE:b2("Day"),EEE:b2("Day",!0),a:function(m,q){return m.getHours()<12?q.AMPMS[0]:q.AMPMS[1]
},Z:function(m){var m=-1*m.getTimezoneOffset(),q=m>=0?"+":"";q+=A(Math[m>0?"floor":"ceil"](m/60),2)+A(Math.abs(m%60),2);return q}},r=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ah=/^\d+$/;cG.$inject=["$locale"];var aJ=cO(b5),aw=cO(d);bS.$inject=["$parse"];var c4=cO({restrict:"E",compile:function(m,q){cA<=8&&(!q.href&&!q.name&&q.$set("href",""),m.append(cD.createComment("IE fix")));return function(u,v){v.bind("click",function(w){v.attr("href")||w.preventDefault()})}}}),dw={};cj(aj,function(m,u){var q=cn("ng-"+u);dw[q]=function(){return{priority:100,compile:function(){return function(v,y,w){v.$watch(w[q],function(B){w.$set(u,!!B)})}}}}});cj(["src","href"],function(m){var q=cn("ng-"+m);dw[q]=function(){return{priority:99,link:function(v,u,a){a.$observe(q,function(w){w&&(a.$set(m,w),cA&&u.prop(m,a[m]))})}}}});var a8={$addControl:ce,$removeControl:ce,$setValidity:ce,$setDirty:ce};cY.$inject=["$element","$attrs","$scope"];var ar=function(m){return["$timeout",function(q){var a={name:"form",restrict:"E",controller:cY,compile:function(){return{pre:function(u,E,B,D){if(!B.action){var y=function(G){G.preventDefault?G.preventDefault():G.returnValue=!1
};cN(E[0],"submit",y);E.bind("$destroy",function(){q(function(){a3(E[0],"submit",y)},0,!1)})}var w=E.parent().controller("form"),v=B.name||B.ngForm;v&&(u[v]=D);w&&E.bind("$destroy",function(){w.$removeControl(D);v&&(u[v]=ch);cU(D,a8)})}}}};return m?cU(cC(a),{restrict:"EAC"}):a}]},cr=ar(),bZ=ar(!0),bK=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,bu=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,a6=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,bV={text:aG,number:function(m,D,B,y,v,u){aG(m,D,B,y,v,u);y.$parsers.push(function(E){var G=cy(E);return G||a6.test(E)?(y.$setValidity("number",!0),E===""?null:G?E:parseFloat(E)):(y.$setValidity("number",!1),ch)});y.$formatters.push(function(E){return cy(E)?"":""+E});if(B.min){var w=parseFloat(B.min),m=function(E){return !cy(E)&&E<w?(y.$setValidity("min",!1),ch):(y.$setValidity("min",!0),E)};y.$parsers.push(m);y.$formatters.push(m)}if(B.max){var q=parseFloat(B.max),B=function(E){return !cy(E)&&E>q?(y.$setValidity("max",!1),ch):(y.$setValidity("max",!0),E)
};y.$parsers.push(B);y.$formatters.push(B)}y.$formatters.push(function(E){return cy(E)||Q(E)?(y.$setValidity("number",!0),E):(y.$setValidity("number",!1),ch)})},url:function(m,y,w,v,u,q){aG(m,y,w,v,u,q);m=function(B){return cy(B)||bK.test(B)?(v.$setValidity("url",!0),B):(v.$setValidity("url",!1),ch)};v.$formatters.push(m);v.$parsers.push(m)},email:function(m,y,w,v,u,q){aG(m,y,w,v,u,q);m=function(B){return cy(B)||bu.test(B)?(v.$setValidity("email",!0),B):(v.$setValidity("email",!1),ch)};v.$formatters.push(m);v.$parsers.push(m)},radio:function(m,v,u,q){b8(u.name)&&v.attr("name",n());v.bind("click",function(){v[0].checked&&m.$apply(function(){q.$setViewValue(u.value)})});q.$render=function(){v[0].checked=u.value==q.$viewValue};u.$observe("value",q.$render)},checkbox:function(m,y,w,v){var u=w.ngTrueValue,q=w.ngFalseValue;cV(u)||(u=!0);cV(q)||(q=!1);y.bind("click",function(){m.$apply(function(){v.$setViewValue(y[0].checked)})});v.$render=function(){y[0].checked=v.$viewValue};v.$formatters.push(function(B){return B===u
});v.$parsers.push(function(B){return B?u:q})},hidden:ce,button:ce,submit:ce,reset:ce},bF=["$browser","$sniffer",function(m,q){return{restrict:"E",require:"?ngModel",link:function(w,v,u,a){a&&(bV[b5(u.type)]||bV.text)(w,v,u,a,q,m)}}}],bw="ng-valid",bM="ng-invalid",aT="ng-pristine",dm="ng-dirty",aR=["$scope","$exceptionHandler","$attrs","$element","$parse",function(I,H,G,E,B){function y(L,M){M=M?"-"+dn(M,"-"):"";E.removeClass((L?bM:bw)+M).addClass((L?bw:bM)+M)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=G.name;var D=B(G.ngModel),w=D.assign;if(!w){throw Error(dI+G.ngModel+" ("+bP(E)+")")}this.$render=ce;var v=E.inheritedData("$formController")||a8,u=0,q=this.$error={};E.addClass(aT);y(!0);this.$setValidity=function(L,M){if(q[L]!==!M){if(M){if(q[L]&&u--,!u){y(!0),this.$valid=!0,this.$invalid=!1}}else{y(!1),this.$invalid=!0,this.$valid=!1,u++}q[L]=!M;
y(M,L);v.$setValidity(L,M,this)}};this.$setViewValue=function(a){this.$viewValue=a;if(this.$pristine){this.$dirty=!0,this.$pristine=!1,E.removeClass(aT).addClass(dm),v.$setDirty()}cj(this.$parsers,function(L){a=L(a)});if(this.$modelValue!==a){this.$modelValue=a,w(I,a),cj(this.$viewChangeListeners,function(L){try{L()}catch(M){H(M)}})}};var m=this;I.$watch(function(){var M=D(I);if(m.$modelValue!==M){var L=m.$formatters,a=L.length;for(m.$modelValue=M;a--;){M=L[a](M)}if(m.$viewValue!==M){m.$viewValue=M,m.$render()}}})}],aD=function(){return{require:["ngModel","^?form"],controller:aR,link:function(m,y,w,v){var u=v[0],q=v[1]||a8;q.$addControl(u);y.bind("$destroy",function(){q.$removeControl(u)})}}},ao=cO({require:"ngModel",link:function(m,v,u,q){q.$viewChangeListeners.push(function(){m.$eval(u.ngChange)})}}),bo=function(){return{require:"?ngModel",link:function(m,w,v,u){if(u){v.required=!0;var q=function(y){if(v.required&&(cy(y)||y===!1)){u.$setValidity("required",!1)}else{return u.$setValidity("required",!0),y
}};u.$formatters.push(q);u.$parsers.unshift(q);v.$observe("required",function(){q(u.$viewValue)})}}}},K=function(){return{require:"ngModel",link:function(m,w,v,u){var q=(m=/\/(.*)\//.exec(v.ngList))&&RegExp(m[1])||v.ngList||",";u.$parsers.push(function(y){var B=[];y&&cj(y.split(q),function(D){D&&B.push(cF(D))});return B});u.$formatters.push(function(y){return cT(y)?y.join(", "):ch})}}},g=/^(true|false|\d+)$/,dA=function(){return{priority:100,compile:function(m,q){return g.test(q.ngValue)?function(u,w,v){v.$set("value",u.$eval(v.ngValue))}:function(u,w,v){u.$watch(v.ngValue,function(y){v.$set("value",y)})}}}},df=cz(function(m,u,q){u.addClass("ng-binding").data("$binding",q.ngBind);m.$watch(q.ngBind,function(v){u.text(v==ch?"":v)})}),bk=["$interpolate",function(m){return function(u,q,a){u=m(q.attr(a.$attr.ngBindTemplate));q.addClass("ng-binding").data("$binding",u);a.$observe("ngBindTemplate",function(v){q.text(v)})}}],aX=[function(){return function(m,u,q){u.addClass("ng-binding").data("$binding",q.ngBindHtmlUnsafe);
m.$watch(q.ngBindHtmlUnsafe,function(v){u.html(v||"")})}}],aI=b("",!0),av=b("Odd",0),af=b("Even",1),o=cz({compile:function(m,q){q.$set("ngCloak",ch);m.removeClass("ng-cloak")}}),dF=[function(){return{scope:!0,controller:"@"}}],dr=["$sniffer",function(m){return{priority:1000,compile:function(){m.csp=!0}}}],a1={};cj("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave submit".split(" "),function(m){var q=cn("ng-"+m);a1[q]=["$parse",function(a){return function(y,v,u){var w=a(u[q]);v.bind(b5(m),function(B){y.$apply(function(){w(y,{$event:B})})})}}]});var cX=["$http","$templateCache","$anchorScroll","$compile",function(m,v,u,q){return{restrict:"ECA",terminal:!0,compile:function(B,y){var D=y.ngInclude||y.src,w=y.onload||"",a=y.autoscroll;return function(G,E){var L=0,I,H=function(){I&&(I.$destroy(),I=null);E.html("")};G.$watch(D,function(O){var M=++L;O?m.get(O,{cache:v}).success(function(P){M===L&&(I&&I.$destroy(),I=G.$new(),E.html(P),q(E.contents())(I),b7(a)&&(!a||G.$eval(a))&&u(),I.$emit("$includeContentLoaded"),G.$eval(w))
}).error(function(){M===L&&H()}):H()})}}}}],cp=cz({compile:function(){return{pre:function(m,u,q){m.$eval(q.ngInit)}}}}),bX=cz({terminal:!0,priority:1000}),bI=["$locale","$interpolate",function(m,u){var q=/{}/g;return{restrict:"EA",link:function(I,G,E){var H=E.count,D=G.attr(E.$attr.when),B=E.offset||0,y=I.$eval(D),w={},v=u.startSymbol(),a=u.endSymbol();cj(y,function(L,M){w[M]=u(L.replace(q,v+H+"-"+B+a))});I.$watch(function(){var L=parseFloat(I.$eval(H));return isNaN(L)?"":(L in y||(L=m.pluralCat(L-B)),w[L](I,G,!0))},function(L){G.text(L)})}}}],bs=cz({transclude:"element",priority:1000,terminal:!0,compile:function(m,u,q){return function(w,H,E){var G=E.ngRepeat,E=G.match(/^\s*(.+)\s+in\s+(.*)\s*$/),D,B,y;if(!E){throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+G+"'.")}G=E[1];D=E[2];E=G.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!E){throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+G+"'.")}B=E[3]||E[1];y=E[2];
var v=new aN;w.$watch(function(U){var T,S,P=U.$eval(D),O=H,L=new aN,X,M,V,W,I,Z;if(cT(P)){I=P||[]}else{I=[];for(V in P){P.hasOwnProperty(V)&&V.charAt(0)!="$"&&I.push(V)}I.sort()}X=I.length-1;T=0;for(S=I.length;T<S;T++){V=P===I?T:I[T];W=P[V];if(Z=v.shift(W)){M=Z.scope;L.push(W,Z);if(T!==Z.index){Z.index=T,O.after(Z.element)}O=Z.element}else{M=U.$new()}M[B]=W;y&&(M[y]=V);M.$index=T;M.$first=T===0;M.$last=T===X;M.$middle=!(M.$first||M.$last);Z||q(M,function(aa){O.after(aa);Z={scope:M,element:O=aa,index:T};L.push(W,Z)})}for(V in v){if(v.hasOwnProperty(V)){for(I=v[V];I.length;){W=I.pop(),W.element.remove(),W.scope.$destroy()}}}v=L})}}}),a4=cz(function(m,u,q){m.$watch(q.ngShow,function(v){u.css("display",ci(v)?"":"none")})}),aP=cz(function(m,u,q){m.$watch(q.ngHide,function(v){u.css("display",ci(v)?"none":"")})}),aB=cz(function(m,u,q){m.$watch(q.ngStyle,function(v,w){w&&v!==w&&cj(w,function(y,B){u.css(B,"")});v&&u.css(v)},!0)}),am=cO({restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}
}],link:function(m,B,y,w){var u,q,v;m.$watch(y.ngSwitch||y.on,function(a){q&&(v.$destroy(),q.remove(),q=v=null);if(u=w.cases["!"+a]||w.cases["?"]){m.$eval(y.change),v=m.$new(),u(v,function(D){q=D;B.append(D)})}})}}),F=cz({transclude:"element",priority:500,require:"^ngSwitch",compile:function(m,u,q){return function(v,y,w,B){B.cases["!"+u.ngSwitchWhen]=q}}}),e=cz({transclude:"element",priority:500,require:"^ngSwitch",compile:function(m,u,q){return function(v,B,w,y){y.cases["?"]=q}}}),dy=cz({controller:["$transclude","$element",function(m,q){m(function(u){q.append(u)})}]}),da=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(m,y,w,v,u,q){return{restrict:"ECA",terminal:!0,link:function(D,I,G){function E(){var M=w.current&&w.current.locals,L=M&&M.$template;if(L){I.html(L);B&&(B.$destroy(),B=null);var L=u(I.contents()),a=w.current;B=a.scope=D.$new();if(a.controller){M.$scope=B,M=q(a.controller,M),I.children().data("$ngControllerController",M)}L(B);B.$emit("$viewContentLoaded");
B.$eval(H);v()}else{I.html(""),B&&(B.$destroy(),B=null)}}var B,H=G.onload||"";D.$on("$routeChangeSuccess",E);E()}}}],cB=["$templateCache",function(m){return{restrict:"E",terminal:!0,compile:function(q,a){a.type=="text/ng-template"&&m.put(a.id,q[0].text)}}}],b9=cO({terminal:!0}),bQ=["$compile","$parse",function(m,v){var u=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,q={$setViewValue:ce};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(y,H,G){var E=this,D={},B=q,w;E.databound=G.ngModel;E.init=function(I,M,L){B=I;w=L};E.addOption=function(a){D[a]=!0;B.$viewValue==a&&(y.val(a),w.parent()&&w.remove())};E.removeOption=function(I){this.hasOption(I)&&(delete D[I],B.$viewValue==I&&this.renderUnknownOption(I))};E.renderUnknownOption=function(a){a="? "+br(a)+" ?";w.val(a);y.prepend(w);y.val(a);w.prop("selected",!0)};E.hasOption=function(I){return D.hasOwnProperty(I)
};H.$on("$destroy",function(){E.renderUnknownOption=ce})}],link:function(ac,aa,ab,Z){function X(y,E,D,B){D.$render=function(){var ad=D.$viewValue;B.hasOption(ad)?(a.parent()&&a.remove(),E.val(ad),ad===""&&w.prop("selected",!0)):b8(ad)&&w?E.val(""):B.renderUnknownOption(ad)};E.bind("change",function(){y.$apply(function(){a.parent()&&a.remove();D.$setViewValue(E.val())})})}function W(y,E,D){var B;D.$render=function(){var ad=new x(D.$viewValue);cj(E.find("option"),function(ba){ba.selected=b7(ad.get(ba.value))})};y.$watch(function(){bH(B,D.$viewValue)||(B=cC(D.$viewValue),D.$render())});E.bind("change",function(){y.$apply(function(){var ad=[];cj(E.find("option"),function(ba){ba.selected&&ad.push(ba.value)});D.$setViewValue(ad)})})}function V(cb,ca,bd){function bc(){var dO={"":[]},dM=[""],dd,dc,dT,dQ,dR;dT=bd.$modelValue;dQ=y(cb)||[];var dP=E?c8(dQ):dQ,cd,dN,dL;dN={};dR=!1;var db,dS;S&&(dR=new x(dT));for(dL=0;cd=dP.length,dL<cd;dL++){dN[ad]=dQ[E?dN[E]=dP[dL]:dL];dd=D(cb,dN)||"";if(!(dc=dO[dd])){dc=dO[dd]=[],dM.push(dd)
}S?dd=dR.remove(B(cb,dN))!=ch:(dd=dT===B(cb,dN),dR=dR||dd);db=ba(cb,dN);db=db===ch?"":db;dc.push({id:E?dP[dL]:dL,label:db,selected:dd})}S||(M||dT===null?dO[""].unshift({id:"",label:"",selected:!dR}):dR||dO[""].unshift({id:"?",label:"",selected:!0}));dN=0;for(dP=dM.length;dN<dP;dN++){dd=dM[dN];dc=dO[dd];if(cc.length<=dN){dT={element:P.clone().attr("label",dd),label:dc.label},dQ=[dT],cc.push(dQ),ca.append(dT.element)}else{if(dQ=cc[dN],dT=dQ[0],dT.label!=dd){dT.element.attr("label",dT.label=dd)}}db=null;dL=0;for(cd=dc.length;dL<cd;dL++){if(dd=dc[dL],dR=dQ[dL+1]){db=dR.element;if(dR.label!==dd.label){db.text(dR.label=dd.label)}if(dR.id!==dd.id){db.val(dR.id=dd.id)}if(db[0].selected!==dd.selected){db.prop("selected",dR.selected=dd.selected)}}else{dd.id===""&&M?dS=M:(dS=I.clone()).val(dd.id).attr("selected",dd.selected).text(dd.label),dQ.push({element:dS,label:dd.label,id:dd.id,selected:dd.selected}),db?db.after(dS):dT.element.append(dS),db=dS}}for(dL++;dQ.length>dL;){dQ.pop().element.remove()
}}for(;cc.length>dN;){cc.pop()[0].element.remove()}}var bb;if(!(bb=H.match(u))){throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+H+"'.")}var ba=v(bb[2]||bb[1]),ad=bb[4]||bb[6],E=bb[5],D=v(bb[3]||""),B=v(bb[2]?bb[1]:ad),y=v(bb[7]),cc=[[{element:ca,label:""}]];M&&(m(M)(cb),M.removeClass("ng-scope"),M.remove());ca.html("");ca.bind("change",function(){cb.$apply(function(){var dO,dN=y(cb)||[],dM={},dL,dd,dc,db,cd,dP;if(S){dd=[];db=0;for(dP=cc.length;db<dP;db++){dO=cc[db];dc=1;for(cd=dO.length;dc<cd;dc++){if((dL=dO[dc].element)[0].selected){dL=dL.val(),E&&(dM[E]=dL),dM[ad]=dN[dL],dd.push(B(cb,dM))}}}}else{dL=ca.val(),dL=="?"?dd=ch:dL==""?dd=null:(dM[ad]=dN[dL],E&&(dM[E]=dL),dd=B(cb,dM))}bd.$setViewValue(dd)})});bd.$render=bc;cb.$watch(bc)}if(Z[1]){for(var U=Z[0],T=Z[1],S=ab.multiple,H=ab.ngOptions,M=!1,w,I=b6(cD.createElement("option")),P=b6(cD.createElement("optgroup")),a=I.clone(),Z=0,O=aa.children(),L=O.length;Z<L;Z++){if(O[Z].value==""){w=M=O.eq(Z);
break}}U.init(T,M,a);if(S&&(ab.required||ab.ngRequired)){var G=function(y){T.$setValidity("required",!ab.required||y&&y.length);return y};T.$parsers.push(G);T.$formatters.unshift(G);ab.$observe("required",function(){G(T.$viewValue)})}H?V(ac,aa,T):S?W(ac,aa,T):X(ac,aa,T,U)}}}}],bA=["$interpolate",function(m){var q={addOption:ce,removeOption:ce};return{restrict:"E",priority:100,compile:function(v,u){if(b8(u.value)){var a=m(v.text(),!0);a||u.$set("value",v.text())}return function(w,E,D){var B=E.parent(),y=B.data("$selectController")||B.parent().data("$selectController");y&&y.databound?E.prop("selected",!1):y=q;a?w.$watch(a,function(G,H){D.$set("value",G);G!==H&&y.removeOption(H);y.addOption(G)}):y.addOption(D.value);E.bind("$destroy",function(){y.removeOption(D.value)})}}}}],bg=cO({restrict:"E",terminal:!0});(dp=cI.jQuery)?(b6=dp,cU(dp.fn,{scope:au.scope,controller:au.controller,injector:au.injector,inheritedData:au.inheritedData}),bW("remove",!0,!0,!1),bW("empty",!1,!1,!1),bW("html",!1,!1,!0)):b6=cL;
cZ.element=b6;(function(m){cU(m,{bootstrap:aV,copy:cC,extend:cU,equals:bH,element:b6,forEach:cj,injector:aH,noop:ce,bind:cH,toJson:cS,fromJson:bO,identity:c9,isUndefined:b8,isDefined:b7,isString:cV,isFunction:cP,isObject:cK,isNumber:Q,isElement:az,isArray:cT,version:dt,isDate:cw,lowercase:b5,uppercase:d,callbacks:{counter:0}});aW=c7(cI);try{aW("ngLocale")}catch(q){aW("ngLocale",[]).provider("$locale",ck)}aW("ng",["ngLocale"],["$provide",function(u){u.provider("$compile",t).directive({a:c4,input:bF,textarea:bF,form:cr,script:cB,select:bQ,style:bg,option:bA,ngBind:df,ngBindHtmlUnsafe:aX,ngBindTemplate:bk,ngClass:aI,ngClassEven:af,ngClassOdd:av,ngCsp:dr,ngCloak:o,ngController:dF,ngForm:bZ,ngHide:aP,ngInclude:cX,ngInit:cp,ngNonBindable:bX,ngPluralize:bI,ngRepeat:bs,ngShow:a4,ngStyle:aB,ngSwitch:am,ngSwitchWhen:F,ngSwitchDefault:e,ngOptions:b9,ngView:da,ngTransclude:dy,ngModel:aD,ngList:K,ngChange:ao,required:bo,ngRequired:bo,ngValue:dA}).directive(dw).directive(a1);u.provider({$anchorScroll:R,$browser:di,$cacheFactory:bl,$controller:p,$document:dG,$exceptionHandler:ds,$filter:dB,$interpolate:c0,$http:bh,$httpBackend:cW,$location:bt,$log:a5,$parse:J,$route:de,$routeParams:cE,$rootScope:cf,$q:f,$sniffer:bR,$templateCache:aY,$timeout:bU,$window:bB})
}])})(cZ);b6(cD).ready(function(){dK(cD,aV)})})(window,document);angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none !important;}ng\\:form{display:block;}</style>');Drupal.behaviors.schoologyAngular=function(a){if(typeof Drupal.settings.s_common!="undefined"&&typeof Drupal.settings.s_common.csrf_token!="undefined"&&typeof Drupal.settings.s_common.csrf_key!="undefined"){sAngular.app.config(["$httpProvider",function(d){d.defaults.headers.common={"X-Csrf-Token":Drupal.settings.s_common.csrf_token,"X-Csrf-Key":Drupal.settings.s_common.csrf_key}}])}var b=false;$(".tpl-placeholder:not(.sSchoology-processed)",a).addClass("sSchoology-processed").each(function(){var e=$(this),j=e.attr("tpl-id");if(j&&typeof Drupal.settings.theme_js[j]!="undefined"){var h=Drupal.settings.theme_js[j];var g=h.module;if(sAngular.injector===false){sAngular.injector=angular.injector(["ng","schoology"])
}sAngular.emptyControllerQueue();sAngular.emptyDirectiveQueue();if(typeof h.template=="string"){var d=h.template;var f=[d];if(h.args){f=$.merge(f,h.args)}var k=Drupal.theme.apply(this,f);sAngular.injector.invoke(["$rootScope","$compile",function(l,m){e.html(k);m(e)(l);b=true}])}}});if(b){sAngular.injector.invoke(["$rootScope",function(d){d.$apply()}])}};var sAngular=(function(a){var b={};b.modules={};b.eventQueue={};b.directiveQueue=[];b.registeredDirectives=[];b.controllerQueue=[];b.registeredControllers=[];b.compileProvider=null;b.controllerProvider=null;b.injector=false;b.bootedModules=[];b.app=a.module("schoology",["ui"],["$compileProvider","$controllerProvider",function(d,e){b.compileProvider=d;b.controllerProvider=e}]);b.addDirective=function(d,e){b.directiveQueue.push([d,e])};b.addController=function(e,d){b.controllerQueue.push([e,d])};b.emptyControllerQueue=function(){if(b.controllerQueue.length>0){$.each(b.controllerQueue,function(e,d){if($.inArray(d[0],b.registeredControllers)===-1){b.controllerProvider.register(d[0],d[1]);
b.registeredControllers.push(d[0])}});b.controllerQueue=[]}};b.emptyDirectiveQueue=function(){if(b.directiveQueue.length>0){$.each(b.directiveQueue,function(e,d){if($.inArray(d[0],b.registeredDirectives)===-1){b.compileProvider.directive(d[0],d[1]);b.registeredDirectives.push(d[0])}});b.directiveQueue=[]}};(function(){var f=1,e=2,d=3;b.app.service("SHttp",["$http",function(k){var g={};g.cache={};g.statuses={};g.queue={};var h=function(m,l,n){if(typeof n!="function"){return}if(typeof g.queue[m]=="undefined"){g.queue[m]={}}if(typeof g.queue[m][l]=="undefined"){g.queue[m][l]=[]}g.queue[m][l].push(n)};var j=function(m,l){if(typeof g.queue[m]!="undefined"&&typeof g.queue[m][l]!="undefined"){var n=g.queue[m][l];g.queue[m]={};$.each(n,function(o,p){p(g.cache[m])})}};g.get=function(m,n,l){h(m,"success",n);h(m,"fail",l);if(typeof g.statuses[m]=="undefined"&&typeof g.cache[m]=="undefined"){g.statuses[m]="loading";k.get(m).success(function(o){g.cache[m]=o.body;g.statuses[m]=e;j(m,"success")}).error(function(o){g.cache[m]=false;
g.statuses[m]=d;j(m,"fail")})}else{switch(g.statuses[m]){case e:j(m,"success");if(typeof n=="function"){n(g.cache[m])}break;case d:j(m,"fail");if(typeof l=="function"){l(g.cache[m])}break}}};return g}])})();b.rootScopeBroadcast=function(){var d=Array.prototype.slice.call(arguments),e=this;b.injector.invoke(["$rootScope",function(f){if(f.$$phase=="$apply"||f.$$phase=="$digest"){f.$broadcast.apply(f,d)}else{f.$apply(function(){f.$broadcast.apply(f,d)})}}]);e.trigger.apply(e,d)};b.broadcast=function(){var d=Array.prototype.slice.call(arguments),e=this;b.injector.invoke(["$rootScope",function(f){f.$broadcast.apply(f,d)}]);e.trigger.apply(e,d)};b.getScope=function(e){var d=null;if(e.hasClass("ng-scope")){d=a.element(e.get(0)).scope()}return d};b.extractThemeData=function(e){var d=e.theme_js;if(typeof e.theme_js=="object"){Drupal.settings.theme_js=e.theme_js}};b.contextExec=function(e,h){var j={func:"load"};var h=$.extend(j,h);var f=e.hasClass("ng-scope")?e:$(".ng-scope",e);if(!f.length){return false
}var d=b.getScope(f);var g=typeof d[h.func]!="undefined"?d[h.func]:null;if(g&&typeof g=="function"){if(d.$$phase=="$apply"||d.$$phase=="$digest"){d.$apply(function(){g.call()})}else{g.call()}}};b.on=function(d,e){var f=typeof e=="object"?e:{fn:e};if(typeof this.eventQueue[d]=="undefined"){this.eventQueue[d]=[]}this.eventQueue[d].push(f)};b.trigger=function(d){var e=Array.prototype.slice.call(arguments,1);if(typeof this.eventQueue[d]!="undefined"){$.each(this.eventQueue[d],function(f,g){if(typeof g.fn=="function"){g.fn.apply(g,e)}})}};return b})(angular);sAngular.app.directive("sPopup",function(){return{restrict:"C",transclude:true,replace:true,scope:{popupPath:"@path",extraClass:"@extraClass",updateMethod:"@updateMethod",onUpdate:"@onUpdate",templateAttr:"@templateAttr",clientPopup:"@clientPopup",clientPopupHandler:"@clientPopupHandler",clientPopupSubmit:"@clientPopupSubmit",clientPopupText:"@clientPopupText",clientPopupArg:"@clientPopupArg"},template:'<div ng-transclude class="sPopupWidget"></div>',link:function(d,b,a){b.bind("click",function(){if(d.clientPopup&&d.clientPopupHandler.length>0){if(typeof Drupal.theme[d.clientPopupHandler]=="function"){var e=Drupal.theme[d.clientPopupHandler]()
}else{return}if(d.clientPopupText){e.body=d.clientPopupText}e.confirm.func=function(){var g=angular.isDefined(d.clientPopupArg)?d.clientPopupArg:null;sAngularPopupsClientSubmit(g)};e.extraOptions={};e.extraOptions.angularScope=d;e.extraOptions.angularElement=b;sCommonConfirmationPopup(e)}else{var f=Popups.options({updateMethod:d.updateMethod,extraClass:d.extraClass,href:d.popupPath,angularScope:d,angularElement:b});if(d.onUpdate.length>0){f.doneTest="angular/popups/done";f.onUpdate="sAngularPopupsOnUpdate"}Popups.clickPopupElement($(this),f)}})}}});sAngular.app.directive("sActionLink",function(){return{restrict:"C",link:function(d,b,a){b.sActionLinks({hidden:false})}}});sAngular.app.directive("sInfotip",function(){return{restrict:"C",scope:{gravity:"=gravity",text:"=text",enabled:"=enabled",disableRelation:"=disableRelation",itemInfo:"=itemInfo",selector:"=selector"},link:function(d,b,a){function e(g){var f=null;if(angular.isDefined(d[g])){f=d[g]}else{if(angular.isDefined(a[g])){f=a[g]}}return f
}if(e("selector")){b=$(e("selector"),b)}d.$watch("enabled",function(g,f){if(angular.isDefined(d.disableRelation)){switch(d.disableRelation){case"inverse":g?b.addClass("disabled"):b.removeClass("disabled");break;case"direct":g?b.removeClass("disabled"):b.addClass("disabled");break}}});b.tipsy({html:true,gravity:e("gravity"),delayIn:500,title:function(){if(angular.isUndefined(d.enabled)||d.enabled){var g=e("text");if(!g){var f=$(this).find(".infotip-content").html();if(angular.isDefined(f)){g=f}}else{g=$("<div/>").text(g).html()}return g}return""}})}}});sAngular.app.directive("textAutogrow",function(){return{restrict:"C",link:function(d,b,a){$(b).elastic()}}});sAngular.app.directive("sPrefill",function(){return{restrict:"C",require:"ngModel",link:function(e,d,a,g){d.attr("placeholder",a.prefillText);var f;var b=function(){d.val(a.prefillText);d.addClass("pre-fill")};var h=function(){d.val("");d.removeClass("pre-fill")};e.$watch(a.ngModel,function(j){f=j||"";if(f.length>0){d.removeClass("pre-fill")
}});d.bind("focus",function(){if(f==""){h()}});d.bind("blur",function(){if(d.val()==""){b()}});g.$formatters.unshift(function(j){if(!j){b();f="";return a.prefillText}return j})}}});function sAngularPopupsOnUpdate(e,a,b){var d=a.angularScope;delete e.path;d.$emit(d.onUpdate,a.angularElement,e);return}function sAngularPopupsClientSubmit(a){var b=Popups.activePopup();var d=b.options.angularScope;b.close();sAngular.rootScopeBroadcast(d.clientPopupSubmit,{el:b.options.angularElement,arg:a})}sAngular.app.directive("sEnrollmentChooser",["Enrollment",function(a){return{restrict:"C",scope:{realm:"@realm",realmId:"@realmId",defaultId:"@defaultId"},link:function(e,d,b){e.enrollments={};var f=$(".enrollment-chooser-pl",d);a.getEnrollments(b.realm,b.realmId,function(h){e.enrollments=h;var g=[];$.each(e.enrollments,function(j,k){g.push({id:k.id,text:k.name,enrObj:k})});f.select2({formatResult:function(k,j){return e.formatItem(k)},formatSelection:function(k,j){return e.formatItem(k)},escapeMarkup:function(j){return j
},data:g}).change(function(k){var j=k.val;sAngular.rootScopeBroadcast("sEnrollmentChooserChange",j)});sAngular.rootScopeBroadcast("sEnrollmentChooserLoadComplete");if(angular.isUndefined(e.enrollments[parseInt(e.defaultId)])){return}f.select2("val",e.defaultId)});e.formatItem=function(h){if(angular.isUndefined(h.enrObj)){return}var g=h.enrObj;var j='<div class="enrollment-dd-item">';j+=g.picture+'<span class="enrollment-dd-name">'+g.name+"</span>";j+="</div>";return j};e.$on("sEnrollmentChooserChangeValue",function(h,g){if(angular.isUndefined(e.enrollments[parseInt(g)])){return}f.select2("val",g)});e.$on("sEnrollmentChooserClose",function(){f.select2("close")});$(document).click(function(h){var g=$(h.target);if(g.parents(".select2-drop").length>0||g.parents(".select2-container").length>0){return}f.select2("close")})}}}]);sAngular.app.directive("reorderRealms",["$compile",function(a){return{restrict:"C",link:function(e,d,b){d.click(function(){if(Drupal.settings.s_site_tour){$("#sitetour-close-btn").click()
}e.show_handle=true;var h=b.realm=="course";var j=b.realm+"-reorder";if(h){var k=Drupal.theme.s_course_course_dropdown_list(e.courses.sections,true);var m=Drupal.t("Reorder Courses");var l=e.courses.sections}else{var k=Drupal.theme.s_group_group_dropdown_list(e.groups,true);var m=Drupal.t("Reorder Groups");var l=e.groups}var g=a(k)(e);e.$apply();var f={title:m,body:"",extraClass:" dropdown-reorder",confirm:{text:Drupal.t("Save Changes"),func:function(){var r=$("."+b.realm+"-reorder-weights").val().split(",");if(r){var u=Array();var q=Array();for(var p in l){u[l[p].nid]=l[p]}for(var p in r){q[p]=u[r[p]]}if(h){e.$apply(e.courses.sections=q);var t={realm_ids:r}}else{e.$apply(e.groups=q);var t={realm_ids:r,vars:e.vars}}Popups.activePopup().close();$.ajaxSecure({url:"/enrollment/reorder/"+b.realm,type:"post",dataType:"json",data:t})}}},cancel:{text:Drupal.t("Cancel")},element:d,extraOptions:{}};sCommonConfirmationPopup(f);g.prependTo($(".popups-body-inner-has-buttons"));sPopupsResizeCenter();
var n=$("."+j);var o={handle:".drag-handle",helper:function(q,p){p.children().each(function(){$(this).width($(this).width())});return p},stop:function(q,p){n.siblings("."+b.realm+"-reorder-weights").val(n.sortable("toArray").toString())},sort:function(u,r){if($.browser.msie){var v=$(".popups-body-inner-has-buttons");var p=$(".popups-body-inner-has-buttons ul");var q=20;var t=70;if($(r.item).offset().top<t&&v.scrollTop()>0){v.scrollTop(v.scrollTop()-q)}if($(r.item).offset().top>v.height()-t&&v.scrollTop()<p.eq(0).height()){v.scrollTop(v.scrollTop()+q)}}},axis:"y",items:"li.draggable"};n.sortable(o);n.siblings("."+b.realm+"-reorder-weights").val(n.sortable("toArray").toString())})}}}]);sAngular.app.directive("loadWatch",function(){return{restrict:"C",scope:{loaded:"=loaded"},link:function(d,b,a){d.$watch("loaded",function(f,e){if(Drupal.settings.s_site_tour&&d.loaded){$(document).trigger("dropdown-loaded");b.parents(".activities-dropdown-wrapper:first").addClass("loaded")}})}}});sAngular.app.directive("showActiveLoader",function(){return{restrict:"C",link:function(d,b,a){d.$watch("showActiveLoader",function(f,e){if(f&&(f!==e)){sToggleActiveLoader(a.activeLoaderKey,$(b))
}else{if(f===false){sToggleActiveLoader(a.activeLoaderKey)}}})}}});sAngular.app.directive("hiddenInput",["$timeout","$rootScope",function(a){return{restrict:"A",scope:{hiddenInputSync:"=hiddenInputSync",hiddenInputVal:"=hiddenInputVal",hiddenInputUpdate:"&hiddenInputUpdate"},link:function(d,b){d.$watch("hiddenInputSync",function(f,e){if(f==true&&!e){a(function(){b[0].focus()},250)}});b.bind("blur",function(e){d.hiddenInputUpdate()})}}}]);angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(b,a){var d={};return angular.isString(b.animate)?d["class"]=b.animate:b.animate&&(d=b.animate),{restrict:"A",link:function(j,h,f){var g={};f.uiAnimate&&(g=j.$eval(f.uiAnimate),angular.isString(g)&&(g={"class":g})),g=angular.extend({"class":"ui-animate"},d,g),h.addClass(g["class"]),a(function(){h.removeClass(g["class"])
},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(b,a){return b.uiCalendar=b.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(g,l,j,f){function d(){g.calendar=l.html("");var n=g.calendar.fullCalendar("getView");n&&(n=n.name);var p,m={defaultView:n,eventSources:h};j.uiCalendar?p=g.$eval(j.uiCalendar):p={},angular.extend(m,b.uiCalendar,p),g.calendar.fullCalendar(m)}var h=g.$eval(j.ngModel),k=0,e=function(){var m=g.$eval(j.equalsTracker);return k=0,angular.forEach(h,function(o,n){angular.isArray(o)&&(k+=o.length)}),angular.isNumber(m)?k+h.length+m:k+h.length};d(),g.$watch(e,function(n,m){d()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(b,a){var d=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(e,j,q,g){var p,n,k,h,m;if(j[0].type!=="textarea"){throw new Error("uiCodemirror3 can only be applied to a textarea element")
}p=b.codemirror||{},n=angular.extend({},p,e.$eval(q.uiCodemirror)),k=function(f){return function(o,r){var l=o.getValue();l!==g.$viewValue&&(g.$setViewValue(l),e.$apply()),typeof f=="function"&&f(o,r)}},h=function(){m=CodeMirror.fromTextArea(j[0],n),m.on("change",k(n.onChange));for(var r=0,o=d.length,f;r<o;++r){f=n["on"+d[r].charAt(0).toUpperCase()+d[r].slice(1)];if(f===void 0){continue}if(typeof f!="function"){continue}m.on(d[r],f)}g.$formatters.push(function(l){if(angular.isUndefined(l)||l===null){return""}if(angular.isObject(l)||angular.isArray(l)){throw new Error("ui-codemirror cannot use an object or an array as a model")}return l}),g.$render=function(){m.setValue(g.$viewValue)},q.uiRefresh&&e.$watch(q.uiRefresh,function(l,t){l!==t&&a(m.refresh)})},a(h)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(b,a){var d={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return b.currency&&angular.extend(d,b.currency),{restrict:"EAC",require:"ngModel",link:function(l,k,h,j){var m,g,f;
m=angular.extend({},d,l.$eval(h.uiCurrency)),g=function(o){var p;return p=o*1,k.toggleClass(m.pos,p>0),k.toggleClass(m.neg,p<0),k.toggleClass(m.zero,p===0),o===""?k.text(""):k.text(a(p,m.symbol)),!0},j.$render=function(){f=j.$viewValue,k.val(f),g(f)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(b){var a;return a={},angular.isObject(b.date)&&angular.extend(a,b.date),{require:"?ngModel",link:function(e,j,g,d){var f=function(){return angular.extend({},b.date,e.$eval(g.uiDate))},h=function(){var l=f();if(d){var k=function(){e.$apply(function(){var n=j.datepicker("getDate");j.datepicker("setDate",j.val()),d.$setViewValue(n),j.blur()})};if(l.onSelect){var m=l.onSelect;l.onSelect=function(o,p){k(),e.$apply(function(){m(o,p)})}}else{l.onSelect=k}j.bind("change",k),d.$render=function(){var n=d.$viewValue;if(angular.isDefined(n)&&n!==null&&!angular.isDate(n)){throw new Error("ng-Model value must be a Date object - currently it is a "+typeof n+" - use ui-date-format to convert it from a string")
}j.datepicker("setDate",n)}}j.datepicker("destroy"),j.datepicker(l),d&&d.$render()};e.$watch(f,h,!0)}}}]).directive("uiDateFormat",["ui.config",function(b){var a={require:"ngModel",link:function(e,h,g,d){var f=g.uiDateFormat||b.dateFormat;f?(d.$formatters.push(function(j){if(angular.isString(j)){return $.datepicker.parseDate(f,j)}}),d.$parsers.push(function(j){if(j){return $.datepicker.formatDate(f,j)}})):(d.$formatters.push(function(j){if(angular.isString(j)){return new Date(j)}}),d.$parsers.push(function(j){if(j){return j.toISOString()}}))}};return a}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(a){return function(d,f,e){var b=d.$eval(e.uiEvent);angular.forEach(b,function(j,g){var h=a(j);f.bind(g,function(k){var l=Array.prototype.slice.call(arguments);l=l.splice(1),d.$apply(function(){h(d,{$event:k,$params:l})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1000,terminal:!0,restrict:"A",compile:function(b,a,d){return function(k,g,j){var f,h;
k.$watch(j.uiIf,function(e){f&&(f.remove(),f=undefined),h&&(h.$destroy(),h=undefined),e&&(h=k.$new(),d(h,function(l){f=l,g.after(l)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(a,b){return{restrict:"A",compile:function(f,d){if(!angular.isFunction(f[d.uiJq])){throw new Error('ui-jq: The "'+d.uiJq+'" function does not exist')}var e=a.jq&&a.jq[d.uiJq];return function(j,k,h){function g(){b(function(){k[h.uiJq].apply(k,l)},0,!1)}var l=[];h.uiOptions?(l=j.$eval("["+h.uiOptions+"]"),angular.isObject(e)&&angular.isObject(l[0])&&(l[0]=angular.extend({},e,l[0]))):e&&(l=[e]),h.ngModel&&k.is("select,input,textarea")&&k.on("change",function(){k.trigger("input")}),h.uiRefresh&&j.$watch(h.uiRefresh,function(m){g()}),g()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(a){var d={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},b=function(f){return f.charAt(0).toUpperCase()+f.slice(1)
};return function(k,h,j,l){var g,f=[];g=h.$eval(l["ui"+b(k)]),angular.forEach(g,function(p,q){var o,m;m=a(p),angular.forEach(q.split(" "),function(n){o={expression:m,keys:{}},angular.forEach(n.split("-"),function(r){o.keys[r]=!0}),f.push(o)})}),j.bind(k,function(m){var p=m.metaKey||m.altKey,n=m.ctrlKey,q=m.shiftKey,e=m.keyCode;k==="keypress"&&!q&&e>=97&&e<=122&&(e-=32),angular.forEach(f,function(w){var t=w.keys[d[m.keyCode]]||w.keys[m.keyCode.toString()]||!1,r=w.keys.alt||!1,v=w.keys.ctrl||!1,o=w.keys.shift||!1;t&&r==p&&v==n&&o==q&&h.$apply(function(){w.expression(h,{$event:m})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(a){return{link:function(b,e,d){a("keydown",b,e,d)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(a){return{link:function(b,e,d){a("keypress",b,e,d)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(a){return{link:function(b,e,d){a("keyup",b,e,d)}}}]),function(){function a(h,f,j,g){angular.forEach(f.split(" "),function(k){var e={type:"map-"+k};
google.maps.event.addListener(j,k,function(l){g.triggerHandler(angular.extend({},e,l)),h.$$phase||h.$apply()})})}function d(f,e){b.directive(f,[function(){return{restrict:"A",link:function(j,g,h){j.$watch(h[f],function(k){a(j,e,k,g)})}}}])}var b=angular.module("ui.directives");b.directive("uiMap",["ui.config","$parse",function(h,j){var g="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",f=h.map||{};return{restrict:"A",link:function(p,m,q){var l=angular.extend({},f,p.$eval(q.uiOptions)),k=new google.maps.Map(m[0],l),n=j(q.uiMap);n.assign(p,k),a(p,g,k,m)}}}]),b.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(j,k,h){var f="closeclick content_change domready position_changed zindex_changed",g=j.mapInfoWindow||{};return{link:function(r,t,p){var n=angular.extend({},g,r.$eval(p.uiOptions));n.content=t[0];var q=k(p.uiMapInfoWindow),m=q(r);
m||(m=new google.maps.InfoWindow(n),q.assign(r,m)),a(r,f,m,t),t.replaceWith("<div></div>");var v=m.open;m.open=function(y,o,w,l,e,x){h(t.contents())(r),v.call(m,y,o,w,l,e,x)}}}}]),d("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),d("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),d("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),d("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),d("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),d("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(d,a,f,b){b.$render=function(){var e=b.$viewValue||"";
a.val(e),a.mask(d.$eval(f.uiMask))},b.$parsers.push(function(g){var h=a.isMaskValid()||angular.isUndefined(a.isMaskValid())&&a.val().length>0;return b.$setValidity("mask",h),h?g:undefined}),a.bind("keyup",function(){d.$apply(function(){b.$setViewValue(a.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(b){var a=null;return b.reset!==undefined&&(a=b.reset),{require:"ngModel",link:function(h,j,g,d){var f;f=angular.element('<a class="ui-reset" />'),j.wrap('<span class="ui-resetwrap" />').after(f),f.bind("click",function(e){e.preventDefault(),h.$apply(function(){g.uiReset?d.$setViewValue(h.$eval(g.uiReset)):d.$setViewValue(a),d.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(b,a){return{restrict:"AC",compile:function(f,e){var d;if(e.uiRoute){d="uiRoute"}else{if(e.ngHref){d="ngHref"}else{if(!e.href){throw new Error("uiRoute missing a route or href property on "+f[0])}d="href"}}return function(p,k,j){function g(n){(hash=n.indexOf("#"))>-1&&(n=n.substr(hash+1)),h=function(){m(p,b.path().indexOf(n)>-1)
},h()}function l(n){(hash=n.indexOf("#"))>-1&&(n=n.substr(hash+1)),h=function(){var o=new RegExp("^"+n+"$",["i"]);m(p,o.test(b.path()))},h()}var m=a(j.ngModel||j.routeModel||"$uiRoute").assign,h=angular.noop;switch(d){case"uiRoute":j.uiRoute?l(j.uiRoute):j.$observe("uiRoute",l);break;case"ngHref":j.ngHref?g(j.ngHref):j.$observe("ngHref",g);break;case"href":g(j.href)}p.$on("$routeChangeSuccess",function(){h()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(a){return{link:function(d,f,e){var b=f.offset().top;e.uiScrollfix?e.uiScrollfix.charAt(0)==="-"?e.uiScrollfix=b-e.uiScrollfix.substr(1):e.uiScrollfix.charAt(0)==="+"&&(e.uiScrollfix=b+parseFloat(e.uiScrollfix.substr(1))):e.uiScrollfix=b,angular.element(a).on("scroll.ui-scrollfix",function(){var h;if(angular.isDefined(a.pageYOffset)){h=a.pageYOffset}else{var g=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;h=g.scrollTop}!f.hasClass("ui-scrollfix")&&h>e.uiScrollfix?f.addClass("ui-scrollfix"):f.hasClass("ui-scrollfix")&&h<e.uiScrollfix&&f.removeClass("ui-scrollfix")
})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(b,a){var d={};return b.select2&&angular.extend(d,b.select2),{require:"?ngModel",compile:function(l,k){var h,j,m,g=l.is("select"),f=k.multiple!==undefined;return l.is("select")&&(j=l.find("option[ng-repeat], option[data-ng-repeat]"),j.length&&(m=j.attr("ng-repeat")||j.attr("data-ng-repeat"),h=jQuery.trim(m.split("|")[0]).split(" ").pop())),function(u,q,p,v){var t=angular.extend({},d,u.$eval(p.uiSelect2));g?(delete t.multiple,delete t.initSelection):f&&(t.multiple=!0);if(v){v.$render=function(){g?q.select2("val",v.$modelValue):f?v.$modelValue?angular.isArray(v.$modelValue)?q.select2("data",v.$modelValue):q.select2("val",v.$modelValue):q.select2("data",[]):angular.isObject(v.$modelValue)?q.select2("data",v.$modelValue):q.select2("val",v.$modelValue)},h&&u.$watch(h,function(r,w,o){if(!r){return}a(function(){q.select2("val",v.$viewValue),q.trigger("change")})});if(!g){q.bind("change",function(){u.$apply(function(){v.$setViewValue(q.select2("data"))
})});if(t.initSelection){var n=t.initSelection;t.initSelection=function(r,o){n(r,function(w){v.$setViewValue(w),o(w)})}}}}p.$observe("disabled",function(o){q.select2(o&&"disable"||"enable")}),p.ngMultiple&&u.$watch(p.ngMultiple,function(o){q.select2(t)}),q.val(u.$eval(p.ngModel)),a(function(){q.select2(t),!t.initSelection&&!g&&v.$setViewValue(q.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(b,a,d){b.$watch(d.uiShow,function(f,g){f?a.addClass("ui-show"):a.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(b,a,d){b.$watch(d.uiHide,function(f,g){f?a.addClass("ui-hide"):a.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(b,a,d){b.$watch(d.uiToggle,function(f,g){f?a.removeClass("ui-hide").addClass("ui-show"):a.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(a){return{require:"?ngModel",link:function(y,g,b,k){var z,e,x,w,q,j,v,m,d;
q=angular.extend({},a.sortable,y.$eval(b.uiSortable)),k&&(k.$render=function(){g.sortable("refresh")},x=function(h,f){f.item.sortable={index:f.item.index()}},w=function(h,f){f.item.sortable.resort=k},z=function(h,f){f.item.sortable.relocate=!0,k.$modelValue.splice(f.item.index(),0,f.item.sortable.moved)},e=function(h,f){k.$modelValue.length===1?f.item.sortable.moved=k.$modelValue.splice(0,1)[0]:f.item.sortable.moved=k.$modelValue.splice(f.item.sortable.index,1)[0]},onStop=function(l,o){if(o.item.sortable.resort&&!o.item.sortable.relocate){var h,f;f=o.item.sortable.index,h=o.item.index(),f<h&&h--,o.item.sortable.resort.$modelValue.splice(h,0,o.item.sortable.resort.$modelValue.splice(f,1)[0])}(o.item.sortable.resort||o.item.sortable.relocate)&&y.$apply()},m=q.start,q.start=function(h,f){x(h,f),typeof m=="function"&&m(h,f)},_stop=q.stop,q.stop=function(h,f){onStop(h,f),typeof _stop=="function"&&_stop(h,f)},d=q.update,q.update=function(h,f){w(h,f),typeof d=="function"&&d(h,f)},j=q.receive,q.receive=function(h,f){z(h,f),typeof j=="function"&&j(h,f)
},v=q.remove,q.remove=function(h,f){e(h,f),typeof v=="function"&&v(h,f)}),g.sortable(q)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(a){return a.tinymce=a.tinymce||{},{require:"ngModel",link:function(d,h,f,b){var e,g={onchange_callback:function(j){j.isDirty()&&(j.save(),b.$setViewValue(h.val()),d.$$phase||d.$apply())},handle_event_callback:function(j){return this.isDirty()&&(this.save(),b.$setViewValue(h.val()),d.$$phase||d.$apply()),!0},setup:function(j){j.onSetContent.add(function(l,k){l.isDirty()&&(l.save(),b.$setViewValue(h.val()),d.$$phase||d.$apply())})}};f.uiTinymce?e=d.$eval(f.uiTinymce):e={},angular.extend(g,a.tinymce,e),setTimeout(function(){h.tinymce(g)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(h,d,k,g){var b,f,j={},a=h.$eval(k.uiValidate);if(!a){return}angular.isString(a)&&(a={validator:a}),angular.forEach(a,function(e,l){b=function(m){return h.$eval(e,{$value:m})?(g.$setValidity(l,!0),m):(g.$setValidity(l,!1),undefined)
},j[l]=b,g.$formatters.push(b),g.$parsers.push(b)}),k.uiValidateWatch&&(f=h.$eval(k.uiValidateWatch),angular.isString(f)?h.$watch(f,function(){angular.forEach(j,function(m,l){m(g.$modelValue)})}):angular.forEach(f,function(e,l){h.$watch(e,function(){j[l](g.$modelValue)})}))}}}),angular.module("ui.filters").filter("format",function(){return function(d,a){if(!d){return d}var f=d.toString(),b;return a===undefined?f:!angular.isArray(a)&&!angular.isObject(a)?f.split("$0").join(a):(b=angular.isArray(a)&&"$"||":",angular.forEach(a,function(h,g){f=f.split(b+g).join(h)}),f)}}),angular.module("ui.filters").filter("highlight",function(){return function(b,a,d){return a||angular.isNumber(a)?(b=b.toString(),a=a.toString(),d?b.split(a).join('<span class="ui-match">'+a+"</span>"):b.replace(new RegExp(a,"gi"),'<span class="ui-match">$&</span>')):b}}),angular.module("ui.filters").filter("inflector",function(){function b(f){return f.replace(/^([a-z])|\s+([a-z])/g,function(g){return g.toUpperCase()})}function a(g,f){return g.replace(/[A-Z]/g,function(h){return f+h
})}var d={humanize:function(e){return b(a(e," ").split("_").join(" "))},underscore:function(f){return f.substr(0,1).toLowerCase()+a(f.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(e){return e=e.substr(0,1).toLowerCase()+b(e.split("_").join(" ")).substr(1).split(" ").join(""),e}};return function(h,f,g){return f!==!1&&angular.isString(h)?(f=f||"humanize",d[f](h)):h}}),angular.module("ui.filters").filter("unique",function(){return function(f,b){if(b===!1){return f}if((b||angular.isUndefined(b))&&angular.isArray(f)){var g={},d=[],a=function(h){return angular.isObject(h)&&angular.isString(b)?h[b]:h};angular.forEach(f,function(k){var h,l=!1;for(var j=0;j<d.length;j++){if(angular.equals(a(d[j]),a(k))){l=!0;break}}l||d.push(k)}),f=d}return f}});(function(a){if(typeof a.fn.each2=="undefined"){a.extend(a.fn,{each2:function(f){var d=a([0]),e=-1,b=this.length;while(++e<b&&(d.context=d[0]=this[e])&&f.call(d[0],e,d)!==false){}return this}})}})(jQuery);(function(G,o){if(window.Select2!==o){return
}var O,R,A,d,a,t,q={x:0,y:0},y,z,O={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(S){S=S.which?S.which:S;switch(S){case O.LEFT:case O.RIGHT:case O.UP:case O.DOWN:return true}return false},isControl:function(T){var S=T.which;switch(S){case O.SHIFT:case O.CTRL:case O.ALT:return true}if(T.metaKey){return true}return false},isFunctionKey:function(S){S=S.which?S.which:S;return S>=112&&S<=123}},E="<div class='select2-measure-scrollbar'></div>",e={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};
y=G(document);a=(function(){var S=1;return function(){return S++}}());function r(S){var T=G(document.createTextNode(""));S.before(T);T.before(S);T.remove()}function f(T){function S(U){return e[U]||U}return T.replace(/[^\u0000-\u007E]/g,S)}function u(U,V){var T=0,S=V.length;for(;T<S;T=T+1){if(w(U,V[T])){return T}}return -1}function Q(){var S=G(E);S.appendTo("body");var T={width:S.width()-S[0].clientWidth,height:S.height()-S[0].clientHeight};S.remove();return T}function w(T,S){if(T===S){return true}if(T===o||S===o){return false}if(T===null||S===null){return false}if(T.constructor===String){return T+""===S+""}if(S.constructor===String){return S+""===T+""}return false}function k(T,V){var W,U,S;if(T===null||T.length<1){return[]}W=T.split(V);for(U=0,S=W.length;U<S;U=U+1){W[U]=G.trim(W[U])}return W}function j(S){return S.outerWidth(false)-S.width()}function J(T){var S="keyup-change-value";T.on("keydown",function(){if(G.data(T,S)===o){G.data(T,S,T.val())}});T.on("keyup",function(){var U=G.data(T,S);
if(U!==o&&T.val()!==U){G.removeData(T,S);T.trigger("keyup-change")}})}function N(S){S.on("mousemove",function(U){var T=q;if(T===o||T.x!==U.pageX||T.y!==U.pageY){G(U.target).trigger("mousemove-filtered",U)}})}function m(V,T,S){S=S||o;var U;return function(){var W=arguments;window.clearTimeout(U);U=window.setTimeout(function(){T.apply(S,W)},V)}}function n(S,U){var T=m(S,function(V){U.trigger("scroll-debounced",V)});U.on("scroll",function(V){if(u(V.target,U.get())>=0){T(V)}})}function M(S){if(S[0]===document.activeElement){return}window.setTimeout(function(){var V=S[0],W=S.val().length,U;S.focus();var T=(V.offsetWidth>0||V.offsetHeight>0);if(T&&V===document.activeElement){if(V.setSelectionRange){V.setSelectionRange(W,W)}else{if(V.createTextRange){U=V.createTextRange();U.collapse(false);U.select()}}}},0)}function g(S){S=G(S)[0];var V=0;var T=0;if("selectionStart" in S){V=S.selectionStart;T=S.selectionEnd-V}else{if("selection" in document){S.focus();var U=document.selection.createRange();T=document.selection.createRange().text.length;
U.moveStart("character",-S.value.length);V=U.text.length-T}}return{offset:V,length:T}}function D(S){S.preventDefault();S.stopPropagation()}function b(S){S.preventDefault();S.stopImmediatePropagation()}function p(T){if(!t){var S=T[0].currentStyle||window.getComputedStyle(T[0],null);t=G(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:S.fontSize,fontFamily:S.fontFamily,fontStyle:S.fontStyle,fontWeight:S.fontWeight,letterSpacing:S.letterSpacing,textTransform:S.textTransform,whiteSpace:"nowrap"});t.attr("class","select2-sizer");G("body").append(t)}t.text(T.val());return t.width()}function l(T,X,S){var V,W=[],U;V=G.trim(T.attr("class"));if(V){V=""+V;G(V.split(/\s+/)).each2(function(){if(this.indexOf("select2-")===0){W.push(this)}})}V=G.trim(X.attr("class"));if(V){V=""+V;G(V.split(/\s+/)).each2(function(){if(this.indexOf("select2-")!==0){U=S(this);if(U){W.push(U)}}})}T.attr("class",W.join(" "))}function x(X,W,U,S){var V=f(X.toUpperCase()).indexOf(f(W.toUpperCase())),T=W.length;
if(V<0){U.push(S(X));return}U.push(S(X.substring(0,V)));U.push("<span class='select2-match'>");U.push(S(X.substring(V,V+T)));U.push("</span>");U.push(S(X.substring(V+T,X.length)))}function K(S){var T={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(S).replace(/[&<>"'\/\\]/g,function(U){return T[U]})}function H(T){var W,U=null,X=T.quietMillis||100,V=T.url,S=this;return function(Y){window.clearTimeout(W);W=window.setTimeout(function(){var ab=T.data,aa=V,ad=T.transport||G.fn.select2.ajaxDefaults.transport,Z={type:T.type||"GET",cache:T.cache||false,jsonpCallback:T.jsonpCallback||o,dataType:T.dataType||"json"},ac=G.extend({},G.fn.select2.ajaxDefaults.params,Z);ab=ab?ab.call(S,Y.term,Y.page,Y.context):null;aa=(typeof aa==="function")?aa.call(S,Y.term,Y.page,Y.context):aa;if(U&&typeof U.abort==="function"){U.abort()}if(T.params){if(G.isFunction(T.params)){G.extend(ac,T.params.call(S))}else{G.extend(ac,T.params)}}G.extend(ac,{url:aa,dataType:T.dataType,data:ab,success:function(af){var ae=T.results(af,Y.page,Y);
Y.callback(ae)},error:function(af,ah,ag){var ae={hasError:true,jqXHR:af,textStatus:ah,errorThrown:ag,};Y.callback(ae)}});U=ad.call(S,ac)},X)}}function L(T){var W=T,V,U,X=function(Y){return""+Y.text};if(G.isArray(W)){U=W;W={results:U}}if(G.isFunction(W)===false){U=W;W=function(){return U}}var S=W();if(S.text){X=S.text;if(!G.isFunction(X)){V=S.text;X=function(Y){return Y[V]}}}return function(aa){var Z=aa.term,Y={results:[]},ab;if(Z===""){aa.callback(W());return}ab=function(ad,af){var ae,ac;ad=ad[0];if(ad.children){ae={};for(ac in ad){if(ad.hasOwnProperty(ac)){ae[ac]=ad[ac]}}ae.children=[];G(ad.children).each2(function(ag,ah){ab(ah,ae.children)});if(ae.children.length||aa.matcher(Z,X(ae),ad)){af.push(ae)}}else{if(aa.matcher(Z,X(ad),ad)){af.push(ad)}}};G(W().results).each2(function(ad,ac){ab(ac,Y.results)});aa.callback(Y)}}function C(T){var S=G.isFunction(T);return function(X){var W=X.term,V={results:[]};var U=S?T(X):T;if(G.isArray(U)){G(U).each(function(){var Y=this.text!==o,Z=Y?this.text:this;
if(W===""||X.matcher(W,Z)){V.results.push(Y?this:{id:this,text:this})}});X.callback(V)}}}function B(S,T){if(G.isFunction(S)){return true}if(!S){return false}if(typeof(S)==="string"){return true}throw new Error(T+" must be a string, function, or falsy value")}function F(U,T){if(G.isFunction(U)){var S=Array.prototype.slice.call(arguments,2);return U.apply(T,S)}return U}function v(S){var T=0;G.each(S,function(U,V){if(V.children){T+=v(V.children)}else{T++}});return T}function h(aa,ab,Y,S){var T=aa,ac=false,V,Z,W,U,X;if(!S.createSearchChoice||!S.tokenSeparators||S.tokenSeparators.length<1){return o}while(true){Z=-1;for(W=0,U=S.tokenSeparators.length;W<U;W++){X=S.tokenSeparators[W];Z=aa.indexOf(X);if(Z>=0){break}}if(Z<0){break}V=aa.substring(0,Z);aa=aa.substring(Z+X.length);if(V.length>0){V=S.createSearchChoice.call(this,V,ab);if(V!==o&&V!==null&&S.id(V)!==o&&S.id(V)!==null){ac=false;for(W=0,U=ab.length;W<U;W++){if(w(S.id(V),S.id(ab[W]))){ac=true;break}}if(!ac){Y(V)}}}}if(T!==aa){return aa}}function I(){var S=this;
G.each(arguments,function(U,T){S[T].remove();S[T]=null})}function P(S,T){var U=function(){};U.prototype=new S;U.prototype.constructor=U;U.prototype.parent=S.prototype;U.prototype=G.extend(U.prototype,T);return U}R=P(Object,{bind:function(T){var S=this;return function(){T.apply(S,arguments)}},init:function(W){var U,T,X=".select2-results";this.opts=W=this.prepareOpts(W);this.id=W.id;if(W.element.data("select2")!==o&&W.element.data("select2")!==null){W.element.data("select2").destroy()}this.container=this.createContainer();this.liveRegion=G("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);this.containerId="s2id_"+(W.element.attr("id")||"autogen"+a());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",W.element.attr("title"));this.body=G("body");l(this.container,this.opts.element,this.opts.adaptContainerCssClass);
this.container.attr("style",W.element.attr("style"));this.container.css(F(W.containerCss,this.opts.element));this.container.addClass(F(W.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",D);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(F(W.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",D);this.results=U=this.container.find(X);this.search=T=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",D);N(this.results);this.dropdown.on("mousemove-filtered",X,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",X,this.bind(function(Y){this._touchEvent=true;
this.highlightUnderEvent(Y)}));this.dropdown.on("touchmove",X,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",X,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(Y){if(this._touchEvent){this._touchEvent=false;this.selectHighlighted()}}));n(80,this.results);this.dropdown.on("scroll-debounced",X,this.bind(this.loadMoreIfNeeded));G(this.container).on("change",".select2-input",function(Y){Y.stopPropagation()});G(this.dropdown).on("change",".select2-input",function(Y){Y.stopPropagation()});if(G.fn.mousewheel){U.mousewheel(function(ab,ac,Z,Y){var aa=U.scrollTop();if(Y>0&&aa-Y<=0){U.scrollTop(0);D(ab)}else{if(Y<0&&U.get(0).scrollHeight-U.scrollTop()+Y<=U.height()){U.scrollTop(U.get(0).scrollHeight-U.height());D(ab)}}})}J(T);T.on("keyup-change input paste",this.bind(this.updateResults));T.on("focus",function(){T.addClass("select2-focused")});T.on("blur",function(){T.removeClass("select2-focused")});this.dropdown.on("mouseup",X,this.bind(function(Y){if(G(Y.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(Y);
this.selectHighlighted(Y)}}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(Y){Y.stopPropagation()});this.nextSearchTerm=o;if(G.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(W.maximumInputLength!==null){this.search.attr("maxlength",W.maximumInputLength)}var V=W.element.prop("disabled");if(V===o){V=false}this.enable(!V);var S=W.element.prop("readonly");if(S===o){S=false}this.readonly(S);z=z||Q();this.autofocus=W.element.prop("autofocus");W.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.search.attr("placeholder",W.searchInputPlaceholder)},destroy:function(){var U=this.opts.element,T=U.data("select2"),S=this;this.close();if(U.length&&U[0].detachEvent){U.each(function(){this.detachEvent("onpropertychange",S._sync)})}if(this.propertyObserver){this.propertyObserver.disconnect();this.propertyObserver=null}this._sync=null;if(T!==o){T.container.remove();T.liveRegion.remove();T.dropdown.remove();U.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);
if(this.elementTabIndex){U.attr({tabindex:this.elementTabIndex})}else{U.removeAttr("tabindex")}U.show()}I.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(S){if(S.is("option")){return{id:S.prop("value"),text:S.text(),element:S.get(),css:S.attr("class"),disabled:S.prop("disabled"),locked:w(S.attr("locked"),"locked")||w(S.data("locked"),true)}}else{if(S.is("optgroup")){return{text:S.attr("label"),children:[],element:S.get(),css:S.attr("class")}}}},prepareOpts:function(X){var V,T,S,W,U=this;V=X.element;if(V.get(0).tagName.toLowerCase()==="select"){this.select=T=X.element}if(T){G.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in X){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}X=G.extend({},{populateResults:function(Z,aa,ac){var ab,ad=this.opts.id,Y=this.liveRegion;ab=function(al,af,ak){var am,ah,ar,ao,ai,aq,ag,ap,an,aj;al=X.sortResults(al,af,ac);
var ae=[];for(am=0,ah=al.length;am<ah;am=am+1){ar=al[am];ai=(ar.disabled===true);ao=(!ai)&&(ad(ar)!==o);aq=ar.children&&ar.children.length>0;ag=G("<li></li>");ag.addClass("select2-results-dept-"+ak);ag.addClass("select2-result");ag.addClass(ao?"select2-result-selectable":"select2-result-unselectable");if(ai){ag.addClass("select2-disabled")}if(aq){ag.addClass("select2-result-with-children")}ag.addClass(U.opts.formatResultCssClass(ar));ag.attr("role","presentation");ap=G(document.createElement("div"));ap.addClass("select2-result-label");ap.attr("id","select2-result-label-"+a());ap.attr("role","option");aj=X.formatResult(ar,ap,ac,U.opts.escapeMarkup);if(aj!==o){ap.html(aj);ag.append(ap)}if(aq){an=G("<ul></ul>");an.addClass("select2-result-sub");ab(ar.children,an,ak+1);ag.append(an)}ag.data("select2-data",ar);ae.push(ag[0])}af.append(ae);Y.text(X.formatMatches(al.length))};ab(aa,Z,0)}},G.fn.select2.defaults,X);if(typeof(X.id)!=="function"){S=X.id;X.id=function(Y){return Y[S]}}if(G.isArray(X.element.data("select2Tags"))){if("tags" in X){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+X.element.attr("id")
}X.tags=X.element.data("select2Tags")}if(T){X.query=this.bind(function(ac){var ab={results:[],more:false},aa=ac.term,Z,Y,ad;ad=function(ae,ag){var af;if(ae.is("option")){if(ac.matcher(aa,ae.text(),ae)){ag.push(U.optionToData(ae))}}else{if(ae.is("optgroup")){af=U.optionToData(ae);ae.children().each2(function(ah,ai){ad(ai,af.children)});if(af.children.length>0){ag.push(af)}}}};Z=V.children();if(this.getPlaceholder()!==o&&Z.length>0){Y=this.getPlaceholderOption();if(Y){Z=Z.not(Y)}}Z.each2(function(ae,af){ad(af,ab.results)});ac.callback(ab)});X.id=function(Y){return Y.id}}else{if(!("query" in X)){if("ajax" in X){W=X.element.data("ajax-url");if(W&&W.length>0){X.ajax.url=W}X.query=H.call(X.element,X.ajax)}else{if("data" in X){X.query=L(X.data)}else{if("tags" in X){X.query=C(X.tags);if(X.createSearchChoice===o){X.createSearchChoice=function(Y){return{id:G.trim(Y),text:G.trim(Y)}}}if(X.initSelection===o){X.initSelection=function(Y,aa){var Z=[];G(k(Y.val(),X.separator)).each(function(){var ac={id:this,text:this},ab=X.tags;
if(G.isFunction(ab)){ab=ab()}G(ab).each(function(){if(w(this.id,ac.id)){ac=this;return false}});Z.push(ac)});aa(Z)}}}}}}}if(typeof(X.query)!=="function"){throw"query function not defined for Select2 "+X.element.attr("id")}if(X.createSearchChoicePosition==="top"){X.createSearchChoicePosition=function(Z,Y){Z.unshift(Y)}}else{if(X.createSearchChoicePosition==="bottom"){X.createSearchChoicePosition=function(Z,Y){Z.push(Y)}}else{if(typeof(X.createSearchChoicePosition)!=="function"){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function"}}}return X},monitorSource:function(){var U=this.opts.element,T,S=this;U.on("change.select2",this.bind(function(V){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));this._sync=this.bind(function(){var W=U.prop("disabled");if(W===o){W=false}this.enable(!W);var V=U.prop("readonly");if(V===o){V=false}this.readonly(V);l(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(F(this.opts.containerCssClass,this.opts.element));
l(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(F(this.opts.dropdownCssClass,this.opts.element))});if(U.length&&U[0].attachEvent){U.each(function(){this.attachEvent("onpropertychange",S._sync)})}T=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(T!==o){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new T(function(V){G.each(V,S._sync)});this.propertyObserver.observe(U.get(0),{attributes:true,subtree:false})}},triggerSelect:function(T){var S=G.Event("select2-selecting",{val:this.id(T),object:T,choice:T});this.opts.element.trigger(S);return !S.isDefaultPrevented()},triggerChange:function(S){S=S||{};S=G.extend({},S,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(S);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()
}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var S=this._enabled&&!this._readonly,T=!S;if(S===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",T);this.close();this.enabledInterface=S;return true},enable:function(S){if(S===o){S=true}if(this._enabled===S){return}this._enabled=S;this.opts.element.prop("disabled",!S);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(S){if(S===o){S=false}if(this._readonly===S){return}this._readonly=S;this.opts.element.prop("readonly",S);this.enableInterface()},opened:function(){return(this.container)?this.container.hasClass("select2-dropdown-open"):false},positionDropdown:function(){var U=this.dropdown,X=this.container.offset(),ag=this.container.outerHeight(false),ah=this.container.outerWidth(false),ac=U.outerHeight(false),ae=G(window),al=ae.width(),aa=ae.height(),T=ae.scrollLeft()+al,ak=ae.scrollTop()+aa,V=X.top+ag,ai=X.left,S=V+ac<=ak,Z=(X.top-ac)>=ae.scrollTop(),ad=U.outerWidth(false),an=ai+ad<=T,am=U.hasClass("select2-drop-above"),Y,aj,W,ab,af;
if(am){aj=true;if(!Z&&S){W=true;aj=false}}else{aj=false;if(!S&&Z){W=true;aj=true}}if(W){U.hide();X=this.container.offset();ag=this.container.outerHeight(false);ah=this.container.outerWidth(false);ac=U.outerHeight(false);T=ae.scrollLeft()+al;ak=ae.scrollTop()+aa;V=X.top+ag;ai=X.left;ad=U.outerWidth(false);an=ai+ad<=T;U.show();this.focusSearch()}if(this.opts.dropdownAutoWidth){af=G(".select2-results",U)[0];U.addClass("select2-drop-auto-width");U.css("width","");ad=U.outerWidth(false)+(af.scrollHeight===af.clientHeight?0:z.width);ad>ah?ah=ad:ad=ah;ac=U.outerHeight(false);an=ai+ad<=T}else{this.container.removeClass("select2-drop-auto-width")}if(this.body.css("position")!=="static"){Y=this.body.offset();V-=Y.top;ai-=Y.left}if(!an){ai=X.left+this.container.outerWidth(false)-ad}ab={left:ai,width:ah};if(aj){ab.top=X.top-ac;ab.bottom="auto";this.container.addClass("select2-drop-above");U.addClass("select2-drop-above")}else{ab.top=V;ab.bottom="auto";this.container.removeClass("select2-drop-above");
U.removeClass("select2-drop-above")}ab=G.extend(ab,F(this.opts.dropdownCss,this.opts.element));U.css(ab)},shouldOpen:function(){var S;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}S=G.Event("select2-opening");this.opts.element.trigger(S);return !S.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();y.on("mousemove.select2Event",function(S){q.x=S.pageX;q.y=S.pageY});return true},opening:function(){var X=this.containerEventName,S="scroll."+X,V="resize."+X,U="orientationchange."+X,T;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body.children().last()[0]){this.dropdown.detach().appendTo(this.body)}T=G("#select2-drop-mask");if(T.length==0){T=G(document.createElement("div"));
T.attr("id","select2-drop-mask").attr("class","select2-drop-mask");T.hide();T.appendTo(this.body);T.on("mousedown touchstart click",function(Z){r(T);var aa=G("#select2-drop"),Y;if(aa.length>0){Y=aa.data("select2");if(Y.opts.selectOnBlur){Y.selectHighlighted({noFocus:true})}Y.close();Z.preventDefault();Z.stopPropagation()}})}if(this.dropdown.prev()[0]!==T[0]){this.dropdown.before(T)}G("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");T.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var W=this;this.container.parents().add(window).each(function(){G(this).on(V+" "+S+" "+U,function(Y){if(W.opened()){W.positionDropdown()}})})},close:function(){if(!this.opened()){return}var V=this.containerEventName,S="scroll."+V,U="resize."+V,T="orientationchange."+V;this.container.parents().add(window).each(function(){G(this).off(S).off(U).off(T)});this.clearDropdownAlignmentPreference();G("#select2-drop-mask").hide();
this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();y.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(G.Event("select2-close"))},externalSearch:function(S){this.open();this.search.val(S);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return F(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var V=this.results,U,Y,T,X,S,aa,Z,W;Y=this.highlight();if(Y<0){return}if(Y==0){V.scrollTop(0);return}U=this.findHighlightableChoices().find(".select2-result-label");T=G(U[Y]);W=(T.offset()||{}).top||0;X=W+T.outerHeight(true);if(Y===U.length-1){Z=V.find("li.select2-more-results");if(Z.length>0){X=Z.offset().top+Z.outerHeight(true)}}S=V.offset().top+V.outerHeight(true);if(X>S){V.scrollTop(V.scrollTop()+(X-S))}aa=W-V.offset().top;if(aa<0&&T.css("display")!="none"){V.scrollTop(V.scrollTop()+aa)
}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(V){var U=this.findHighlightableChoices(),T=this.highlight();while(T>-1&&T<U.length){T+=V;var S=G(U[T]);if(S.hasClass("select2-result-selectable")&&!S.hasClass("select2-disabled")&&!S.hasClass("select2-selected")){this.highlight(T);break}}},highlight:function(T){var V=this.findHighlightableChoices(),S,U;if(arguments.length===0){return u(V.filter(".select2-highlighted")[0],V.get())}if(T>=V.length){T=V.length-1}if(T<0){T=0}this.removeHighlight();S=G(V[T]);S.addClass("select2-highlighted");this.search.attr("aria-activedescendant",S.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(S.text());U=S.data("select2-data");if(U){this.opts.element.trigger({type:"select2-highlight",val:this.id(U),choice:U})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")
},touchMoved:function(){this._touchMoved=true},clearTouchMoved:function(){this._touchMoved=false},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(T){var S=G(T.target).closest(".select2-result-selectable");if(S.length>0&&!S.is(".select2-highlighted")){var U=this.findHighlightableChoices();this.highlight(U.index(S))}else{if(S.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var W=this.results,V=W.find("li.select2-more-results"),Y,X=this.resultsPage+1,S=this,U=this.search.val(),T=this.context;if(V.length===0){return}Y=V.offset().top-W.offset().top-W.height();if(Y<=this.opts.loadMorePadding){V.addClass("select2-active");this.opts.query({element:this.opts.element,term:U,page:X,context:T,matcher:this.opts.matcher,callback:this.bind(function(Z){if(!S.opened()){return}S.opts.populateResults.call(this,W,Z.results,{term:U,page:X,context:T});S.postprocessResults(Z,false,false);if(Z.more===true){V.detach().appendTo(W).text(F(S.opts.formatLoadMore,S.opts.element,X+1));
window.setTimeout(function(){S.loadMoreIfNeeded()},10)}else{V.remove()}S.positionDropdown();S.resultsPage=X;S.context=Z.context;this.opts.element.trigger({type:"select2-loaded",items:Z})})})}},tokenize:function(){},updateResults:function(aa){var ae=this.search,Y=this.results,S=this.opts,X,ad=this,ab,W=ae.val(),U=G.data(this.container,"select2-last-term"),ac;if(aa!==true&&U&&w(W,U)){return}G.data(this.container,"select2-last-term",W);if(aa!==true&&(this.showSearchInput===false||!this.opened())){return}function Z(){ae.removeClass("select2-active");ad.positionDropdown();if(Y.find(".select2-no-results,.select2-selection-limit,.select2-searching").length){ad.liveRegion.text(Y.text())}else{ad.liveRegion.text(ad.opts.formatMatches(Y.find(".select2-result-selectable").length))}}function T(af){Y.html(af);Z()}ac=++this.queryCount;var V=this.getMaximumSelectionSize();if(V>=1){X=this.data();if(G.isArray(X)&&X.length>=V&&B(S.formatSelectionTooBig,"formatSelectionTooBig")){T("<li class='select2-selection-limit'>"+F(S.formatSelectionTooBig,S.element,V)+"</li>");
return}}if(ae.val().length<S.minimumInputLength){if(B(S.formatInputTooShort,"formatInputTooShort")){T("<li class='select2-no-results'>"+F(S.formatInputTooShort,S.element,ae.val(),S.minimumInputLength)+"</li>")}else{T("")}if(aa&&this.showSearch){this.showSearch(true)}return}if(S.maximumInputLength&&ae.val().length>S.maximumInputLength){if(B(S.formatInputTooLong,"formatInputTooLong")){T("<li class='select2-no-results'>"+F(S.formatInputTooLong,S.element,ae.val(),S.maximumInputLength)+"</li>")}else{T("")}return}if(S.formatSearching&&this.findHighlightableChoices().length===0){T("<li class='select2-searching'>"+F(S.formatSearching,S.element)+"</li>")}ae.addClass("select2-active");this.removeHighlight();ab=this.tokenize();if(ab!=o&&ab!=null){ae.val(ab)}this.resultsPage=1;S.query({element:S.element,term:ae.val(),page:this.resultsPage,context:null,matcher:S.matcher,callback:this.bind(function(ag){var af;if(ac!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");
return}if(ag.hasError!==o&&B(S.formatAjaxError,"formatAjaxError")){T("<li class='select2-ajax-error'>"+F(S.formatAjaxError,S.element,ag.jqXHR,ag.textStatus,ag.errorThrown)+"</li>");return}this.context=(ag.context===o)?null:ag.context;if(this.opts.createSearchChoice&&ae.val()!==""){af=this.opts.createSearchChoice.call(ad,ae.val(),ag.results);if(af!==o&&af!==null&&ad.id(af)!==o&&ad.id(af)!==null){if(G(ag.results).filter(function(){return w(ad.id(this),ad.id(af))}).length===0){this.opts.createSearchChoicePosition(ag.results,af)}}}if(ag.results.length===0&&B(S.formatNoMatches,"formatNoMatches")){T("<li class='select2-no-results'>"+F(S.formatNoMatches,S.element,ae.val())+"</li>");return}Y.empty();ad.opts.populateResults.call(this,Y,ag.results,{term:ae.val(),page:this.resultsPage,context:null});if(ag.more===true&&B(S.formatLoadMore,"formatLoadMore")){Y.append("<li class='select2-more-results'>"+S.escapeMarkup(F(S.formatLoadMore,S.element,this.resultsPage))+"</li>");window.setTimeout(function(){ad.loadMoreIfNeeded()
},10)}this.postprocessResults(ag,aa);Z();this.opts.element.trigger({type:"select2-loaded",items:ag})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){M(this.search)},selectHighlighted:function(T){if(this._touchMoved){this.clearTouchMoved();return}var S=this.highlight(),U=this.results.find(".select2-highlighted"),V=U.closest(".select2-result").data("select2-data");if(V){this.highlight(S);this.onSelect(V,T)}else{if(T&&T.noFocus){this.close()}}},getPlaceholder:function(){var S;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((S=this.getPlaceholderOption())!==o?S.text():o)
},getPlaceholderOption:function(){if(this.select){var S=this.select.children("option").first();if(this.opts.placeholderOption!==o){return(this.opts.placeholderOption==="first"&&S)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(G.trim(S.text())===""&&S.val()===""){return S}}}},initContainerWidth:function(){function T(){var Y,W,Z,X,V,U;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){Y=this.opts.element.attr("style");if(Y!==o){W=Y.split(";");for(X=0,V=W.length;X<V;X=X+1){U=W[X].replace(/\s/g,"");Z=U.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(Z!==null&&Z.length>=1){return Z[1]}}}if(this.opts.width==="resolve"){Y=this.opts.element.css("width");if(Y.indexOf("%")>0){return Y}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")
}return null}else{if(G.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var S=T.call(this);if(S!==null){this.container.css("width",S)}}});A=P(R,{createContainer:function(){var S=G(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));
return S},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var U,T,S;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}if(this.opts.shouldFocusInput(this)){this.search.focus();U=this.search.get(0);if(U.createTextRange){T=U.createTextRange();T.collapse(false);T.select()}else{if(U.setSelectionRange){S=this.search.val().length;U.setSelectionRange(S,S)}}}if(this.search.val()===""){if(this.nextSearchTerm!=o){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(G.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()
}},focus:function(){if(this.opened()){this.close()}else{this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}},destroy:function(){G("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);I.call(this,"selection","focusser")},initContainer:function(){var V,S=this.container,X=this.dropdown,W=a(),U;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=V=S.find(".select2-choice");this.focusser=S.find(".select2-focusser");V.find(".select2-chosen").attr("id","select2-chosen-"+W);this.focusser.attr("aria-labelledby","select2-chosen-"+W);this.results.attr("id","select2-results-"+W);this.search.attr("aria-owns","select2-results-"+W);
this.focusser.attr("id","s2id_autogen"+W);U=G("label[for='"+this.opts.element.attr("id")+"']");this.focusser.prev().text(U.text()).attr("for",this.focusser.attr("id"));var T=this.opts.element.attr("title");this.opts.element.attr("title",(T||U.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(G("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(Y){if(!this.isInterfaceEnabled()){return}if(229==Y.keyCode){return}if(Y.which===O.PAGE_UP||Y.which===O.PAGE_DOWN){D(Y);return}switch(Y.which){case O.UP:case O.DOWN:this.moveHighlight((Y.which===O.UP)?-1:1);D(Y);return;case O.ENTER:this.selectHighlighted();D(Y);return;case O.TAB:this.selectHighlighted({noFocus:true});return;case O.ESC:this.cancel(Y);D(Y);return}}));this.search.on("blur",this.bind(function(Y){if(document.activeElement===this.body.get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus()
}}),0)}}));this.focusser.on("keydown",this.bind(function(Y){if(!this.isInterfaceEnabled()){return}if(Y.which===O.TAB||O.isControl(Y)||O.isFunctionKey(Y)||Y.which===O.ESC){return}if(this.opts.openOnEnter===false&&Y.which===O.ENTER){D(Y);return}if(Y.which==O.DOWN||Y.which==O.UP||(Y.which==O.ENTER&&this.opts.openOnEnter)){if(Y.altKey||Y.ctrlKey||Y.shiftKey||Y.metaKey){return}this.open();D(Y);return}if(Y.which==O.DELETE||Y.which==O.BACKSPACE){if(this.opts.allowClear){this.clear()}D(Y);return}}));J(this.focusser);this.focusser.on("keyup-change input",this.bind(function(Y){if(this.opts.minimumResultsForSearch>=0){Y.stopPropagation();if(this.opened()){return}this.open()}}));V.on("mousedown touchstart","abbr",this.bind(function(Y){if(!this.isInterfaceEnabled()){return}this.clear();b(Y);this.close();this.selection.focus()}));V.on("mousedown touchstart",this.bind(function(Y){r(V);if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}if(this.opened()){this.close()
}else{if(this.isInterfaceEnabled()){this.open()}}D(Y)}));X.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this)){this.search.focus()}}));V.on("focus",this.bind(function(Y){D(Y)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(G.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(U){var V=this.selection.data("select2-data");if(V){var T=G.Event("select2-clearing");this.opts.element.trigger(T);
if(T.isDefaultPrevented()){return}var S=this.getPlaceholderOption();this.opts.element.val(S?S.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(U!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(V),choice:V});this.triggerChange({removed:V})}}},initSelection:function(){var T;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var S=this;this.opts.initSelection.call(null,this.opts.element,function(U){if(U!==o&&U!==null){S.updateSelection(U);S.close();S.setPlaceholder();S.nextSearchTerm=S.opts.nextSearchTerm(U,S.search.val())}})}},isPlaceholderOptionSelected:function(){var S;if(this.getPlaceholder()===o){return false}return((S=this.getPlaceholderOption())!==o&&S.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===o)||(this.opts.element.val()===null)},prepareOpts:function(){var T=this.parent.prepareOpts.apply(this,arguments),S=this;
if(T.element.get(0).tagName.toLowerCase()==="select"){T.initSelection=function(U,W){var V=U.find("option").filter(function(){return this.selected&&!this.disabled});W(S.optionToData(V))}}else{if("data" in T){T.initSelection=T.initSelection||function(V,X){var W=V.val();var U=null;T.query({matcher:function(Y,ab,Z){var aa=w(W,T.id(Z));if(aa){U=Z}return aa},callback:!G.isFunction(X)?G.noop:function(){X(U)}})}}}return T},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===o){return o}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var S=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&S!==o){if(this.select&&this.getPlaceholderOption()===o){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(S));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(X,T,W){var V=0,S=this,Y=true;this.findHighlightableChoices().each2(function(Z,aa){if(w(S.id(aa.data("select2-data")),S.opts.element.val())){V=Z;
return false}});if(W!==false){if(T===true&&V>=0){this.highlight(V)}else{this.highlight(0)}}if(T===true){var U=this.opts.minimumResultsForSearch;if(U>=0){this.showSearch(v(X.results)>=U)}}},showSearch:function(S){if(this.showSearchInput===S){return}this.showSearchInput=S;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!S);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!S);G(this.dropdown,this.container).toggleClass("select2-with-searchbox",S)},onSelect:function(U,T){if(!this.triggerSelect(U)){return}var S=this.opts.element.val(),V=this.data();this.opts.element.val(this.id(U));this.updateSelection(U);this.opts.element.trigger({type:"select2-selected",val:this.id(U),choice:U});this.nextSearchTerm=this.opts.nextSearchTerm(U,this.search.val());this.close();if((!T||!T.noFocus)&&this.opts.shouldFocusInput(this)){this.focusser.focus()}if(!w(S,this.id(U))){this.triggerChange({added:U,removed:V})}},updateSelection:function(V){var T=this.selection.find(".select2-chosen"),U,S;
this.selection.data("select2-data",V);T.empty();if(V!==null){U=this.opts.formatSelection(V,T,this.opts.escapeMarkup)}if(U!==o){T.append(U)}S=this.opts.formatSelectionCssClass(V,T);if(S!==o){T.addClass(S)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==o){this.container.addClass("select2-allowclear")}},val:function(){var W,T=false,U=null,S=this,V=this.data();if(arguments.length===0){return this.opts.element.val()}W=arguments[0];if(arguments.length>1){T=arguments[1]}if(this.select){this.select.val(W).find("option").filter(function(){return this.selected}).each2(function(X,Y){U=S.optionToData(Y);return false});this.updateSelection(U);this.setPlaceholder();if(T){this.triggerChange({added:U,removed:V})}}else{if(!W&&W!==0){this.clear(T);return}if(this.opts.initSelection===o){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(W);this.opts.initSelection(this.opts.element,function(X){S.opts.element.val(!X?"":S.id(X));
S.updateSelection(X);S.setPlaceholder();if(T){S.triggerChange({added:X,removed:V})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(U){var T,S=false;if(arguments.length===0){T=this.selection.data("select2-data");if(T==o){T=null}return T}else{if(arguments.length>1){S=arguments[1]}if(!U){this.clear(S)}else{T=this.data();this.opts.element.val(!U?"":this.id(U));this.updateSelection(U);if(S){this.triggerChange({added:U,removed:T})}}}}});d=P(R,{createContainer:function(){var S=G(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));
return S},prepareOpts:function(){var T=this.parent.prepareOpts.apply(this,arguments),S=this;if(T.element.get(0).tagName.toLowerCase()==="select"){T.initSelection=function(U,W){var V=[];U.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(X,Y){V.push(S.optionToData(Y))});W(V)}}else{if("data" in T){T.initSelection=T.initSelection||function(U,X){var V=k(U.val(),T.separator);var W=[];T.query({matcher:function(Y,ab,Z){var aa=G.grep(V,function(ac){return w(ac,T.id(Z))}).length;if(aa){W.push(Z)}return aa},callback:!G.isFunction(X)?G.noop:function(){var Y=[];for(var ab=0;ab<V.length;ab++){var ac=V[ab];for(var aa=0;aa<W.length;aa++){var Z=W[aa];if(w(ac,T.id(Z))){Y.push(Z);W.splice(aa,1);break}}}X(Y)}})}}}return T},selectChoice:function(S){var T=this.container.find(".select2-search-choice-focus");if(T.length&&S&&S[0]==T[0]){}else{if(T.length){this.opts.element.trigger("choice-deselected",T)}T.removeClass("select2-search-choice-focus");if(S&&S.length){this.close();
S.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",S)}}},destroy:function(){G("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);I.call(this,"searchContainer","selection")},initContainer:function(){var S=".select2-choices",T;this.searchContainer=this.container.find(".select2-search-field");this.selection=T=this.container.find(S);var U=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(V){U.search[0].focus();U.selectChoice(G(this))});this.search.attr("id","s2id_autogen"+a());this.search.prev().text(G("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(this.search.attr("placeholder")&&this.search.val().length==0){return}if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;
this.search.on("keydown",this.bind(function(Z){if(!this.isInterfaceEnabled()){return}++this.keydowns;var X=T.find(".select2-search-choice-focus");var Y=X.prev(".select2-search-choice:not(.select2-locked)");var W=X.next(".select2-search-choice:not(.select2-locked)");var aa=g(this.search);if(X.length&&(Z.which==O.LEFT||Z.which==O.RIGHT||Z.which==O.BACKSPACE||Z.which==O.DELETE||Z.which==O.ENTER)){var V=X;if(Z.which==O.LEFT&&Y.length){V=Y}else{if(Z.which==O.RIGHT){V=W.length?W:null}else{if(Z.which===O.BACKSPACE){if(this.unselect(X.first())){this.search.width(10);V=Y.length?Y:W}}else{if(Z.which==O.DELETE){if(this.unselect(X.first())){this.search.width(10);V=W.length?W:null}}else{if(Z.which==O.ENTER){V=null}}}}}this.selectChoice(V);D(Z);if(!V||!V.length){this.open()}return}else{if(((Z.which===O.BACKSPACE&&this.keydowns==1)||Z.which==O.LEFT)&&(aa.offset==0&&!aa.length)){this.selectChoice(T.find(".select2-search-choice:not(.select2-locked)").last());D(Z);return}else{this.selectChoice(null)}}if(this.opened()){switch(Z.which){case O.UP:case O.DOWN:this.moveHighlight((Z.which===O.UP)?-1:1);
D(Z);return;case O.ENTER:this.selectHighlighted();D(Z);return;case O.TAB:this.selectHighlighted({noFocus:true});this.close();return;case O.ESC:this.cancel(Z);D(Z);return}}if(Z.which===O.TAB||O.isControl(Z)||O.isFunctionKey(Z)||Z.which===O.BACKSPACE||Z.which===O.ESC){return}if(Z.which===O.ENTER){if(this.opts.openOnEnter===false){return}else{if(Z.altKey||Z.ctrlKey||Z.shiftKey||Z.metaKey){return}}}this.open();if(Z.which===O.PAGE_UP||Z.which===O.PAGE_DOWN){D(Z)}if(Z.which===O.ENTER){D(Z)}}));this.search.on("keyup",this.bind(function(V){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(V){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}V.stopImmediatePropagation();this.opts.element.trigger(G.Event("select2-blur"))}));this.container.on("click",S,this.bind(function(V){if(!this.isInterfaceEnabled()){return}if(G(V.target).closest(".select2-search-choice").length>0){return
}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.open();this.focusSearch();V.preventDefault()}));this.container.on("focus",S,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var T;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var S=this;this.opts.initSelection.call(null,this.opts.element,function(U){if(U!==o&&U!==null){S.updateSelection(U);
S.close();S.clearSearch()}})}},clearSearch:function(){var T=this.getPlaceholder(),S=this.getMaxSearchWidth();if(T!==o&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(T).addClass("select2-default");this.search.width(S>0?S:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();if(this.search.val()===""){if(this.nextSearchTerm!=o){this.search.val(this.nextSearchTerm);this.search.select()}}this.updateResults(true);if(this.opts.shouldFocusInput(this)){this.search.focus()}this.opts.element.trigger(G.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")
},updateSelection:function(V){var U=[],T=[],S=this;G(V).each(function(){if(u(S.id(this),U)<0){U.push(S.id(this));T.push(this)}});V=T;this.selection.find(".select2-search-choice").remove();G(V).each(function(){S.addSelectedChoice(this)});S.postprocessResults()},tokenize:function(){var S=this.search.val();S=this.opts.tokenizer.call(this,S,this.data(),this.bind(this.onSelect),this.opts);if(S!=null&&S!=o){this.search.val(S);if(S.length>0){this.open()}}},onSelect:function(T,S){if(!this.triggerSelect(T)||T.text===""){return}this.addSelectedChoice(T);this.opts.element.trigger({type:"selected",val:this.id(T),choice:T});this.nextSearchTerm=this.opts.nextSearchTerm(T,this.search.val());this.clearSearch();this.updateResults();if(this.select||!this.opts.closeOnSelect){this.postprocessResults(T,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)
}else{if(this.nextSearchTerm!=o){this.search.val(this.nextSearchTerm);this.updateResults();this.search.select()}}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:T});if(!S||!S.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(W){var Y=!W.locked,U=G("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),Z=G("<li class='select2-search-choice select2-locked'><div></div></li>");var V=Y?U:Z,S=this.id(W),T=this.getVal(),X,aa;X=this.opts.formatSelection(W,V.find("div"),this.opts.escapeMarkup);if(X!=o){V.find("div").replaceWith("<div>"+X+"</div>")}aa=this.opts.formatSelectionCssClass(W,V.find("div"));if(aa!=o){V.addClass(aa)}if(Y){V.find(".select2-search-choice-close").on("mousedown",D).on("click dblclick",this.bind(function(ab){if(!this.isInterfaceEnabled()){return}this.unselect(G(ab.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");
D(ab);this.close();this.focusSearch()})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}V.data("select2-data",W);V.insertBefore(this.searchContainer);T.push(S);this.setVal(T)},unselect:function(U){var W=this.getVal(),V,T;U=U.closest(".select2-search-choice");if(U.length===0){throw"Invalid argument: "+U+". Must be .select2-search-choice"}V=U.data("select2-data");if(!V){return}var S=G.Event("select2-removing");S.val=this.id(V);S.choice=V;this.opts.element.trigger(S);if(S.isDefaultPrevented()){return false}while((T=u(this.id(V),W))>=0){W.splice(T,1);this.setVal(W);if(this.select){this.postprocessResults()}}U.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(V),choice:V});this.triggerChange({removed:V});return true},postprocessResults:function(W,T,V){var X=this.getVal(),Y=this.results.find(".select2-result"),U=this.results.find(".select2-result-with-children"),S=this;
Y.each2(function(aa,Z){var ab=S.id(Z.data("select2-data"));if(u(ab,X)>=0){Z.addClass("select2-selected");Z.find(".select2-result-selectable").addClass("select2-selected")}});U.each2(function(aa,Z){if(!Z.is(".select2-result-selectable")&&Z.find(".select2-result-selectable:not(.select2-selected)").length===0){Z.addClass("select2-selected")}});if(this.highlight()==-1&&V!==false){S.highlight(0)}if(!this.opts.createSearchChoice&&!Y.filter(".select2-result:not(.select2-selected)").length>0){if(!W||W&&!W.more&&this.results.find(".select2-no-results").length===0){if(B(S.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+F(S.opts.formatNoMatches,S.opts.element,S.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-j(this.search)},resizeSearch:function(){var X,V,U,S,T,W=j(this.search);X=p(this.search)+10;V=this.search.offset().left;U=this.selection.width();S=this.selection.offset().left;T=U-(V-S)-W;if(T<X){T=U-W}if(T<40){T=U-W
}if(T<=0){T=X}this.search.width(Math.floor(T))},getVal:function(){var S;if(this.select){S=this.select.val();return S===null?[]:S}else{S=this.opts.element.val();return k(S,this.opts.separator)}},setVal:function(T){var S;if(this.select){this.select.val(T)}else{S=[];G(T).each(function(){if(u(this,S)<0){S.push(this)}});this.opts.element.val(S.length===0?"":S.join(this.opts.separator))}},buildChangeDetails:function(S,V){var V=V.slice(0),S=S.slice(0);for(var U=0;U<V.length;U++){for(var T=0;T<S.length;T++){if(w(this.opts.id(V[U]),this.opts.id(S[T]))){V.splice(U,1);if(U>0){U--}S.splice(T,1);T--}}}return{added:V,removed:S}},val:function(V,T){var U,S=this;if(arguments.length===0){return this.getVal()}U=this.data();if(!U.length){U=[]}if(!V&&V!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(T){this.triggerChange({added:this.data(),removed:U})}return}this.setVal(V);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(T){this.triggerChange(this.buildChangeDetails(U,this.data()))
}}else{if(this.opts.initSelection===o){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(X){var W=G.map(X,S.id);S.setVal(W);S.updateSelection(X);S.clearSearch();if(T){S.triggerChange(S.buildChangeDetails(U,S.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var T=[],S=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){T.push(S.opts.id(G(this).data("select2-data")))});this.setVal(T);this.triggerChange()},data:function(U,V){var T=this,W,S;if(arguments.length===0){return this.selection.children(".select2-search-choice").map(function(){return G(this).data("select2-data")}).get()}else{S=this.data();
if(!U){U=[]}W=G.map(U,function(X){return T.opts.id(X)});this.setVal(W);this.updateSelection(U);this.clearSearch();if(V){this.triggerChange(this.buildChangeDetails(S,this.data()))}}}});G.fn.select2=function(){var X=Array.prototype.slice.call(arguments,0),T,W,S,Z,ab,aa=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],Y=["opened","isFocused","container","dropdown"],U=["val","data"],V={search:"externalSearch"};this.each(function(){if(X.length===0||typeof(X[0])==="object"){T=X.length===0?{}:G.extend({},X[0]);T.element=G(this);if(T.element.get(0).tagName.toLowerCase()==="select"){ab=T.element.prop("multiple")}else{ab=T.multiple||false;if("tags" in T){T.multiple=ab=true}}W=ab?new window.Select2["class"].multi():new window.Select2["class"].single();W.init(T)}else{if(typeof(X[0])==="string"){if(u(X[0],aa)<0){throw"Unknown method: "+X[0]}Z=o;W=G(this).data("select2");if(W===o){return
}S=X[0];if(S==="container"){Z=W.container}else{if(S==="dropdown"){Z=W.dropdown}else{if(V[S]){S=V[S]}Z=W[S].apply(W,X.slice(1))}}if(u(X[0],Y)>=0||(u(X[0],U)>=0&&X.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+X}}});return(Z===o)?this:Z};G.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(T,U,W,S){var V=[];x(T.text,W.term,V,S);return V.join("")},formatSelection:function(U,T,S){return U?S(U.text):o},sortResults:function(T,S,U){return T},formatResultCssClass:function(S){return S.css},formatSelectionCssClass:function(T,S){return o},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(S){return S==o?null:S.id},matcher:function(S,T){return f(""+T).toUpperCase().indexOf(f(""+S).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:h,escapeMarkup:K,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(S){return S
},adaptDropdownCssClass:function(S){return null},nextSearchTerm:function(S,T){return o},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(S){var T=(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0));if(!T){return true}if(S.opts.minimumResultsForSearch<0){return false}return true}};G.fn.select2.locales=[];G.fn.select2.locales.en={formatMatches:function(S){if(S===1){return"One result is available, press enter to select it."}return S+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(S,U,T){return"Loading failed"},formatInputTooShort:function(S,T){var U=T-S.length;return"Please enter "+U+" or more character"+(U==1?"":"s")},formatInputTooLong:function(T,S){var U=T.length-S;return"Please delete "+U+" character"+(U==1?"":"s")},formatSelectionTooBig:function(S){return"You can only select "+S+" item"+(S==1?"":"s")},formatLoadMore:function(S){return"Loading more results"
},formatSearching:function(){return"Searching"},};G.extend(G.fn.select2.defaults,G.fn.select2.locales.en);G.fn.select2.ajaxDefaults={transport:G.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:H,local:L,tags:C},util:{debounce:m,markMatch:x,escapeMarkup:K,stripDiacritics:f},"class":{"abstract":R,single:A,multi:d}}}(jQuery));function sBrowserInfoIsDefined(a){return(a=typeof a)!=="undefined"&&a!=="unknown"}function sBrowserInfoSetCookie(){var m="s_stats_browser_info";var g=document.cookie;if(g.indexOf(m)!==-1){return}var k={pdf:["pdf","application/pdf","0"],quicktime:["qt","video/quicktime","0"],realplayer:["realp","audio/x-pn-realaudio-plugin","0"],wma:["wma","application/x-mplayer2","0"],director:["dir","application/x-director","0"],flash:["fla","application/x-shockwave-flash","0"],java:["java","application/x-java-vm","0"],gears:["gears","application/x-googlegears","0"],silverlight:["ag","application/x-silverlight","0"]};var j;var d;var e=navigator;var l=window;
var h=screen;if(sBrowserInfoIsDefined(e.javaEnabled)&&e.javaEnabled()){k.java[2]="1"}if(typeof l.GearsFactory==="function"){k.gears[2]="1"}if(e.mimeTypes&&e.mimeTypes.length){for(j in k){d=e.mimeTypes[k[j][1]];if(d&&d.enabledPlugin){k[j][2]="1"}}}var b=new Date();b.setTime(b.getTime()+(24*60*60*1000*7));b="; expires="+b.toGMTString();var f={};f.pluginInfo=k;f.res=h.width+"x"+h.height;var a=m+"="+escape($.toJSON(f))+b+";path=/";document.cookie=a}var autoLogoutMessagesSet=false;var smartSearch="";var searching=false;var AUTOCOMPLETE_ITEM_TYPE_USER="u";var AUTOCOMPLETE_ITEM_TYPE_GROUP="g";var AUTOCOMPLETE_ITEM_TYPE_COURSE="c";var AUTOCOMPLETE_ITEM_TYPE_MATERIAL="a";var AUTOCOMPLETE_ITEM_FULL_USER_SEARCH="gp";var AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH="gc";var AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH="gg";Drupal.behaviors.schoology=function(a){if(autoLogoutMessagesSet==false){addAutoLogoutMessages();autoLogoutMessagesSet=true}if($.browser.msie){$("input[type=radio]:not(.schoology-processed), input[type=checkbox]:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){$(this).bind("click",function(){try{this.blur();
this.focus()}catch(d){}})})}$("#nav_left .primary-activities:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var j=$(this);var d=$(".clickable",j);var h=$(".activities-dropdown-wrapper",j);var g;var e=false;$(document).bind("s_sitetour_step_onload",function(){e=true});var f=j.attr("id");d.click(function(m){m.preventDefault();var l=$(this).siblings(".activities-dropdown-wrapper");g=$(this).parent(".primary-activities");if(l.is(":visible")){l.hide();$(this).removeClass("active");g.removeClass("active");return}$(".activities-dropdown-wrapper").hide();$("#nav_left .primary-activities .clickable.active, #primary-library #my-apps a.active, #nav_left .primary-activities.active").removeClass("active");if(typeof ajaxURL!="undefined"&&!l.hasClass("no-ajax")){var k=$('<div class="activities-dropdown-wrapper"><img class="ajax-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" /></div>');j.append(k);k.show();d.addClass("active");g.addClass("active");
$.ajax({url:ajaxURL,dataType:"json",success:function(o){h=$(o.data);k.replaceWith(h);h.show();Drupal.attachBehaviors(h);d.addClass("active");g.addClass("active");sGroupSetupMore(ajaxURL,h,1);if(e){$(document).trigger("dropdown-loaded")}}});return false}if(f=="primary-courses"||f=="primary-groups"){sAngular.contextExec(l.children(".s-dropdown"))}else{l.toggle();if(e){$(document).bind("s_sitetour_default_trigger",function(){$(document).trigger("dropdown-loaded")})}}if(f=="primary-library"){d.addClass("active");g.addClass("active")}var n=h.is(":visible");if(!n){$(".activities-dropdown-wrapper").hide();$("#nav_left .primary-activities .clickable.active, #nav_left .primary-activities.active").removeClass("active");h.show({duration:1,complete:function(){if(e&&l.hasClass("loaded")){$(document).trigger("dropdown-loaded")}}});d.addClass("active");g.addClass("active")}});$("body").bind("click",function(m){var l=$(m.target);var k=!l.hasClass("dropdown-reorder")&&l.parents(".dropdown-reorder:first").length==0;
if(k&&!l.hasClass("activities-dropdown-wrapper")&&l.parents(".activities-dropdown-wrapper").length==0&&!l.hasClass("clickable")&&!l.hasClass("dropdown")){d.removeClass("active");g&&g.removeClass("active");h.hide()}})});$(".user-menu #primary-settings .unfold:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=$(this);var e=d.parent();d.bind("click",function(h){var f=$("ul",e);var g=f.is(":visible");$("body").click();if(!g){f.show();d.addClass("active")}else{f.hide();d.removeClass("active")}h.preventDefault()});$("body").bind("click",function(g){var f=$(g.target);if(f.parents("#"+e.attr("id")).length==0){$("ul",e).hide();d.removeClass("active")}})});$(".like-btn:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=$(this);d.bind("click",function(){var e=d.attr("ajax");$.ajaxSecure({url:e,dataType:"json",async:false,success:function(h){var f=h.h;var g=h.t;if(g=="n"){sLikeUpdateSentenceN(d,h)}else{if(g=="c"){sLikeUpdateSentenceC(d,h)
}}d.find(".content").html(f)}})})});$(".like-details-btn:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=Popups.options({extraClass:"popups-medium likers"});$(this).click(function(){return Popups.clickPopupElement(this,d)})});$(".user-menu #primary-requests:not(.schoology-processed)").addClass("schoology-processed").each(function(){var e=$(this);var f=$(".request-wrapper",e);var d=$(".unread-reqs",e);d.bind("click",function(g){g.preventDefault();if(f.html().length){f.toggleClass("hide");$(this).toggleClass("active")}else{if(!f.hasClass("loading")){f.addClass("loading").removeClass("hide");$(this).addClass("active");$.ajax({url:"/requests/ajax",dataType:"json",success:function(h){html=$(h.html);f.removeClass("loading").append(html);$(".notifier",d).remove();Drupal.attachBehaviors(html)}})}}});$("body").bind("click",function(h){var g=$(h.target);if(g.parents("#"+e.attr("id")).length==0){f.addClass("hide");d.removeClass("active")}})});$(".user-menu #private-messages:not(.schoology-processed)").addClass("schoology-processed").each(function(){var e=$(this);
var f=$(".message-wrapper",e);var d=$(".unread-messages",e);d.bind("click",function(g){g.preventDefault();if(f.html().length){f.toggleClass("hide");$(this).toggleClass("active")}else{if(!f.hasClass("loading")){f.addClass("loading").removeClass("hide");$(this).addClass("active");$.ajax({url:"/messaging/latest/ajax",dataType:"json",success:function(h){html=$(h.output);f.removeClass("loading").append(html);Popups.attach(a,".new-msg-link",Popups.options({extraClass:"popups-large new-message-popup",doneTest:"^(?!messages/new)"}));$(".message-wrapper li.read").each(function(){$(this).click(function(j){document.location.href=$(".subject-link",this).attr("href")})});Drupal.attachBehaviors(html)}})}}});$("body").bind("click",function(h){var g=$(h.target);if(g.parents("#"+e.attr("id")).length!=0){return}f.addClass("hide");d.removeClass("active")});$(document).bind("popups_open_path",function(j,h,g){if(!$(h).hasClass("new-msg-link")){return}var k=$("form#privatemsg-new");if(k.length==0){return}k.remove();
$(document).one("popups_close",function(){window.location.reload()})})});$(".s-js-ajax-secure:not(.sAjaxSecure-processed)",a).addClass("sAjaxSecure-processed").each(function(){var d=$(this);d.on("click",function(g){var f="";g.preventDefault();Popups.removePopup();Popups.addLoading();if(d.data("s-js-ajax-secure-href")!=undefined){f=d.data("s-js-ajax-secure-href")}$.ajaxSecure({url:d.attr("href"),success:function(){window.location.href=f}})})});$(".s-js-home-requests .accept-req:not(.schoology-processed), .s-js-home-requests .deny-req:not(.schoology-processed)").addClass("schoology-processed").each(function(){$(this).on("click",function(f){var d=$(this);if(d.hasClass("disabled")){return false}d.addClass("disabled");var g=function(h,e,j){if(h.drupal_set_message&&h.drupal_set_message!=""){addMessages([{value:h.drupal_set_message}],"status temp")}d.parents("li").eq(0).fadeOut("fast",function(){var k=d.parents("ul.s-js-home-requests");if(k.find("li.list-item:visible").length==0){$("li.show-all",k).hide();
k.prepend('<li class="list-item no-requests"> '+Drupal.t("You have no pending requests")+"</li>")}})};$.ajaxSecure({url:d.attr("href"),success:g});f.preventDefault()})});$(".user-menu #primary-notifications:not(.schoology-processed)").addClass("schoology-processed").each(function(){var e=$(this);var f=$(".notification-wrapper",e);var d=$(".unread-notifications",e);d.bind("click",function(g){g.preventDefault();if(f.html().length){f.toggleClass("hide");$(this).toggleClass("active")}else{if(!f.hasClass("loading")){f.addClass("loading").removeClass("hide");$(this).addClass("active");$.ajax({url:"/notifications/ajax",dataType:"json",success:function(h){sEdgeMoreAddCSS(h.css);sEdgeMoreAddJS(h.js,function(){var j=$(h.output);f.removeClass("loading").append(j);Drupal.attachBehaviors(f);$(".notifier",d).remove()})}})}}});$("body").bind("click",function(h){var g=$(h.target);if(g.parents("#"+e.attr("id")).length!=0){return}f.addClass("hide");d.removeClass("active")})});$(".user-menu #primary-notifications .link-btn:not(.schoology-processed)").addClass("schoology-processed").each(function(){var d=$(this);
d.bind("click",function(){ajaxURL="/"+$(this).attr("ajax");$.ajax({url:ajaxURL,dataType:"json",success:function(e){d.parents("li").eq(0).fadeOut()}})})});$("tr.draggable:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){sCommonSetupTableDrag($(this))});$(".popups-body a.cancel-btn:not(.schoology-processed),.popups-body span.cancel-btn:not(.schoology-processed):not(.cancel-btn-form-element)").addClass("schoology-processed").each(function(){$(this).click(function(d){d.preventDefault();sPopupsClose()})});$(".feed-header a.update:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){$(this).click(function(){var d=$(this).parent().parent().find(".feed-hidden");if(d.is(":hidden")){d.slideDown("fast")}else{d.slideUp("fast")}return false})});$("#block-feedback-form:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){$("#block-feedback-form textarea").elastic()});$("#nav_left #search .search-toggle:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=$(this);
d.click(function(h){var g="#navigation_search";var f=$(g);if(f.is(":visible")){f.hide();d.removeClass("active");$(".ac_results").hide()}else{f.show();$(".searcher",f).focus();d.addClass("active");b(g,d)}})});function b(e,d){$("#body:not("+e+")").off("click").on("click",function(h){var f=$(h.target);var g=$(e);if(f.parents(e).length===0&&"#"+h.target.id!==e){if(!f.hasClass("search-toggle")){g.hide();d.removeClass("active");$(".ac_results").hide()}}})}$("#nav_left #basic a:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=$(this);d.click(function(){var e=$("#basic-menu-dropdown");if(e.is(":visible")){e.hide();d.removeClass("active")}else{$(".active").each(function(f,g){var h=$(g);var j=$("#"+h.attr("aria-controls"));h.removeClass("active");j.hide()});e.show();d.addClass("active")}});$("body").bind("click",function(h){var g=$(h.target);var f=$("#basic-menu-dropdown");if(!g.parents("#basic").length){f.hide();d.removeClass("active")}})});$("#nav_left #search #nav-search a:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){$(this).click(function(){var d=$("#nav_left #search form input").val();
if(d==""||d=="Search"){window.href.location="/search"}else{if($(".search-break").length){window.location.href="/search/user?s="+d}else{window.location.href="/search?s="+d}}return false})});$("#nav_left #search input.searcher:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var e=$(this);var d={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};e.focus(function(){if(smartSearch==""){e.addClass("text-normal");searching=true;$.getJSON("/ajaxsearch/smart",function(f){smartSearch=f;enableSmartSearch(smartSearch)})}}).blur(function(){if(e.val()==Drupal.t("Search")){e.removeClass("text-normal")}}).keyup(function(f){var g=$("input.searcher").val();$("input.search-query").val(g);if(!searching){e.click()}}).bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(f){switch(f.keyCode){case d.TAB:f.keyCode=d.ESC;case d.ESC:$("#nav_left #search .search-toggle").trigger("click");break}})});$("#user-language-selector:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var d=$(this);
$(".current-language",d).bind("click",function(){$("form",d).toggle();$(this).toggleClass("active")});d.on("keydown",function(f){var e=d.find("input:visible").last()[0];if(f.target===e){$("form",d).toggle();$(this).toggleClass("active")}})});$("body:not(.schoology-processed)").addClass("schoology-processed").each(function(){if(Drupal.ahah){Drupal.ahah.prototype.error=function(o,q){var p='<div class="messages error">'+Drupal.ahahError(o,q)+"</div>";$(p).hide();if($("#smart-box-messages").length>0){$("#smart-box-messages").after($(p))}else{$("#sidebar-left").after($(p))}$(p).slideDown();$(this.element).parent("form").attr({action:this.form_action,target:this.form_target});if(this.progress.element){$(this.progress.element).remove()}if(this.progress.object){this.progress.object.stopMonitoring()}$(this.wrapper).show();$(this.element).removeClass("progess-disabled").prop("readonly",false)}}if($.fn.sHideObjectEmbed){$(document).sHideObjectEmbed({hide_events:["popups_open_path"],show_events:["popups_close"],object_selector:"object,iframe:not(.tinymce,.s-hide-object-embed-ignore)"})
}if(Drupal.settings.s_site_tour){if(Drupal.settings.s_site_tour.loaded){return}Drupal.settings.s_site_tour.loaded=true;var f=[],m=0;var d=function(){if(typeof f[m]!="undefined"){$(document).sSiteTour(f[m++])}};$.each(Drupal.settings.s_site_tour,function(o,p){if(typeof p=="object"&&typeof p.autostart=="undefined"||p.autostart){f.push(p)}});if(f.length){$(document).bind("s_site_tour_finished",function(o){d()});d()}}var n=getQueryParams();if(typeof n.prompt_verification!="undefined"){var l="";var h;var j;var g=Drupal.settings.s_user.deletion_date;var k=Drupal.settings.s_user.min_age;if(n.prompt_verification=="denied"){l+='<div class="verification-header"><span class="verify-phrase"><span class="inline-icon medium verification-error"></span>'+Drupal.t("Unable to Verify Your Account")+"</span></div>";l+="<p>"+Drupal.t("Unfortunately we were unable to verify your identity based on the information you provided. Please resubmit a verification request with your updated information.")+"</p>"}else{l+='<div class="verification-header"><span class="verify-phrase"><span class="inline-icon medium verify"></span>'+Drupal.t("Please Verify Your Account")+"</span></div>"
}l+="<p>"+Drupal.t("As part of an ongoing process to ensure the safety of students using our platform, Schoology requires instructors teaching students under the age of !min_age to verify their identities. Your students cannot register for a Schoology account until you have been verified.",{"!min_age":k})+"</p>";h=Drupal.t("Cancel");j=false;var e={extraClass:" account-verification-popup",title:Drupal.t("Verify Your Account"),body:l,confirm:{text:Drupal.t("Verify"),func:function(){location.href="verify/advanced"}},cancel:{text:h,func:function(){var o=window.location.href;var o=o.replace("prompt_verification=","");location.href=o}},hideConfirm:j};sCommonConfirmationPopup(e)}});processMessages(a);$("#center-inner > div.messages:not(.sSchoologyMessages-processed)",a).addClass("sSchoologyMessages-processed").each(function(){$("#main-content-wrapper").prepend($(this))});$(".grade-level-init:not(.sSchoology-processed)",a).addClass("sSchoology-processed").each(function(){sCommonGradeChooserBehavior($(this))
})};function sGroupSetupMore(b,e,a){a++;var d=$(".group-more-link",e);d.click(function(){d.html('<img class="ajax-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" />');d.addClass("is-loading");$.ajax({url:b+"?page="+a,dataType:"json",success:function(g){var f=$(".my-groups-item-list",g.data).html();$(".group-more",e).replaceWith(f);sGroupSetupMore(b,e,a)}})})}function processMessages(a){$(".messages",a).each(function(){var b=$(this);if((b.is(".status")||b.is(".warning")||b.is(".error"))&&$(".messages-close-btn",b).length==0){var d=$('<div class="messages-close-btn">x</div>');d.click(function(){d.parent().fadeOut()});d.hide();b.prepend(d);d.fadeIn()}});$(".messages.temp:not(.schoology-processed)",a).addClass("schoology-processed").each(function(){var b=$(this);setTimeout(function(){b.fadeOut("",function(){if(b.parents(".popups-body").length>0){sPopupsResizeCenter()}})},10000)})}function addMessages(b,e,d){if(typeof e=="undefined"){var e=""}if(typeof d=="undefined"){var d=$("#main-content-wrapper")
}var a=$(".messages-wrapper",d);if(!a.length){a=$('<div class="messages-wrapper"></div>').prependTo(d)}$.each(b,function(f,g){a.append('<div class="messages '+e+'">'+g.value+"</div>")});processMessages(d)}function enableSmartSearch(a){$("form#navigation_search").bind("submit",function(){return false});autoCompleteOptions={minChars:1,width:310,matchContains:true,mustMatch:false,scroll:false,multiple:false,max:false,autoFill:false,formatItem:function(o,h,m){var b="";var k=false;var l=o.t;var g=o.n1?String(o.n1):"";var f=o.n3?String(o.n3):"";var e=o.n4?String(o.n4):"";var n=!o.p||!o.p.length?0:o.p.length;if($(".search-break").length){b="schoology-break";k=5}if(h>k&&l!==AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH&&l!==AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH&&l!==AUTOCOMPLETE_ITEM_FULL_USER_SEARCH){return false}switch(l){case AUTOCOMPLETE_ITEM_TYPE_USER:html='<div class="ac-result"><div class="ac-picture"><img src="'+o.p+'" /></div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+f+"</div></div></div>";
break;case AUTOCOMPLETE_ITEM_TYPE_COURSE:if(!n){var j="/system/files/imagecache/profile_tiny/"+Drupal.settings.s_common.default_realm_profiles.course;html='<div class="ac-result"><div class="ac-picture"><img src="'+j+'" /></div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+f+"</div></div></div>"}else{html='<div class="ac-result"><div class="ac-picture"><img src="'+o.p+'" /></div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+f+"</div></div></div>"}break;case AUTOCOMPLETE_ITEM_TYPE_GROUP:if(!n){var j="/system/files/imagecache/profile_tiny/"+Drupal.settings.s_common.default_realm_profiles.group;html='<div class="ac-result"><div class="ac-picture"><img src="'+j+'" /></div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+f+"</div></div></div>"}else{var j="/system/files/imagecache/profile_tiny/grouplogos/"+o.p;html='<div class="ac-result"><div class="ac-picture"><img src="'+j+'" /></div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+f+"</div></div></div>"
}break;case AUTOCOMPLETE_ITEM_TYPE_MATERIAL:var d=o.ha==1?"asmt-pic":((o.p==1)?"disc-pic":"asn-pic");html='<div class="ac-result"><div id="'+d+'" class="ac-icon">&nbsp;</div><div class="ac-content"><div class="ac-top">'+g+'</div><div class="ac-bot">'+e+" : "+f+"</div></div></div>";break;case AUTOCOMPLETE_ITEM_FULL_USER_SEARCH:$("#nav_left #search input.searcher").trigger("keypress");html='<div class="ac-result schoology '+b+'"><div class="autocomplete-inner">'+Drupal.t("%term in ",{"%term":$("#nav_left #search input[name='search_box']").val()})+"<b>"+Drupal.t("People")+"</b></div></div>";break;case AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH:$("#nav_left #search input.searcher").trigger("keypress");html='<div class="ac-result schoology '+b+'"><div class="autocomplete-inner">'+Drupal.t("%term in ",{"%term":$("#nav_left #search input[name='search_box']").val()})+"<b>"+Drupal.t("Courses")+"</b></div></div>";break;case AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH:$("#nav_left #search input.searcher").trigger("keypress");
html='<div class="ac-result schoology '+b+'"><div class="autocomplete-inner">'+Drupal.t("%term in ",{"%term":$("#nav_left #search input[name='search_box']").val()})+"<b>"+Drupal.t("Groups")+"</b></div></div>";break}return html},formatMatch:function(g,d,b){var f=g.t;switch(f){case AUTOCOMPLETE_ITEM_TYPE_USER:case AUTOCOMPLETE_ITEM_TYPE_GROUP:case AUTOCOMPLETE_ITEM_TYPE_MATERIAL:return g.n1;case AUTOCOMPLETE_ITEM_TYPE_COURSE:var e=g.n1+" : "+g.n2;return e;case AUTOCOMPLETE_ITEM_FULL_USER_SEARCH:case AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH:case AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH:return"%"}},formatResult:function(f,d,b){var e=f.t;if(e===AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH||e===AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH||e===AUTOCOMPLETE_ITEM_FULL_USER_SEARCH){return" "}}};$("#nav_left #search input.searcher").autocomplete(a,autoCompleteOptions).result(function(b,e,d){autoCompleteResult(e)}).blur().focus()}function autoCompleteResult(d){var b=d.t;var a="";var e=$("#nav_left #search form input").val();
switch(b){case AUTOCOMPLETE_ITEM_TYPE_USER:a="/user/"+d.i;break;case AUTOCOMPLETE_ITEM_TYPE_GROUP:a="/group/"+d.i;break;case AUTOCOMPLETE_ITEM_TYPE_COURSE:a="/course/"+d.i;break;case AUTOCOMPLETE_ITEM_TYPE_MATERIAL:a=d.p!==1?"/assignment/"+d.i:"/course/"+d.c+"/materials/discussion/view/"+d.d;break;case AUTOCOMPLETE_ITEM_FULL_USER_SEARCH:a="/search/user?s="+e;break;case AUTOCOMPLETE_ITEM_FULL_COURSE_SEARCH:a="/search/course?s="+e;break;case AUTOCOMPLETE_ITEM_FULL_GROUP_SEARCH:a="/search/group?s="+e;break}window.location.href=a;return false}function addAutoLogoutMessages(){if(Drupal.settings.s_common&&Drupal.settings.s_common.autologout_enabled){var a=Drupal.settings.s_common.timeout;var b=Drupal.settings.s_common.refresh_delta;if(a>300){setTimeout("displayAutoLogoutWarning("+a+")",1000*(a-300));setTimeout("displayAutoLogoutMessage("+a+")",1000*a)}}}function displayAutoLogoutWarning(b){var a='<div id="autologout-warning" class="messages warning" style="display: none"><table><tr><td><div class="messages-icon"></div></td><td><div class="message-text">'+Drupal.t("For security reasons, Schoology users are automatically logged out after !time minutes of inactivity.  If you remain inactive over the next 5 minutes, you will have to log back in.",{"!time":Math.round(b/60)})+"</div></td></tr></table></div>";
$("#sidebar-left").after(a);$("#autologout-warning").slideDown()}var changesWarningShown=false;function displayChangesWarning(){if(!changesWarningShown){var a='<div id="changes-warning" class="messages warning" style="display: none"><div class="messages-container"><table role="presentation"><tr><td><div class="messages-icon"></div></td><td><div class="message-text">'+Drupal.t('The changes you have made will not be saved until you click "Save changes" below.')+"</div></td></tr></table></div></div>";$("#main-content-wrapper").prepend(a);$("#changes-warning").slideDown();changesWarningShown=true}}function displayAutoLogoutMessage(b){var a=Drupal.t("You have been logged out of Schoology due to inactivity.");alert(a)}Drupal.theme.prototype.popupTemplate=function(a){var b;b+='<div id="'+a+'" class="popups-box">';b+='  <div class="popups-title">';b+='    <div class="popups-close"><a href="#">'+Drupal.t("Close")+"</a></div>";b+='    <div class="title">%title</div>';b+='    <div class="clear-block"></div>';
b+="  </div>";b+='  <div class="popups-body">%body<div class="popups-buttons">%buttons</div></div>';b+='  <div class="popups-footer"></div>';b+="</div>";return b};function microtime(b){var a=new Date().getTime()/1000;var d=parseInt(a);return(b)?a:(Math.round((a-d)*1000)/1000)+" "+d}function logTime(){if(!logTime.counter){logTime.counter=1}if(!logTime.lastTime){logTime.lastTime=microtime(true)}var b=microtime(true);var a=logTime.counter+": "+(b-logTime.lastTime);logTime.counter++;logTime.lastTime=b;return a}function sEdgeMoreAddCSS(f){if(Drupal.settings.aggregated_css){var b=Drupal.settings.aggregated_css}else{var b=[]}for(var g in f){for(var e in f[g]){var h=f[g][e];var j=$(h).attr("href");var a=$(h).attr("href_orig");var d=jQuery.inArray(a,b)!=-1;if(!$('link[href="'+jqSelector(a)+'"]').length&&!d){$("head").append(h)}}}}function sLikeUpdateSentenceN(b,g){var d=g.c;var f=g.s;var e=b.siblings(".feed-comments, .blog-like-wrapper");var a=$(".s-like-sentence",e);if(!d){a.remove()}else{if(d&&a.length){a.html(f);
a.removeClass("popups-processed");Drupal.attachBehaviors(a);$(".feed-comments-top",e).show()}else{$(".feed-comments-top, .blog-like-sentence",e).after(f);$(".feed-comments-top",e).show()}}}function sLikeUpdateSentenceC(b,f){var d=f.c;var e=f.s;var a=b.siblings(".s-like-comment");if(!d){a.remove()}else{if(d&&a.length){a.replaceWith(e)}else{b.after(e)}}Drupal.attachBehaviors(b.parent())}if(window.XDomainRequest){(function(){var d=[],b=0,a=false;function e(){if(!a&&typeof d[b]!="undefined"){a=true;var f=d[b];b++;f()}}jQuery.ajaxTransport("text",function(g,j,h){if(g.crossDomain&&!g.async){if(g.timeout){g.xdrTimeout=g.timeout;delete g.timeout}var f;return{send:function(l,k){function m(n,q,p,o){f.onload=f.onerror=f.ontimeout=jQuery.noop;f=undefined;k.call(this,n,q,p,o);a=false;e()}f=new XDomainRequest();f.onload=function(){m(200,"OK",{text:f.responseText},"Content-Type: "+f.contentType)};f.onerror=function(){m(404,"Not Found")};f.onprogress=jQuery.noop;f.ontimeout=function(){m(0,"timeout")};f.timeout=g.xdrTimeout||Number.MAX_VALUE;
d.push(function(){f.open(g.type,g.url,true);f.send((g.hasContent&&g.data)||null)});e()},abort:function(){if(f){f.onerror=jQuery.noop;f.abort();a=false;e()}}}}})})()}var sEdgeMoreAddedJs=[];function sEdgeMoreAddJS(js,callback){if(typeof callback!="function"){callback=$.noop}if(Drupal.settings.aggregated_js){var aggregatedJS=Drupal.settings.aggregated_js}else{var aggregatedJS=[]}var scripts=[];for(var file in js.s_edge){var src=$(js.s_edge[file]).attr("src");var srcOrig=$(js.s_edge[file]).attr("src_orig");scripts.push([src,srcOrig])}for(var file in js.module){var src=$(js.module[file]).attr("src");var srcOrig=$(js.module[file]).attr("src_orig");scripts.push([src,srcOrig])}for(var file in js.theme){var src=$(js.theme[file]).attr("src");var srcOrig=$(js.theme[file]).attr("src_orig");scripts.push([src,srcOrig])}if(js.setting){jQuery.extend(Drupal.settings,js.setting)}if(js.popups_setting&&typeof(Drupal.settings.popups)=="undefined"){Drupal.settings.popups=[];jQuery.extend(Drupal.settings.popups,js.popups_setting)
}if(js.popups_links){if(Drupal.settings.popups&&Drupal.settings.popups.links){jQuery.extend(Drupal.settings.popups.links,js.popups_links)}else{Drupal.settings.popups.links=js.popups_links}}var scriptsToLoad=[];for(var i in scripts){var script=scripts[i];var src=script[0];var srcOrig=script[1];var preloadedJS=jQuery.inArray(srcOrig,aggregatedJS)!=-1;if(!$('script[src="'+jqSelector(srcOrig)+'"]').length&&!preloadedJS&&jQuery.inArray(srcOrig,sEdgeMoreAddedJs)==-1){scriptsToLoad.push(src);sEdgeMoreAddedJs.push(srcOrig)}}if(scriptsToLoad.length>0){var scriptsDeferreds=[];$.each(scriptsToLoad,function(i,src){scriptsDeferreds.push($.ajax({type:"GET",url:src,dataType:"text"}))});$.when.apply($,scriptsDeferreds).then(function(){var responses=typeof(arguments[0])=="string"?[arguments]:arguments;$.each(responses,function(i,res){if(res[1]=="success"){eval.apply(window,[res[0]])}});callback()})}else{callback()}}String.prototype.strip_tags=function(b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");
var a=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;var d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return this.replace(d,"").replace(a,function(f,e){return b.indexOf("<"+e.toLowerCase()+">")>-1?f:""})};String.prototype.lpad=function(a,b){var d=this;while(d.length<b){d=a+d}return d};String.prototype.rpad=function(a,b){var d=this;while(d.length<b){d=d+a}return d};function array_diff(d){var h=arguments.length,g={},f="",e=1,b="",a={};arr1keys:for(f in d){for(e=1;e<h;e++){a=arguments[e];for(b in a){if(a[b]===d[f]){continue arr1keys}}g[f]=d[f]}}return g}function jqSelector(a){return a.replace(/([\?\/;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")}function getUrlVars(){var e=[],d;var a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");for(var b=0;b<a.length;b++){d=a[b].split("=");e.push(d[0]);e[d[0]]=d[1]}return e}function s_pathinfo(b){var d=b.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);var a={protocol:d[2],host:d[4],path:d[5],query:d[7],fragment:d[9]};
return a}function isLinkOrEmbed(a){if(a.match(/(\<(?:object|iframe|embed|script).+(?:(?:\<\/(?:object|iframe|embed|script)\>)|(?:.*\/>)))/i)){return true}if(!a.match(/(https?:\/\/)/)){a="http://"+a}if(a.match(/(https?:\/\/)([-a-zA-Z0-9\[!#\$&;=\?_~]*\.[-a-zA-Z0-9\[!#\$&;=\?_~]*)/i)){return true}return false}function sAttachBehaviors(a,b){if(typeof b=="undefined"){return}$.each(a,function(d,e){if(typeof Drupal.behaviors[e]=="function"){Drupal.behaviors[e](b)}})}function sAttachBehavior(b,a){if(typeof b!="string"){return}return sAttachBehaviors([b],a)}function sPopupsResizeCenter(b){if(typeof(Popups)=="undefined"){return}var a=null;if(typeof b=="number"&&typeof Popups.popupStack[b]!="undefined"){a=Popups.popupStack[b]}else{a=Popups.activePopup()}if(a!=null){Popups.resizeAndCenter(a)}}function sPopupsToggleAjaxOverlay(){if(typeof(Popups)=="undefined"){return}popup=Popups.activePopup();var a='<img id="popup-loading-ajax-gif" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" />';
if(popup!=null){var b=$("#"+popup.id+" .popups-body");if(b.hasClass("active-loading-popup")){b.removeClass("active-loading-popup");$("#popup-loading-ajax-gif").remove()}else{b.addClass("active-loading-popup");b.prepend(a)}}}function sPopupsClose(){if(typeof(Popups)=="undefined"){return}var a=Popups.activePopup();if(a!=null){Popups.close()}}function sPopupsCloseAll(){if(typeof(Popups)=="undefined"){return}var a=(Popups.popupStack.length-1);while(a>=0){Popups.popupStack[a].close();a--}}function getQueryParams(h){var f={};var j,b=/\+/g,g=/([^&=]+)=?([^&]*)/g,k=function(a){return decodeURIComponent(a.replace(b," "))};if(typeof h=="undefined"){var h=window.location.search.substring(1)}else{h=h.split("?");h=h[1];if(!h){return{}}}while(j=g.exec(h)){f[k(j[1])]=k(j[2])}return f}function getQueryParamVal(a){urlParams=getQueryParams();return urlParams[a]}function setLocationPath(a,f){var e=window.location.pathname;e=e.split("/");e.shift();e[a]=f;var d=window.location.search.substring(1);if(typeof d!="undefined"){d=d?"?"+d:d
}else{d=""}var b=window.location.origin+"/"+e.join("/")+d;location.href=b}function setQueryParams(b,j,e,h,g){var a=location.href;var f=getQueryParams(g);f[b]=j;f=$.param(f);f=f?"?"+f:"";if(h){return f}var d=window.location.origin+window.location.pathname+f;if(e){location.href=d}return d}function setQueryParamsQ(d,a,f,e){if(typeof e=="undefined"){e=false}var b=getQueryParams(d);d=d.split("?");if(e){delete b[a]}else{b[a]=f}b=$.param(b);b=b?"?"+b:"";return d[0]+b}function sUserSetupRealmNotifButton(b){var a=function(){if(typeof Drupal.settings.s_user!="undefined"&&typeof Drupal.settings.s_user.profile_notif_defaults!="undefined"){var d=Drupal.settings.s_user.profile_notif_defaults;$("input.form-checkbox").each(function(){var e=$(this).attr("name");if(d.indexOf(e)>-1){$(this).prop("checked",true)}else{$(this).prop("checked",false)}})}};sCommonSetupInlinePopup(b,{buttonClass:"notification-settings",cancel:a})}function sUserGetUISettings(){var b=Array.prototype.slice.call(arguments);var a=Drupal.settings.s_user_ui_settings;
if(typeof a=="undefined"){return null}$.each(b,function(e,d){if(a===null||typeof a[d]=="undefined"){a=null;return}else{a=a[d]}});return a}function sUserSetUISettings(){var b=Array.prototype.slice.call(arguments);var d=b.pop();if(typeof Drupal.settings.s_user_ui_settings=="undefined"||$.isArray(Drupal.settings.s_user_ui_settings)){Drupal.settings.s_user_ui_settings={}}var e=Drupal.settings.s_user_ui_settings;$.each(b,function(g,f){if(g==b.length-1){e[f]=d}else{if(typeof e[f]=="undefined"){e[f]={}}e=e[f]}});if(typeof window.sUserSettingsTimer!="undefined"){clearTimeout(sUserSettingsTimer)}var a=Array.prototype.slice.call(arguments);window.sUserSettingsTimer=setTimeout(function(){sUserSaveUISettings.apply(this,a)},1000)}function sUserSaveUISettings(){var a=Array.prototype.slice.call(arguments);var b=a.pop();if(a.length>0){$.ajaxSecure({url:"/settings/ui",type:"post",data:{update:$.toJSON({keys:a,value:b})}})}}function sCommonSetupInlinePopup(f,a){var e={buttonClass:"",cancel:function(){}};
a=$.extend(e,a);var d=$("div.inline-popup-wrapper"),g=$(".inline-popup-ajax-content",d);var b=function(h){h.preventDefault();$("body").unbind("click.inline-popup");d.hide();f.removeClass("active");a.cancel()};f.click(function(h){h.preventDefault();d.toggle();if(d.is(":visible")){$("body").bind("click.inline-popup",function(k){var j=$(k.target);if(!j.is("."+a.buttonClass)&&!(j.parents("."+a.buttonClass).length>0)&&!(j.parents(".inline-popup-wrapper:first").length>0)){$("body").unbind("click.inline-popup");d.hide();f.removeClass("active")}});f.addClass("active");g.not(".ajax-loaded, .throbber").each(function(){var j=$(this),k=j.attr("src"),l={"X-Drupal-Render-Mode":"json/popups","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};if(k){j.addClass("throbber");$.ajax({url:k,dataType:"json",headers:l,success:function(n){j.removeClass("throbber").addClass("ajax-loaded");if(n.content){j.append(n.content);var m=$("form",j);if(m.length){m.ajaxForm({iframe:false,dataType:"json",success:function(p,o,q){$.each(["status","error","warning"],function(r,t){if(typeof p["messages_"+t]!="undefined"){addMessages(p["messages_"+t],t)
}});f.triggerHandler("click")}});$(".cancel-btn",m).click(b)}}}})}else{j.addClass("ajax-loaded")}})}else{$("body").unbind("click.inline-popup");f.removeClass("active")}});$(".cancel-btn",d).click(b)}function sCourseSetupTodoList(a){$(".reminder-link",a).each(function(){var b=$(this);b.click(function(f){var d=b.parents(".reminders-content:first");d.addClass("active-loading");d.prepend('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" id="reminder-outside-loader" alt="" />');$.ajax({url:"/"+b.attr("href"),dataType:"json",type:"GET",success:function(g,e){d.empty();d.append(g);var j=$(".reminder-selector",d);if(j.length>0){var l="/home/reminders_list";var h=j.attr("id");if(h!="home-reminder"){var k=h.split("-");l="/course/"+k.pop()+"/reminders_list"}j.selectmenu({style:"dropdown"});j.change(function(){var m=$(".reminders-list-items",d);m.empty();m.append('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="" />');var n=$(this).val();$.ajax({url:l+"/"+n,dataType:"json",type:"GET",success:function(p,o){m.empty();
m.append(p);Drupal.attachBehaviors(m)}})})}d.removeClass("active-loading");Drupal.attachBehaviors(d)}});f.preventDefault()})})}function sCommonAjaxNetworkConnectBehavior(a,b){$("a.network-action-ajax:not(.sCommon-processed)",a).addClass("sCommon-processed").each(function(){$(this).click(function(){var e=$(this);var d=$(this).attr("href");$.ajaxSecure({url:d,dataType:"json",success:function(h,f){if(h.drupal_set_message&&h.drupal_set_message!=""){addMessages([{value:h.drupal_set_message}],"status temp")}if(h.result.hasOwnProperty("connect_status")){if(b.hasOwnProperty(h.result.connect_status)){var g=$(b[h.result.connect_status].button)}e.replaceWith(g);if(g.siblings(".infotip-content:first").length>0){g.siblings(".infotip-content:first").text(b[h.result.connect_status].cluetip_text)}}},error:function(){alert(Drupal.t("Something went wrong with your request. Please try again later."))}});return false})})}function sCommonAjaxEnrollmentBehavior(a){$("a.enrollment-action-button:not(.sCommon-processed)",a).addClass("sCommon-processed").each(function(){$(this).click(function(g){g.stopPropagation();
var d=$(this);var f=$(this).attr("href");var b=$('<img class="s-enrollment-loading-ajax-gif" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" />');var h="";if(d.hasClass("infotip-version")){h="infotip=TRUE";d.parent("span.infotip:first").trigger("mouseleave");d.parent("span.infotip:first").replaceWith(b)}else{d.replaceWith(b)}$.ajaxSecure({url:f,dataType:"json",data:h,success:function(k,e){if(k.hasOwnProperty("force_reload")){location.reload()}else{if(k.hasOwnProperty("new_button")){var j=$(k.new_button);b.replaceWith(j);sCommonAjaxEnrollmentBehavior(j.parent(":first"));Drupal.attachBehaviors(j.parent(":first"))}else{b.replaceWith('<span class="link-btn error">'+Drupal.t("Error")+"</span>")}}},error:function(j,e){b.replaceWith('<span class="link-btn error">'+Drupal.t("Error")+"</span>")}});return false})})}function sCommonDefaultConnectStatusResponseMap(){return{TW_1_TO_2_P:{button:'<span class="action-connect-request-pending link-btn"><span>'+Drupal.t("Pending")+"</span></span>",cluetip_text:Drupal.t("Pending connection request")}}
}function sCommonGradeChooserBehavior(f){var e=$(".end-range-wrapper",f);var d=$("select",e);var b=$(".add-range",f);var g=$(".range-start",f);var a=$("input.has-end",e);if(a.val()=="1"){e.show()}g.change(function(){var l=$(this).val();var h=$('optgroup[label="'+Drupal.t("Higher Education")+'"]',g);var k=h.length?$("option:last-child",h).attr("value"):$("option:last-child",this).attr("value");if(l!=0&&l!=k){if(!e.is(":visible")){b.show()}}else{b.hide();e.hide()}var j=false;if(parseInt(l)>parseInt(d.val())){j=true}sCommonResetGradeLevelRange(g,e,j)});g.change();b.click(function(){e.show();d.show().trigger("focus");$(this).hide();sCommonResetGradeLevelRange(g,e,true);a.val("1")});$(".remove-range",f).click(function(){e.hide();b.show().trigger("focus");a.val("0")})}function sCommonResetGradeLevelRange(f,e,a){var b=parseInt(f.val());var d=$("option:last-child",f).attr("value");$("option",e).each(function(){var j=$(this);var k=parseInt(j.attr("value"));var h=$('optgroup[label="'+Drupal.t("Primary/Secondary")+'"]',e);
if(k<=b||b==0){if(k!=0){j.hide();if(k==14&&b!=0){h.hide()}}else{j.show()}}else{j.show();if(k<=14&&b!=0){h.show()}}if(a){var g=parseInt(f.val())+1;$("option[value="+g+"]",e).attr("selected","selected")}})}function sCommonGetSuggestionBlock(a){var d="";var b=a+"BlockReady";switch(a){case"suggestions":d="/network/suggestions_block";break;case"groups":d="/groups/suggestions";break;case"apps":d="/apps/suggestions";break}if(d.length>0){$.ajax({url:d,dataType:"html",async:true,data:{ajax:1},success:function(e){$(document).trigger(b,[e])},error:function(e){return""}})}}function sCommonDeleteCallback(e,b,d){if($(".folder-title").length){url=$(".folder-title a").attr("href")}else{var f=$(".course-title a").attr("href")+"/materials/";var a=$("body");if(a.hasClass("s_grade_item_assignment")){url=f+"assignments"}else{if(a.hasClass("s-grade-item-discussion")){url=f+"discussion"}else{if(a.hasClass("s_grade_item_assessment")){url=f+"assessments"}}}}window.location.href=url;return false}function sCommonSetupTableDrag(a){var d=$(".tabledrag-handle",a);
var b=$(".handle",d);d.hover(function(){b.addClass("handle-mousedown")},function(){b.removeClass("handle-mousedown")}).bind("mousedown",function(){a.addClass("highlight");$("body").one("mouseup",function(){a.removeClass("highlight");b.removeClass("handle-mousedown")})})}function sCommonConfirmationPopup(e){if(typeof e!="object"){return false}var b={title:"",body:"",extraClass:"",confirm:{text:Drupal.t("Confirm")},cancel:{text:Drupal.t("Cancel")},element:null,extraOptions:{},hideConfirm:false};$.extend(true,b,e);var a=new Popups.Popup();a.element=b.element;a.extraClass=b.extraClass;if(!/popups-(tiny|extra-small|small|medium|large|extra-large|300)/.test(a.extraClass)){a.extraClass+=" popups-small"}var d={confirmation_confirm:{title:b.confirm.text,func:function(){if(typeof b.confirm.func=="function"){b.confirm.func.apply(this,[])}}},confirmation_cancel:{title:b.cancel.text,func:function(){sPopupsClose();if(typeof b.cancel.func=="function"){b.cancel.func.apply(this,[])}}}};if(e.hideConfirm){delete d.confirmation_confirm;
a.extraClass+=" cancel-only"}Popups.open(a,b.title,b.body,d,null,b.extraOptions);if(typeof b.onClose=="function"){var f="popups_before_close."+a.id;$(document).bind(f,function(h,g){$(document).unbind(f);b.onClose.apply(this,[])})}return a}function sAddCommas(f){f+="";var a=f.split(".");var e=a[0];var b=a.length>1?"."+a[1]:"";var d=/(\d+)(\d{3})/;while(d.test(e)){e=e.replace(d,"$1,$2")}return e+b}var sTriggerClick=function(){$(this).triggerHandler("click")};$.fn.isOnScreen=function(){var d=$(window);var a={top:d.scrollTop(),left:d.scrollLeft()};a.right=a.left+d.width();a.bottom=a.top+d.height();var b=this.offset();b.right=b.left+this.outerWidth();b.bottom=b.top+this.outerHeight();return(!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom))};function parseHashkeys(){var b={};var a=String(window.location.hash);if(!a){return b}a=a.substring(1).split("&");$.each(a,function(d,e){e=e.split("=");if(e.length==2){b[e.shift()]=e.shift()}});return b}function sToggleActiveLoader(g,h,a){if(typeof sToggleActiveLoader.ns=="undefined"){sToggleActiveLoader.ns={}
}var f={scrollingElement:false,width:false,height:false};a=$.extend(f,a);if(typeof h!="undefined"){var b=a.width?a.width:h.outerWidth(),l=a.height?a.height:h.outerHeight();h.addClass("active-loader");if(typeof sToggleActiveLoader.ns[g]=="undefined"){sToggleActiveLoader.ns[g]={};sToggleActiveLoader.ns[g]["loadingImage"]=$('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" class="loading-image" width="30" height="8" alt="'+Drupal.t("Content is loading. Please wait.")+'" />');sToggleActiveLoader.ns[g]["overlay"]=$('<div class="loading-overlay"> </div>').css({width:b+"px",height:l+"px"})}else{var j=false;j=(b!=sToggleActiveLoader.ns[g]["overlay"].width()||l!=sToggleActiveLoader.ns[g]["overlay"].height());if(j){sToggleActiveLoader.ns[g]["overlay"].css({width:b+"px",height:l+"px"})}}if(a.scrollingElement){var e=h.scrollLeft(),d=h.scrollTop();sToggleActiveLoader.ns[g]["overlay"].css({left:e,top:d});sToggleActiveLoader.ns[g]["loadingImage"].css({left:e+b/2-15,top:d+15})}$(sToggleActiveLoader.ns[g]["overlay"]).prependTo(h);
$(sToggleActiveLoader.ns[g]["loadingImage"]).prependTo(h)}else{if(typeof sToggleActiveLoader.ns[g]!="undefined"){$(sToggleActiveLoader.ns[g]["overlay"]).closest(".active-loader").removeClass("active-loader");$(sToggleActiveLoader.ns[g]["overlay"]).remove();$(sToggleActiveLoader.ns[g]["loadingImage"]).remove();delete (sToggleActiveLoader.ns[g])}}}function sCommonIsEmbed(a){var b=$("<div>").append(a);return $("object,iframe,embed,img",b).length>0}(function(a){a.fn.sInfiniteScroll=function(b){var d=a.extend({},a.fn.sInfiniteScroll.defaults,b);d.scrollWindow.unbind("scroll.sScrollLoad");return this.each(function(){$this=a(this);d.scrollWindow.bind("scroll.sScrollLoad",function(f){if($this.isOnScreen()){d.scrollWindow.unbind("scroll.sScrollLoad");d.loadMore($this)}})})};a.fn.sInfiniteScroll.defaults={scrollWindow:a(window)}})(jQuery);function sFormSelectInput(f,d){var e=$(".s-js-select-field",f),b=$(".s-js-input-field",f),a=$(".s-js-cancel-btn",f);var d=$.extend({},{selectFieldDefaultVal:"ungraded",selectFieldNewVal:"new",selectFieldOnChange:function(){if(e.val()==d.selectFieldNewVal){e.hide();
b.removeClass("hidden").show().closest(".form-item").show();a.removeClass("hidden").show()}else{b.hide();a.hide()}},inputFieldOnCancel:function(){b.hide();a.hide();e.show().val(d.selectFieldDefaultVal)},inputFieldOnBlur:function(){if(b.val()==""){b.val(b.attr("pre-fill")).addClass("pre-fill")}},inputFieldOnFocus:function(){if(b.val()==b.attr("pre-fill")){b.val("").removeClass("pre-fill")}}},(d==undefined?{}:d));e.change(d.selectFieldOnChange);b.blur(d.inputFieldOnBlur).focus(d.inputFieldOnFocus);a.click(d.inputFieldOnCancel);if(e.val()==d.selectFieldNewVal){e.trigger("change");b.show().removeClass("pre-fill");a.show()}else{b.hide();a.hide()}}function sCommonCalculateScrollVal(b,a){var e=a.charAt(0),d=Math.floor(a.substring(1));switch(e){case"+":a=b+d;break;case"-":a=Math.max(0,b-d);break;default:a=Math.floor(a)}return a}function sCommonSchoolBuildingChooser(a){$(".s-school-building-chooser.s-js-building-chooser-has-header",a).each(function(){var b=$(this);$("#select-building-chooser-btn",b).each(function(){var d=$(this);
d.click(function(){if(d.hasClass("active")){d.removeClass("active");d.text(Drupal.t("Select All"))}else{d.addClass("active");d.text(Drupal.t("Unselect All"))}$(".building-cb",b).attr("checked",d.hasClass("active")).trigger("sBuildingChooserBoxChange")})});$(".building-cb",b).each(function(){$(this).change(function(){$(this).trigger("sBuildingChooserBoxChange");var d=$("#select-building-chooser-btn",b);if($(".building-cb",b).length==$(".building-cb:checked",b).length){d.addClass("active");d.text(Drupal.t("Unselect All"))}else{d.removeClass("active");d.text(Drupal.t("Select All"))}});$(this).bind("sBuildingChooserBoxChange",function(){$("#num-building-chooser-selected",b).text($(".building-cb:checked",b).length)})})})}function sCommonFormFieldMakeRequired(a){if(!a.hasClass("sCommonFormFieldMakeRequired-processed")){a.append('<span class="form-required" title="This field is required.">*</span>');a.addClass("sCommonFormFieldMakeRequired-processed")}}function sCommonOpenNewWindow(d,b){var e={name:"_blank",specs:{location:"no"},replace:{},done:""};
b=$.extend(e,(b||{}));b.specs.width=1140;b.specs.height=720;if(screen.width<1250){b.specs.width=960;b.specs.height=540}b.specs.left=(screen.width/2)-(b.specs.width/2);b.specs.top=(screen.height/2)-(b.specs.height/2);var f=[];$.each(b.specs,function(g,h){f.push(g+"="+h)});f=f.join(",");var a=window.open(d,b.name,f);a=(!a||a.closed||typeof a.closed=="undefined")?false:a;if(typeof(b.done)=="function"){b.done(a)}return a}function sCommonFormRadioGroup(e,d){var b,a;if(e.hasClass("sCommonFormRadioGroup-processed")){return}b=$("input[type=radio]",e);if((a=b.filter(":checked")).length>0){a.addClass("isChecked")}b.click(function(){var f=$(this);if(f.hasClass("isChecked")){b.removeClass("isChecked");d.prop("checked",true).addClass("isChecked")}else{b.removeClass("isChecked");f.addClass("isChecked")}});e.removeClass("hidden");e.addClass("sCommonFormRadioGroup-processed")}$(document).on("keypress",".clickable, [role=button], [role=menuitem], [role=tab], .skip",function(a){if(a.target.tagName.toUpperCase()!=="A"&&a.keyCode===13&&a.handled!==true){$(a.target).trigger("click");
a.handled=true}});$(document).on("keydown","[role=tab]",function(d){var g=$(d.currentTarget);var f="";var a=37;var e=39;if(d.which===a){f="prev"}else{if(d.which===e){f="next"}}if(f){var b=g[f]().find("a")[0];if(b){b.click()}}});Drupal.behaviors.sAttachMainRole=function(b){if(Drupal.settings.sAccessibility&&Drupal.settings.sAccessibility.role_main!="undefined"){var a=(Drupal.settings.sAccessibility.role_main instanceof Array)?Drupal.settings.sAccessibility.role_main.pop():Drupal.settings.sAccessibility.role_main;$("#"+a).not(".schoology-processed").addClass("schoology-processed").each(function(){$(this).attr("role","main")})}};$(document).on("click",".skip",function(a){a.preventDefault();var b="#"+this.href.split("#")[1];$(b).attr("tabindex","-1").on("blur focusout",function(){$(this).removeAttr("tabindex")}).focus()});function sCommonPushStatusMessages(b){if(b!=""){var a=$('<div class="s-js-pushed-messages-wrapper">'+b+"</div>").prependTo("#main-content-wrapper");$(".messages",a).addClass("temp");
sAttachBehaviors(["schoology"],$(".s-js-pushed-messages-wrapper"))}}function sCommonGetSetting(){var f=Drupal.settings,b=Array.prototype.slice.apply(arguments),a=b.length,e,d;if(a){for(e=0;e<a&&f;e++){d=b[e];if(typeof f[d]=="undefined"){f=null}else{f=f[d]}}}return f}$.ajaxSecure=function(d){var b=null;if(typeof Drupal.settings.s_common.csrf_token!="undefined"&&typeof Drupal.settings.s_common.csrf_key!="undefined"){var e={"X-Csrf-Token":Drupal.settings.s_common.csrf_token,"X-Csrf-Key":Drupal.settings.s_common.csrf_key,};var a=["POST","PUT","DELETE"];if(typeof d.type=="undefined"||a.indexOf(d.type)==-1){d.type="POST"}if(d.headers){$.extend(d.headers,e)}else{d.headers=e}b=$.ajax(d)}return b};Drupal.sAccessibility=Drupal.sAccessibility||{focusableElementsString:"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",focusMap:[],trapTabKey:function(j,g){if(g.which==9){var d=j.find("*");
var f=d.filter(this.focusableElementsString).filter(":visible").not("[tabindex=-1]");var b=g.target;var a=f.length;var h=f.index(b);if(g.shiftKey){if(h==0){f.eq(a-1).trigger("focus");g.preventDefault()}}else{if(h==(a-1)){f.eq(0).trigger("focus");g.preventDefault()}}}},setInitialFocusPopup:function(d){var a=d.find("*");var b=a.filter(this.focusableElementsString).filter(":visible").first().trigger("focus")},setLastFocus:function(a){this.focusMap.push(a)},returnFocus:function(){var a=this.focusMap[this.focusMap.length-1];if(a){if(a.is(":visible")){setTimeout(function(){a.trigger("focus")},0)}else{if(a.closest(".action-links").length){setTimeout(function(){a.closest(".action-links").prev(".action-links-unfold").trigger("focus")},0)}}this.focusMap.pop()}},revealToAT:function(a){a.attr("aria-hidden","false")},hideFromAT:function(a){a.attr("aria-hidden","true")}};function sStatsRecordEvent(a){$.ajaxSecure({url:"/stats/record_event",data:{event:a}})}if(typeof jQuery.browser.msie=="undefined"){var nAgt=navigator.userAgent;
var nameOffset,verOffset,ix;jQuery.browser.msie=false;if((verOffset=nAgt.indexOf("MSIE"))!=-1){jQuery.browser.msie=true;jQuery.browser.name="Microsoft Internet Explorer";jQuery.browser.fullVersion=nAgt.substring(verOffset+5)}else{if(nAgt.indexOf("Trident")!=-1){jQuery.browser.msie=true;jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3;var end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}}}function sIsset(a){return a!=null&&typeof a!="undefined"}function getHashParam(d){var b=window.location.hash;if(b){b=b.replace("#","?");var a=getQueryParams(b);return a[d]}return null}function sGetHashPathParam(e){var d=window.location.hash;if(d){var a=d.indexOf("?");var f=d.slice(a);var b=getQueryParams(f);return b[e]}return null}function htmlentities(a){return $("<div/>").text(a).html()}function searchAndRemove(a,d){var b=[];for(key in a){if(a[key]!=d){b.push(d)}}return b}function sTooltipOverlay(d,f,g){g=g||"n";var b=$(d);var e=b.data("overlay-id");if(e){$("#"+e).remove()
}var a=$(sOverlay(d));a.css({opacity:0}).uniqueId().attr({title:f}).tipsy({gravity:g});b.data("overlay-id",a.attr("id"));return a.get(0)}function sTooltipOverlayRemove(a){var b=$(a).data("overlay-id");if(b){$("#"+b).remove()}$(a).data("overlay-id","")}function sOverlay(e){var d=$(e);var f=d.offsetParent();var b=d.position();var g=f.scrollTop();var h=f.scrollLeft();var a=$("<div></div>").css({position:"absolute",top:b.top+g,left:b.left+h,width:d.outerWidth(),height:d.outerHeight()}).appendTo(f);return a.get(0)}function removeByKey(a,b){var d=[];for(arrKey in a){if(arrKey!=b){d.push(a[arrKey])}}return d}function sGetFirstKey(a){return Object.keys(a)[0]}function ajaxWatchdog(a){$.post("/popups_error",{error_type:"error",msg:a})}function sCommonGetDefaultDomain(){return typeof Drupal.settings.s_common.default_domain!="undefined"?Drupal.settings.s_common.default_domain:false}(function(a){a.fn.sHideObjectEmbed=function(b){var d=a.extend({},a.fn.sHideObjectEmbed.defaults,b);a.each(d.hide_events,function(e,f){a(document).bind(String(f),function(g){if(d.disable_when_open&&g.type=="popups_open_path"&&Popups&&Popups.activePopup()){return
}a(d.object_selector).each(function(){var j=a(this);if(d.placeholder){placeholder=a(d.placeholder_opts.html);placeholder.addClass(String(d.placeholder_opts.label_class));if(d.placeholder_opts.mimic){var h=j.css("display")=="inline"?"inline-block":j.css("display");placeholder.css({width:j.css("width")?j.css("width"):0,height:j.css("height")?j.css("height"):0,display:h?h:"block",margin:j.css("margin")?j.css("margin"):0})}j.before(placeholder)}var k=j.attr("data-sHideObjEmb-ini");if(!k){j.attr("data-sHideObjEmb-ini",j.css("display"))}switch(d.hide_method){default:case"display":j.css("display","none");break;case"visibility":j.css("visibility","hidden");break}})})});a.each(d.show_events,function(e,f){a(document).bind(String(f),function(g){if(d.disable_when_open&&g.type=="popups_close"&&Popups&&Popups.activePopup()){return}a("."+String(d.placeholder_opts.label_class)).remove();a(d.object_selector).each(function(){switch(d.hide_method){default:case"display":a(this).css("display",a(this).attr("data-sHideObjEmb-ini"));
break;case"visibility":a(this).css("visibility","visible");break}})})})};a.fn.sHideObjectEmbed.defaults={object_selector:"object",placeholder:"div",placeholder_opts:{mimic:true,html:"<div></div>",label_class:"sHideObjectEmbedPlaceholderd"},hide_events:[],show_events:[],disable_when_open:true,hide_method:"display"}})(jQuery);Drupal.behaviors.sSurveyInclude=function(a){$("body:not(.sSurveyInclude-processed)",a).addClass("sSurveyInclude-processed").each(function(){var b=$(this);if(!b.hasClass("s-mobile-app-webview")&&!b.hasClass("s-mobile-device")){Drupal.sSurveyController.injectSurveyIfEligible(b)}})};if(typeof Drupal.sSurveyController=="undefined"){Drupal.sSurveyController={_api:null,_apiCache:null,injectSurveyIfEligible:function(b){this._api=Drupal.sSurveyApi();this._apiCache=Drupal.sSurveyApiCache(this._api);var a=this._apiCache.getEligibility();a.done(function(d){if(d.data.eligible){Drupal.sSurveyController.execInjection(b,d.data.surveyParams,d.data.useStaging)}})},execInjection:function(b,e,a){var d=Drupal.sSurveyInjector();
d.performInjection(b,e,a)},sSurveyCompleted:function(){this._api.recordSurveyCompletion();this._apiCache.clearCache()},sSurveyDeclined:function(){this._api.recordSurveyDeclination();this._apiCache.clearCache()}}}if(typeof Drupal.sSurveyApi=="undefined"){Drupal.sSurveyApi=function(){var a={};a.getEligibility=function(){var b=$.ajax({url:"/iapi2/surveys/eligibility"});return b.done()};a.recordSurveyAction=function(b){$.ajaxSecure({url:"/iapi2/surveys/action/"+b,method:"PUT"})};return a}}if(typeof Drupal.sSurveyInjector=="undefined"){Drupal.sSurveyInjector=function(){var a={surveyUrl:""};a.getSurveyCode=function(f,d){var e='<script type="text/javascript">';e+="sSurveyIsFaculty = ";e+=f.userRoles.indexOf("non-faculty")>-1?"false;":"true;";var b=d?"staging":"production";e+='(function (g) { var d = document, i, am = d.createElement(\'script\'), h = d.head || d.getElementsByTagName("head")[0], aex = { "src": "//gateway.answerscloud.com/schoology/'+b+'/gateway.min.js", "type": "text/javascript", "async": "true", "data-vendor": "acs", "data-role": "gateway" }; for (var attr in aex) { am.setAttribute(attr,aex[attr]); } h.appendChild(am);g[\'acsReady\'] = function () {var aT = \'__acsReady__\', args = Array.prototype.slice.call(arguments, 0),k = setInterval(function () {if (typeof g[aT] === \'function\') {clearInterval(k);for (i = 0; i < args.length; i++) {g[aT].call(g, function(fn) { return function() { setTimeout(fn, 1) };}(args[i]));}}}, 50);};})(window);';
e+=a.getCPPCode(f);e+="<\/script>";return e};a.getCPPCode=function(e){var d="acsReady(function() {";d+='if(typeof FSR.CPPS != "undefined"){';for(var b in e){d+="FSR.CPPS.set('"+b+"','"+e[b]+"');"}d+="}";d+="});";return d};a.performInjection=function(d,e,b){d.prepend(a.getSurveyCode(e,b))};return a}}if(typeof Drupal.sSurveyApiCache=="undefined"){Drupal.sSurveyApiCache=function(a){var d={_api:a};var b="sSurveyIncludeEligibility";d._populateCache=function(){var e=this._api.getEligibility();e.done(this.saveCacheFromResponse);return e};d.saveCacheFromResponse=function(e){var f=e.data;$.cookie(b,JSON.stringify(f))};d._getCachedData=function(){var e=$.cookie(b);return JSON.parse(e)};d._isCachePopulated=function(){var e=typeof $.cookie(b)==="undefined";return !e};d.clearCache=function(){$.removeCookie(b)};d.getEligibility=function(){if(!this._isCachePopulated()){return this._populateCache()}var e=new $.Deferred(function(g){var h=d._getCachedData();var f={data:h};g.resolve(f)}).promise();return e
};return d}}Drupal.sSurveyPromptAccepted=function(){var a=Drupal.sSurveyApi();a.recordSurveyAction(1)};Drupal.sSurveyPromptDeclined=function(){var a=Drupal.sSurveyApi();a.recordSurveyAction(0)};
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(g){var a=/\+/g;function e(k){return b.raw?k:encodeURIComponent(k)}function h(k){return b.raw?k:decodeURIComponent(k)}function j(k){return e(b.json?JSON.stringify(k):String(k))}function d(k){if(k.indexOf('"')===0){k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{k=decodeURIComponent(k.replace(a," "));return b.json?JSON.parse(k):k}catch(l){}}function f(l,k){var m=b.raw?l:d(l);return g.isFunction(k)?k(m):m}var b=g.cookie=function(r,q,x){if(arguments.length>1&&!g.isFunction(q)){x=g.extend({},b.defaults,x);
if(typeof x.expires==="number"){var u=x.expires,w=x.expires=new Date();w.setTime(+w+u*86400000)}return(document.cookie=[e(r),"=",j(q),x.expires?"; expires="+x.expires.toUTCString():"",x.path?"; path="+x.path:"",x.domain?"; domain="+x.domain:"",x.secure?"; secure":""].join(""))}var y=r?undefined:{};var v=document.cookie?document.cookie.split("; "):[];for(var p=0,n=v.length;p<n;p++){var o=v[p].split("=");var k=h(o.shift());var m=o.join("=");if(r&&r===k){y=f(m,q);break}if(!r&&(m=f(m))!==undefined){y[k]=m}}return y};b.defaults={};g.removeCookie=function(l,k){if(g.cookie(l)===undefined){return false}g.cookie(l,"",g.extend({},k,{expires:-1}));return !g.cookie(l)}}));$(document).ready(function(){try{if(k()){$("body").addClass("high-contrast");h("high-contrast");if(d(e())){a()}}}catch(f){}function j(l){var m=document.defaultView?document.defaultView.getComputedStyle(l,null):l.currentStyle;if(!m){throw new Error("Unable to get computed style for element")}return m}function b(l,n){var m=document.createElement(l);
document.body.appendChild(m);try{return n(m)}finally{document.body.removeChild(m)}}function k(){var n="rgb(31,41,59)";var m=b("div",function(o){o.style.color=n;var p=j(o);return p.color.replace(/ /g,"")});var l=(m===n);return !l}function d(m){var p=m.red,n=m.green,l=m.blue;var o=((p*299)+(n*587)+(l*114))/1000;return o>=128}function e(){var l=document.getElementById("header");var m=j(l);return g(m.backgroundColor)}function g(q){var n=/rgb\(([0-9]{1,3}), ?([0-9]{1,3}), ?([0-9]{1,3})\)/i;var p=n.exec(q);if(p!==null&&p.length===4){var m=p.slice(1);var l=m.map(function(r){return parseInt(r)});var o=l.every(function(r){return r>=0&&r<=255});if(o){return{red:l[0],green:l[1],blue:l[2]}}}throw new Error("Unable to parse RGB string: "+q)}function h(l){$("[data-"+l+"]").each(function(){var m=$(this);m.addClass(m.data(l))})}function a(){$("#home img").attr("src","/sites/all/themes/schoology_theme/images/SGY_Logo_Dark.png");h("high-contrast-light")}});function extlinkAttach(b){var j=b==document?$(document.body):$(b);
if(j.closest(".sExtlink-processed").length){return}j.addClass("sExtlink-processed");var k=window.location.host.replace(/^(([^\/]+?\.)*)([^\.]{4,})((\.[a-z]{1,4})*)$/,"$3$4"),e=window.location.host.replace(/^(([^\/]+?\.)*)([^\.]{4,})((\.[a-z]{1,4})*)$/,"$1"),d=false,g=false,f,a;if(Drupal.settings.extlink.extSubdomains){f="([^/]*.)?"}else{if(e=="www."||e==""){f="(www.)?"}else{f=e.replace(".",".")}}a=new RegExp("^https?://"+f+k+"/","i");if(Drupal.settings.extlink.extInclude){d=new RegExp(Drupal.settings.extlink.extInclude.replace(/\\/,"\\"))}if(Drupal.settings.extlink.extExclude){g=new RegExp(Drupal.settings.extlink.extExclude.replace(/\\/,"\\"))}function h(l){var l=l.toLowerCase();if(l.indexOf("http")!==0){return false}if(l.match(a)&&!(d&&l.match(d))){return false}if(g&&l.match(g)){return false}return true}j.on("click","a",function(n){var l=$(this),m=this.href;if(l.hasClass("s-extlink-direct")){return}if(h(m)){n.preventDefault();window.open("/link?path="+encodeURIComponent(l.attr("href")))
}})}Drupal.behaviors.extlink=function(b){if(Drupal.settings.extlinkExtras&&Drupal.settings.extlinkExtras.disabled){return}if(typeof sAppLdbGetSecurityLevel=="undefined"){extlinkAttach(b)}else{if(typeof sAppLdbGetSecurityLevel!="undefined"&&sAppLdbGetSecurityLevel()!="restricted"){extlinkAttach(b)}}var a=sCommonGetSetting("extlink","mailtoClass");if(a){$("a:not(.sExtlink-processed)",b).addClass("sExtlink-processed").each(function(){var e=$(this),d=e.attr("href")||"";if(d.indexOf("mailto:")===0&&e.find("img:first").length===0){e.addClass(a);if(e.css("display")=="inline"){e.after("<span class="+a+"></span>")}}})}};Drupal.behaviors.popups=function(b){Popups.saveSettings();var d=$("body");if(!d.hasClass("popups-processed")){d.addClass("popups-processed");$(document).bind("keydown",Popups.keyHandle);var a=$("#popit");if(a.length){a.remove();Popups.message(a.html())}}if(Drupal.settings.popups&&Drupal.settings.popups.links){jQuery.each(Drupal.settings.popups.links,function(f,e){Popups.attach(b,f,Popups.options(e))
})}Popups.attach(b,".popups",Popups.options({updateMethod:"none"}));Popups.attach(b,".popups-form",Popups.options({updateMethod:"ajax"}));Popups.attach(b,".popups-form-reload",Popups.options({updateMethod:"reload"}));Popups.attach(b,".popups-form-noupdate",Popups.options({updateMethod:"none"}))};Popups=function(){};Popups.popupStack=[];Popups.addedCSS=[];Popups.addedJS=[];Popups.originalSettings=null;Popups.originalSettingsStack=[];Popups.ajaxHeaders={"X-Drupal-Render-Mode":"json/popups","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};Popups.defaultOptions={doneTest:null,updateMethod:"ajax",onUpdate:"",updateSource:"initial",href:null,width:null,targetSelectors:null,titleSelectors:null,reloadOnError:false,noMessage:false,forceShowNextActivePopup:false,skipDirtyCheck:false,hijackDestination:true,extraClass:"",ajaxForm:true,disableCursorMod:false,disableAttachBehaviors:false,formOnSubmit:null,disableInputFocus:false,fullScreen:false,hideActive:true,disableRedirectLogging:false,angularScope:null,angularElement:null};
Popups.Popup=function(){this.id="popups-"+Popups.nextCounter();this.parent=null;this.path=null;this.element=null;this.options=null};Popups.Popup.prototype.$popup=function(){return $("#"+this.id)};Popups.Popup.prototype.$popupBody=function(){return $("#"+this.id+" .popups-body")};Popups.Popup.prototype.$popupClose=function(){return $("#"+this.id+" .popups-close")};Popups.Popup.prototype.$popupTitle=function(){return $("#"+this.id+" .popups-title")};Popups.Popup.prototype.$popupButtons=function(){return $("#"+this.id+" .popups-buttons")};Popups.Popup.prototype.$popupFooter=function(){return $("#"+this.id+" .popups-footer")};Popups.Popup.prototype.fill=function(d,a,b){return $(Drupal.theme("popupDialog",this.id,d,a,b))};Popups.Popup.prototype.hide=function(){this.$popup().css("left","-9999px")};Popups.Popup.prototype.show=function(){Popups.resizeAndCenter(this)};Popups.Popup.prototype.open=function(e,a,d,b){return Popups.open(this,e,a,d,b)};Popups.Popup.prototype.removePopup=function(){Popups.removePopup(this)
};Popups.Popup.prototype.close=function(){return Popups.close(this)};Popups.Popup.prototype.refocus=function(){var b=this.$popup(),a;if(this.disableInputFocus){a=b.find(".popups-close a")}else{a=b.find(":input:visible:enabled:first:not(.popups-no-focus, .s-tinymce-load-editor)");if(!a.length){a=b.find(".popups-close a")}}a.focus()};Popups.Popup.prototype.trapTabKey=function(){var a=this.$popup();a.bind("keydown",function(b){if(b.which===9){Drupal.sAccessibility.trapTabKey(a,b)}})};Popups.Popup.prototype.targetLayerSelector=function(){if(this.parent===null){return"body"}else{return"#"+this.parent.id}};Popups.Popup.prototype.isDone=function(b){var a;if(this.options.doneTest){a=(b===this.options.doneTest||b.match(this.options.doneTest))}else{if(this.parent){a=(b===this.parent.path)}else{b=b.replace(/=(&)|=$/,"$1");Popups.originalSettings.popups.originalPath=Popups.originalSettings.popups.originalPath.replace(/=(&)|=$/,"$1");a=(b===Popups.originalSettings.popups.originalPath);if(!a&&Popups.isset(Popups.originalSettings.popups.addlOriginalPath)){Popups.originalSettings.popups.addlOriginalPath.replace(/=(&)|=$/,"$1");
a=(b===Popups.originalSettings.popups.addlOriginalPath)}}}return a};Popups.isset=function(a){return(typeof(a)!=="undefined")};Popups.activePopup=function(){if(Popups.popupStack.length){return Popups.popupStack[Popups.popupStack.length-1]}else{return null}};Popups.push=function(a){Popups.popupStack.push(a)};Popups.pop=function(a){return Popups.popupStack.pop()};Popups.options=function(b){var a=Popups.defaultOptions;return Popups.overrideOptions(a,b)};Popups.overrideOptions=function(e,f){var a={};for(var b in e){var d;if(Popups.isset(f[b])){a[b]=f[b]}else{a[b]=e[b]}}if(f.noReload||f.noUpdate){a.updateMethod="none"}if(f.reloadWhenDone){a.updateMethod="reload"}if(f.afterSubmit){a.updateMethod="callback";a.onUpdate=f.afterSubmit}if(f.forceReturn){a.doneTest=f.forceReturn}return a};Popups.attach=function(d,a,b){$(a,d).not(".popups-processed").each(function(){var e=$(this);e.addClass("popups-processed");var f="";if(e.attr("title")){f=e.attr("title")+" "}e.attr("title",f);e.click(function(g){return Popups.clickPopupElement(this,b)
})})};Popups.clickPopupElement=function(b,a){Popups.saveSettings();if($(b).attr("on-popups-options")){var f=$.parseJSON($(b).attr("on-popups-options"));a=Popups.overrideOptions(a,f)}var d=Popups.activePopup();var e=!(a.updateMethod==="none"||a.skipDirtyCheck);if(e&&Popups.activeLayerIsEdited()){Popups.offerToSave(b,a,d)}else{Popups.openPath(b,a,d)}return false};Popups.activeLayerIsEdited=function(){var b=Popups.activePopup();var a=Popups.getLayerContext(b);var d=a.find("span.tabledrag-changed").length;return d};Popups.offerToSave=function(e,d,f){var b=new Popups.Popup();var a=Drupal.t("There are unsaved changes in the form, which you will lose if you continue.");var g={popup_save:{title:Drupal.t("Save Changes"),func:function(){Popups.saveFormOnLayer(e,d,f)}},popup_submit:{title:Drupal.t("Continue"),func:function(){b.removePopup();Popups.openPath(e,d,f)}},popup_cancel:{title:Drupal.t("Cancel"),func:function(){b.close()}}};b.open(Drupal.t("Warning: Please Confirm"),a,g)};Popups.open=function(b,j,a,f,e,d){Popups.addOverlay();
if(b){if(!b.options){if(!d){d={}}var h=Popups.options(d);b.options=h}}if(Popups.activePopup()){if(b.options.hideActive){Popups.activePopup().hide()}}if(!b){b=new Popups.Popup()}Popups.push(b);var g=b.fill(j,a,f);b.hide();if(e){g.css("width",e)}if(b.extraClass instanceof Array){b.extraClass=b.extraClass[b.extraClass.length-1]}g.addClass(b.extraClass);$("body").append(g);if(f){jQuery.each(f,function(l,k){$("#"+l).click(k.func)})}b.$popupClose().click(function(){return Popups.close(b)});Popups.resizeAndCenter(b);b.refocus();Popups.removeLoading();$(document).trigger("popups_open_done",[b]);b.element=b.element!=null?b.element:$("body")[0];Drupal.sAccessibility.setLastFocus($(b.element));Drupal.sAccessibility.hideFromAT($("#body"));b.trapTabKey();return b};Popups.resizeAndCenter=function(a){var h=a.$popup();if(a&&a.fullScreen){h.css({width:"100%",height:"100%",top:0,left:0});$("html").css("overflow","hidden");return}var f=h.width();var b=Popups.windowWidth();var e=Math.floor((b/2)-(f/2)+Popups.scrollLeft());
h.css("height","auto");var g=h.height();h.height(g);var j=Popups.windowHeight();var d=((j/2)-(g/2))/2+Popups.scrollTop();h.css("top",d).css("left",e)};Popups.message=function(e,d){d=d||"";var a=new Popups.Popup();var b={popup_ok:{title:Drupal.t("OK"),func:function(){a.close()}}};a.open(e,d,b);return a};Popups.keyHandle=function(a){if(!a){a=window.event}switch(a.keyCode){case 27:Popups.close();break;case 191:if(a.shiftKey&&a.ctrlKey){var b=$("a.popups.more-help");if(b.size()){b.click()}else{Popups.message(Drupal.t("Sorry, there is no additional help for this page"))}}break}};Popups.addOverlay=function(){var a=$("#popups-overlay");if(!a.length){a=$(Drupal.theme("popupOverlay"));a.css("opacity","0.4");var b=$(document);a.width(b.width()).height(b.height());if($.browser.msie&&($.browser.version=="6.0"||$.browser.version=="7.0")){a.css("left",0)}$("body").prepend(a)}};Popups.removeOverlay=function(){if(!Popups.popupStack.length){$("#popups-overlay").remove()}};Popups.addLoading=function(){var d=$("#popups-loading");
if(!d.length){d=$(Drupal.theme("popupLoading"));$("body").prepend(d);var b=d.width();var a=d.height();var f=(Popups.windowWidth()/2)-(b/2)+Popups.scrollLeft();var e=((Popups.windowHeight()/2)-(a/2))/2+Popups.scrollTop();d.css({top:e,left:f,display:"block"})}};Popups.removeLoading=function(){$("#popups-loading").remove()};Popups.removePopup=function(a){if(!Popups.isset(a)){a=Popups.activePopup()}if(a){$(document).trigger("popups_before_remove",[a]);a.$popup().detach();Popups.popupStack.splice(jQuery.inArray(a,Popups.popupStack),1)}};Popups.close=function(a){if(!Popups.isset(a)){a=Popups.activePopup()}$(document).trigger("popups_before_close",[a]);var b=false;Popups.removePopup(a);Popups.removeLoading();if(Popups.activePopup()){b=Popups.activePopup();b.show();b.refocus();Drupal.settings=Popups.originalSettingsStack[b.id]}else{Popups.removeOverlay();Popups.restorePage();if(a&&a.fullScreen){$("html").css("overflow","auto")}}$(document).trigger("popups_close",[a,b]);if(Popups.activePopup()==null){Drupal.sAccessibility.revealToAT($("#body"))
}Drupal.sAccessibility.returnFocus();return false};Popups.saveSettings=function(){if(!Popups.originalSettings){Popups.originalSettings=Drupal.settings}var a=Popups.activePopup();if(a&&typeof Popups.originalSettingsStack[a.id]=="undefined"){Popups.originalSettingsStack[a.id]=Drupal.settings}};Popups.restoreSettings=function(){Drupal.settings=Popups.originalSettings};Popups.restorePage=function(){Popups.restoreSettings();for(var a in Popups.addedCSS){var b=Popups.addedCSS[a];$('style[popups_src="'+jqSelector($(b).attr("href"))+'"]').remove()}Popups.addedCSS=[]};Popups.scrollLeft=function(){return Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)};Popups.scrollTop=function(){return Math.max(document.documentElement.scrollTop,document.body.scrollTop)};Popups.windowHeight=function(){if($.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<="1.2.6"){return document.documentElement.clientHeight}return $(window).height()};Popups.windowWidth=function(){if($.browser.opera&&$.browser.version>"9.5"&&$.fn.jquery<="1.2.6"){return document.documentElement.clientWidth
}return $(window).width()};Popups.nextCounter=function(){if(this.counter===undefined){this.counter=0}else{this.counter++}return this.counter};Popups.addCSS=function(f){Popups.addedCSS=[];if(Drupal.settings.aggregated_css){var g=Drupal.settings.aggregated_css}else{var g=[]}for(var h in f){for(var e in f[h]){var j=f[h][e];var b=$(j).attr("href");var d=$(j).attr("href_orig");var k=$("head");var a=jQuery.inArray(d,g)!=-1;if(!$('link[href="'+jqSelector(d)+'"]').length&&!a){$.ajax({type:"GET",url:b,async:false,success:function(l){k.append('<style popups_src="'+b+'">'+l+"</style>")}});Popups.addedCSS.push(j)}}}};Popups.addJS=function(js){var scripts=[];var inlines=[];for(var type in js){if(type!="setting"){for(var file in js[type]){if(type=="inline"){inlines.push($(js[type][file]).html())}else{var script=$(js[type][file]).attr("src");var src_orig=$(js[type][file]).attr("src_orig");scripts.push([script,src_orig])}}}}var aggregatedCSS=Drupal.settings.aggregated_css;var aggregatedJS=[];if(Drupal.settings.aggregated_js){jQuery.each(Drupal.settings.aggregated_js,function(k,v){aggregatedJS.push(v.split("?")[0])
})}Drupal.settings=js.setting;Drupal.settings.aggregated_js=aggregatedJS;Drupal.settings.aggregated_css=aggregatedCSS;for(var i in scripts){var script=scripts[i];var src=script[0];var srcOrig=script[1];var checkSrc=srcOrig.split("?")[0];var preloadedJS=jQuery.inArray(checkSrc,aggregatedJS)!=-1;if(!$('script[src="'+jqSelector(srcOrig)+'"]').length&&!preloadedJS&&!Popups.addedJS[srcOrig]){$.ajax({type:"GET",url:src,async:false,success:function(script){eval.apply(window,[script])}});Popups.addedJS[srcOrig]=true}}return inlines};Popups.addInlineJS=function(inlines){for(var n in inlines){if(!$("script:not([src]):contains("+inlines[n]+")").length){eval(inlines[n])}}};Popups.beforeSend=function(a){};Popups.beforeSubmit=function(d,a,b){$(document).trigger("popups_before_submit",[d,a,b]);Popups.removePopup();Popups.addLoading()};Popups.beforeSerialize=function(a,b){$(document).trigger("popups_before_serialize",[a]);a.append('<input type="hidden" name="form_origin_popups" id="form_origin_popups" value="1" />')
};Popups.openPath=function(e,d,f){Popups.saveSettings();if(!d.disableCursorMod){$("body").css("cursor","wait")}if(!d.nonModal){Popups.addOverlay()}Popups.addLoading();var b=d.href?d.href:e.href;$(document).trigger("popups_open_path",[e,b]);var h={};if(d.hijackDestination){var g;if(f){g=f.path}else{g=Popups.originalSettings.popups.originalPath}b=b.replace(/destination=[^;&]*[;&]?/,"");h.destination=g;if(d.disableRedirectLogging&&h.destination.indexOf("pdrl=1")==-1){h.destination=h.destination+($.inArray("?",h.destination)==-1?"?":"&")+"pdrl=1";if(f){f.path=h.destination}else{Popups.originalSettings.popups.originalPath=h.destination}}}var a={url:b,dataType:"text",data:h,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(n,k,p){var m=$.parseJSON(n);Popups.addCSS(m.css);var l=Popups.addJS(m.js);var o=m.path+(m.path_query?"?"+m.path_query:"");o=o.replace(/=(&)|=$/,"$1");var j=Popups.openPathContent(o,m.title,m.messages+m.content,e,d,f);Popups.addInlineJS(l);$(document).trigger("popups_open_path_done",[e,b,j])
},complete:function(){$("body").css("cursor","auto")}};var a;if(d.reloadOnError){a.error=function(){location.reload()}}else{a.error=function(j,l,k){Popups.errorMessage(j,l,k,this.url)}}$.ajax(a);return false};Popups.openPathContent=function(h,j,g,e,d,f){var a=new Popups.Popup();a.extraClass=d.extraClass;a.fullScreen=d.fullScreen;a.disableInputFocus=d.disableInputFocus;a.parent=f;a.path=h;a.options=d;a.element=e;Popups.open(a,j,g,null,d.width);delete Drupal.behaviors.tableHeader;delete Drupal.behaviors.teaser;if(!d.disableAttachBehaviors){Drupal.attachBehaviors(a.$popupBody())}a.refocus();var b=$("form",a.$popupBody());if(b.length&&d.ajaxForm){b.ajaxForm({iframe:false,dataType:"text",beforeSubmit:Popups.beforeSubmit,beforeSerialize:Popups.beforeSerialize,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(m,k,n){var l=$.parseJSON(m);Popups.formSuccess(a,l)},error:function(k,m,l){Popups.errorMessage(k,m,l,this.url,this.data)}})}else{if(typeof d.formOnSubmit=="function"){b.submit(function(){var k=d.formOnSubmit();
return k})}}return a};Popups.formSuccess=function(popup,data){var done=popup.isDone(data.path+(data.path_query?"?"+data.path_query:""));if(!done){Popups.addCSS(data.css);var inlines=Popups.addJS(data.js);Popups.removeLoading();var updatedPopup=Popups.openPathContent(data.path,data.title,data.messages+data.content,popup.element,popup.options,popup.parent);$(document).trigger("popups_form_success_notdone",[updatedPopup,data]);Popups.addInlineJS(inlines)}else{if(popup.options.updateMethod==="callback"&&popup.options.onUpdate){if(typeof popup.options.onUpdate=="function"){var result=popup.options.onUpdate.call(this,data,popup.options,popup.element)}else{var result=eval(popup.options.onUpdate+"(data, popup.options, popup.element)")}if(result===false){return}}if(popup.options.updateMethod==="reload"){if(popup.options.updateSource==="final"){location.href=Drupal.settings.basePath+data.path+(data.path_query?"?"+data.path_query:"")}else{location.reload()}}else{var showMessage=data.messages&&data.messages.length&&!popup.options.noMessage;
if(showMessage){var $next;var attachContext;if(popup.targetLayerSelector()==="body"){$next=$("body").find(Popups.originalSettings.popups.defaultTargetSelector);$next.parents("#main-content-wrapper").find("div.popup-messages-wrapper, div.messages").remove();$next.before('<div class="popup-messages-wrapper">'+data.messages+"</div>");attachContext=$("div.popup-messages-wrapper")}else{$next=$(popup.targetLayerSelector()).find(".popups-body");$next.parents("#main-content-wrapper").find("div.messages").remove();$next.prepend(data.messages);attachContext=$next}Drupal.attachBehaviors(attachContext)}if(popup.options.updateMethod!=="none"){Popups.testContentSelector();Popups.restoreSettings();if(popup.options.targetSelectors){jQuery.each(popup.options.targetSelectors,function(t_new,t_old){if(!isNaN(t_new)){t_new=t_old}var new_content=$(t_new,data.content);if(new_content.length==0&&Popups.isset(data.content_top)){new_content=$(t_new,data.content_top)}if(new_content.length==0&&Popups.isset(data.content_right)){new_content=$(t_new,data.content_right)
}if(new_content.length==0&&Popups.isset(data.content_left)){new_content=$(t_new,data.content_left)}if(new_content.length==0&&Popups.isset(data.content_left_top)){new_content=$(t_new,data.content_left_top)}if(new_content.length==0&&Popups.isset(data.content_top_upper)){new_content=$(t_new,data.content_top_upper)}var $c=$(popup.targetLayerSelector()).find(t_old).html(new_content.html());Drupal.attachBehaviors($c)})}else{var $c=$(popup.targetLayerSelector()).find(Popups.originalSettings.popups.defaultTargetSelector).html(data.content);Drupal.attachBehaviors($c)}}if(popup.options.titleSelectors){jQuery.each(popup.options.titleSelectors,function(){$(""+this).html(data.title)})}Popups.removeLoading();if(!popup.options.forceShowNextActivePopup&&!showMessage){Popups.close()}else{if(Popups.activePopup()){nextActivePopup=Popups.activePopup();nextActivePopup.show();nextActivePopup.refocus();Drupal.settings=Popups.originalSettingsStack[nextActivePopup.id]}else{Popups.removeOverlay();Popups.restorePage();
if(popup&&popup.fullScreen){$("html").css("overflow","auto")}}}}$(document).trigger("popups_form_success",[popup,data])}};Popups.getLayerContext=function(b){var a;if(!b){a=$("body").find(Popups.originalSettings.popups.defaultTargetSelector)}else{a=b.$popupBody()}return a};Popups.saveFormOnLayer=function(g,e,f){var a=Popups.getLayerContext(f);var d=a.find("form");var b={iframe:false,dataType:"text",beforeSubmit:Popups.beforeSubmit,beforeSerialize:Popups.beforeSerialize,headers:Popups.ajaxHeaders,beforeSend:Popups.beforeSend,success:function(l,h,m){var j=$.parseJSON(l);var k=a.html(j.content);Drupal.attachBehaviors(k);Popups.openPath(g,e,f)}};d.ajaxSubmit(b)};Popups.testContentSelector=function(){var b=Popups.originalSettings.popups.defaultTargetSelector;var a=$(b).length;if(a!==1){var d=Drupal.t("The popup content area for this theme is misconfigured.")+"\n";if(a===0){d+=Drupal.t("There is no element that matches ")+'"'+b+'"\n'}else{if(a>1){d+=Drupal.t("There are multiple elements that match: ")+'"'+b+'"\n'
}}d+=Drupal.t('Go to admin/build/themes/settings, select your theme, and edit the "Content Selector" field');alert(d)}};Popups.errorMessage=function(d,j,h,b,f){var g="https://support.schoology.com/hc/en-us/requests/new",a=Drupal.t("New Support Request"),e='<a href="'+g+'">'+a+"</a>";Popups.message(Drupal.t("Unexpected Error"),"<p>"+Drupal.t("Please try again in a few minutes")+'</p><p class="description">'+Drupal.t("If after trying a few times you continue to see this message, please contact the Support Team")+"</p><p>"+e+"</p>");$.post("/popups_error",{popups_error:j,popups_url:b,popups_data:f,popups_status:d.status,popups_response:d.status<300?d.responseText:"",error_type:"popups"})};Drupal.theme.prototype.popupLoading=function(){var a='<div id="popups-loading">';a+='<img src="'+Drupal.settings.basePath+Popups.originalSettings.popups.modulePath+'/ajax-loader.gif" />';a+="</div>";return a};Drupal.theme.prototype.popupOverlay=function(){return'<div id="popups-overlay"></div>'};Drupal.theme.prototype.popupButton=function(a,b){return'<input type="button" value="'+a+'" id="'+b+'" />'
};Drupal.theme.prototype.popupDialog=function(e,h,b,g){var f=Drupal.theme("popupTemplate",e);var d=f.replace("%title",h).replace("%body",b);var a="";if(g){jQuery.each(g,function(k,j){a+=Drupal.theme("popupButton",j.title,k)})}d=d.replace("%buttons",a);return d};Drupal.theme.prototype.popupTemplate=function(a){var b="";b+='<div id="'+a+'" class="popups-box">';b+='  <div class="popups-title">';b+='    <div class="popups-close"><a href="#">'+Drupal.t("Close")+"</a></div>";b+='    <div class="title">%title</div>';b+='    <div class="clear-block"></div>';b+="  </div>";b+='  <div class="popups-body">%body</div>';b+='  <div class="popups-buttons">%buttons</div>';b+='  <div class="popups-footer"></div>';b+="</div>";return b};Drupal.theme.prototype.popupTemplate=function(a){var b="";b+='<div id="'+a+'" class="popups-box" role="dialog">';b+='  <div class="popups-title">';b+='    <div class="popups-close"><a><span class="visually-hidden">'+Drupal.t("Close")+"</span></a></div>";b+='    <div class="title">%title</div>';
b+='    <div class="clear-block"></div>';b+="  </div>";b+='  <div class="popups-body" tabindex="0">%body</div>';b+='  <div class="popups-buttons tabindex="0">%buttons</div>';b+='  <div class="popups-footer"></div>';b+="</div>";return b};Drupal.behaviors.sUpdate=function(a){$("#s-update-create-form:not(.sUpdate-processed), #s-update-create-combined-form:not(.sUpdate-processed)",a).addClass("sUpdate-processed").each(function(){var b=$(this);$("#toggle-copy",b).click(function(){if($("div#attachment-links").length>0){$("#attachment-file").hide();$("#attachment-link").hide();$("ul#attachment-selector li#link-selector").removeClass("active");$("ul#attachment-selector li#file-selector").removeClass("active")}if($("#toggle-copy").hasClass("active")){$("#copy-to-courses .form-checkboxes:first").hide();$("#toggle-copy").removeClass("active")}else{$("#copy-to-courses .form-checkboxes:first").show();$("#toggle-copy").addClass("active")}return false});if(window.sTinymce){sTinymce.checkInlineImgBeforeSubmit(a)
}});$(".s-edge-type-update-post:not(.sUpdate-processed),.s-edge-type-update-post-parent:not(.sUpdate-processed),.s-edge-type-update-poll:not(.sUpdate-processed), .update-comments:not(.sUpdate-processed)",a).addClass("sUpdate-processed").each(function(){var b=$(this);$(".s-comments-post-form",b).each(function(){var d=$(this);$("textarea",d).each(function(){var e=$(this);e.removeClass("add-comment-resize")})});$(".show-more-link",b).click(function(g){g.preventDefault();var f=$(this);var d=f.hasClass("comment-link");$.ajax({url:f.attr("href"),method:"post",dataType:"json",success:function(j){if(d){var h=f.parents(".comment-comment");var k=$(".comment-author",h);h.empty().append(k).append(" "+j.comment)}else{var h=f.parents(".update-sentence-inner:first");var e=$(".update-body",h);e.empty().html(j.update)}f.remove()}})});$("span.ajax-post-comment",b).each(function(){var d=$(this).parents("li").find(".feed-comments");sUpdateDisplayPostComments(d,false,false);$(this).bind("click",function(){sUpdateDisplayPostComments(d,true,true,true);
return false});$("textarea:focus",d).trigger("focus")});$("span.feed-comments-viewall",b).each(function(){var h=$(this).parents("li").find(".feed-comments");var g=$(this).attr("id");var d=g.split("-");var f=d[3];var e=d[5];$(this).bind("click",function(){var j=Drupal.settings.s_edge;if(e>j.update_max_comments_show&&e<=j.update_max_comments_ajax){sUpdateAjaxGetComment(f,h);return false}if(e>j.update_max_comments_ajax){var k={extraClass:"popups-large update-comments-popup no-buttons",href:"/update_post/"+String(f)+"/comments",hijackDestination:false,disableCursorMod:true,disableAttachBehaviors:false};Popups.openPath(this,k,window);return false}})});b.sActionLinks({hidden:true,wrapper:".update-post-action-links",rowClass:".edge-item"});$(".like-btn",b).each(function(){$(this).bind("click",function(){$(".feed-comments",$(this).parents(".edge-footer")).removeClass("s-update-edge-hide-comments-form")})});$("a.delete-update-post",b).bind("click",function(g){g.preventDefault();var f=$(this);var d=f.attr("href");
sCommonConfirmationPopup({title:Drupal.t("Delete Post"),body:Drupal.t("Are you sure you want to delete this update?"),extraClass:"popups-small",element:this,confirm:{text:Drupal.t("Delete"),func:function(){sPopupsClose();Popups.addLoading();$.ajaxSecure({url:d,success:function(h,e,k){Popups.removeLoading();var j=f.parents(".s-edge-type-update-post,.s-edge-type-update-poll");j.empty().addClass("deleted").append(Drupal.t("This update has been deleted"))}})}}})});$(".s-js-comment-wrapper",b).each(function(){$(this).sActionLinks({hidden:true,wrapper:".s-js-comment-action-links",rowClass:".comment-contents"})});sCommentAttachActions(b)})};function sUpdateAjaxGetComment(a,b){if($(".feed-comments-viewall-container",b).data("comments_loading")){return}$.ajax({url:"/comment/ajax/"+String(a),dataType:"json",beforeSend:function(){$(".comments-loading",b).css("display","inline-block");$(".feed-comments-viewall-container",b).data("comments_loading",true)},success:function(f,e,h){$(".feed-comments-viewall-container",b).remove();
var g=$(f.comments).html();$("#s_comments",b).replaceWith(g);var d=b.closest(".s-edge-type-update-post");d.removeClass("sUpdate-processed");Drupal.attachBehaviors(d.parent())}})}function sUpdateDisplayPostComments(e,h,g,a){if(e==null){var e=$(".s-comments-post-form")}if(h){$("#s_comments",e).show()}if(g){$(e).show();$("div.s-comments-post-form",e).show();$("div.feed-comments-top",e).show();$("div.feed-comments-viewall-container",e).show()}var b=e.find("textarea");if(b.length){var d=b.attr("defaulttext");if(b.val()==""||b.val()==d){b.val(d).addClass("pre-fill")}if(a){var f=e.is("form")?e:e.find("form");f.trigger("focusin");b.trigger("focus")}}}Drupal.behaviors.sEdgeMore=function(b){var a=false;$(".s-edge-feed-more-link a:not(.sEdgeMore-processed)",b).addClass("sEdgeMore-processed").each(function(){var e=$(this);var d=e.parent();sEdgeSetupMoreLink(e,d,"s-edge-feed");if(!a&&d.prevAll().length==0){d.closest(".s-edge-feed").addClass("initial-load");a=true;e.click()}});$(".notif-more a:not(.sEdgeMore-processed)",b).addClass("sEdgeMore-processed").each(function(){var e=$(this);
var d=e.parent();sEdgeSetupMoreLink(e,d,"s-notifications-mini")})};function sEdgeSetupMoreLink(f,a,e){var d=a.prev(),b=a.closest("."+e);a.hide();f.bind("click",function(){var g=f.attr("href");f.replaceWith('<img tabindex="0" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" class="more-loading" />');a.find("img").trigger("focus");$.ajax({url:g,dataType:"json",success:function(j,h,k){sEdgeMoreAddCSS(j.css);sEdgeMoreAddJS(j.js,function(){var m=a.closest(".edge-wrapper");m.show();var l=$("ul."+e,j.output).html();a.replaceWith(l);if(!b.hasClass("initial-load")){d.next().find("*").filter(Drupal.sAccessibility.focusableElementsString).filter(":visible").eq(0).trigger("focus")}else{b.removeClass("initial-load")}Drupal.attachBehaviors(m);if($(".s-notifications-mini").length>0){Drupal.attachBehaviors(".s-notifications-mini")}})},error:function(h,k,j){if(h.status===429){a.html('<li id="feed-empty-message" class="first last"><div class="small gray">'+Drupal.t("There are no posts")+"</div></li>")
}}});return false});a.show()}Drupal.behaviors.s_user=function(b){$("#s-user-custom-notifications-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){var e=$(this);var f=$(".select-all",e);f.click(function(){var g=$(this).is(":checked");$(".realm-setting",e).each(function(){$(this).prop("checked",g)})});$(".edit-select-all-wrapper",e).click(function(){$("input",this).click()});$(".realm-setting").each(function(){var g=$(this);g.change(function(){if(!g.attr("checked")&&f.attr("checked")){f.prop("checked",false)}})});$(".cancel-btn",e).click(function(k){var j=$(".setting-name",e).val();var g=$(".original-setting",e).html();$("select[name="+j+"]").selectmenu("value",g);var h=Popups.activePopup();if(h!=null){h.close()}k.preventDefault()})});$(".notifications-header:not(.sUser-processed)").addClass("sUser-processed").each(function(){if(Drupal.settings.s_user!="undefined"&&typeof Drupal.settings.s_user.notif_defaults!="undefined"){var e=Drupal.settings.s_user;$(".reset-default").click(function(){$("select.notif-setting-select").each(function(){var f=$(this).attr("name");
if(typeof e.notif_defaults[f]!="undefined"){$(this).selectmenu("value",e.notif_defaults[f])}})})}});$("#s-user-set-notifications-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("select.notif-setting-select").each(function(){var e=$(this);e.selectmenu({style:"dropdown"});e.change(function(){if(e.val()=="2"){var f="/user/custom_notification/"+e.attr("name");Popups.openPath(this,{href:f,ajaxForm:false,extraClass:"popups-custom-notification popups-medium"},window)}})})});$("#s-user-invite-colleague-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){ZeroClipboard.setMoviePath("/sites/all/misc/zeroclipboard/zeroclipboard.swf");var f=new ZeroClipboard.Client();f.setHandCursor(true);var g=$("#invite_link #url").html();g=g.replace(/&amp;/g,"&");f.setText(g);var e='<span class="zclipboard" style="position:absolute;">'+f.getHTML($("#invite_link").outerWidth(),$("#invite_link").outerHeight())+"</span>";$(".popups-body").append(e);repositionZClipboard();
f.addEventListener("complete",function(h,j){if($(".copied-wrapper").length==0){$(".popups-body").append('<span class="copied-wrapper">Link copied to your clipboard</span>')}else{$(".copied-wrapper").show()}setTimeout(function(){$(".copied-wrapper").fadeOut(400,function(){sPopupsResizeCenter()})},2500);sPopupsResizeCenter()});$(".addresses").focus(function(){if($(this).hasClass("pre-fill")){$(this).empty();$(this).removeClass("pre-fill")}repositionZClipboard()});if($("#s-user-invite-colleague-form").hasClass("emails-sent")){$("#s-user-invite-colleague-form").removeClass("emails-sent");$(".popup-invite").addClass("emails-sent");sPopupsResizeCenter()}$("#s-user-invite-colleagues-invite-by-email").bind("click",function(h){$(".popup-invite").addClass("sending-emails");$("#s-user-invite-colleagues-invite-choices,#s-user-invite-colleagues-click-to-copy-link,#s-user-invite-colleagues-click-to-copy-title").fadeOut(300,function(){$("#edit-emails,.s-user-invite-colleagues-invite-by-email-buttons").fadeIn(300,function(){repositionZClipboard()
})});h.preventDefault()});$("#s-user-invite-colleagues-invite-by-email-cancel").unbind("click");$("#s-user-invite-colleagues-invite-by-email-cancel").bind("click",function(h){$(".popup-invite").removeClass("sending-emails");$("#edit-emails,.s-user-invite-colleagues-invite-by-email-buttons").fadeOut(300,function(){$("#s-user-invite-colleagues-invite-choices,#s-user-invite-colleagues-click-to-copy-link,#s-user-invite-colleagues-click-to-copy-title").fadeIn(300,function(){repositionZClipboard()})});h.preventDefault()});$("#s-user-invite-colleagues-fb-button,#s-user-invite-colleagues-twitter-button").click(function(h){window.open($(this).attr("realhref"),"popup","width=650,height=380",false);h.preventDefault();return false})});$("a.show-code").click(function(){var f=$(this).attr("id");var f=f.split("-");var e='<div class="formatted-code">Code: '+f[1]+"</div>";$.prompt(e);return false});$("input#action-select-all").click(function(){var e=$(this);$("#s-user-manage-activation-form table input:checkbox").each(function(){if($(this).attr("checked")){$(e).prop("checked",false);
$(this).prop("checked",false)}else{$(e).prop("checked",true);$(this).prop("checked",true)}})});$("#s-user-edit-calendar-feed-settings-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("#webcal-addr",$(this)).focus(function(){document.getElementById("webcal-addr").select()}).mouseup(function(f){f.preventDefault()})});$("#s-user-profile-editor-profile-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){$("textarea",$(this)).elastic();var g=$(".learner-style-wrappper");var e=$("#edit-profile-about-learner-style-0-wrapper",g);var f=$("input[type=radio]",e);e.hide();sCommonFormRadioGroup(g,f)});$("#s-user-personal-account-settings-form:not(.sUser-processed)").addClass("sUser-processed").each(function(){var e=$(this);$(".timezone-select-time .timezone-use-list",e).bind("click",function(){$(this).parent().hide();$(".timezone-select-timezone",e).show();$("#edit-timezone-select-type",e).val("timezone")});$(".timezone-select-timezone .timezone-use-time",e).bind("click",function(){$(this).parent().hide();
$(".timezone-select-time",e).show();$("#edit-timezone-select-type",e).val("time")});$("#edit-user-name-first-preferred").on("keydown paste input",function(j){var l=$(this);var k=!!l.val().length;var h=l.closest(".name-first-preferred-wrapper");var g=$(".use-name-first-preferred-wrapper");var f=!g.hasClass("hidden");if(k!=f){g.toggleClass("hidden",f);h.toggleClass("has-preferred-first-name",k)}})});$(".s-js-name-title-wrapper:not(.sUser-processed)",b).addClass("sUser-processed").each(function(){var e=$(this),f=$(".s-js-name-title-custom",e);$(".s-js-name-title-select",e).change(function(g){if($(this).val()=="custom"){e.addClass("s-js-name-title-custom-enabled")}else{e.removeClass("s-js-name-title-custom-enabled");f.val("")}}).triggerHandler("change")});if($(".logout-exec").text()=="1"){var a=location.href;index=a.indexOf("settings/");var d="/logout?";if(Drupal.settings.s_common.hasOwnProperty("logout_token")){d+="ltoken="+Drupal.settings.s_common.logout_token+"&"}d+="destination=home.php?deleted";
newUrl=a.substring(0,index)+d;location.href=newUrl}$(".profile-picture-wrapper:not(.sUser-processed)",b).addClass("sUser-processed").each(function(){var h=$(this);var f=$(".edit-profile-picture-hover",h);var e=$(".profile-picture",h);var g=$("#profile-picture-uploader-wrapper",h);f.bind("click",function(){if(g.is(":visible")){g.hide()}else{g.show()}});$("body").bind("click",function(k){var j=$(k.target);if(!j.hasClass("profile-picture-wrapper")&&j.parents(".profile-picture-wrapper").length==0){g.hide()}});e.bind("s_profile_picture_uploaded",function(k,j){$("img",$(this)).attr("src",j).removeAttr("height");g.hide()})});$(".push-remove:not(.sUser-processed)",b).addClass("sUser-processed").bind("click",function(h){h.preventDefault();var g=$(this);var f='<span class="confirm-remove-device-name">'+g.siblings(".push-os").html()+"</span>";var j='<span class="confirm-message">'+Drupal.t("Are you sure you want to deactivate !device_name?",{"!device_name":f})+"</span>";sCommonConfirmationPopup({title:Drupal.t("Deactivate Device"),body:j,extraClass:"push-remove",confirm:{text:Drupal.t("Deactivate"),func:function(){$.ajax(g.attr("href"),{data:{ajax:true},success:function(k){if(k.body){$("#content-wrapper").html(k.body);
if(k.messages){var e=$("#main-content-wrapper");e.children(".messages").remove();e.prepend(k.messages)}Drupal.attachBehaviors($("#main-content-wrapper"))}},complete:function(){Popups.activePopup().close()}})}}})})};function repositionZClipboard(){var b=$("#invite_link").offset();var a=$(".popups-box").offset();$(".zclipboard").css("left",b.left-a.left);$(".zclipboard").css("top",b.top-a.top)}Drupal.behaviors.sCourseSwitcher=function(a){$("#taught-courses-switcher #edit-course-switcher-select-nid:not(.sCourseSwitcher-processed)",a).addClass("sCourseSwitcher-processed").each(function(){var b=$(this);if($("body.s-gradebook").length>0){b.selectmenu({change:function(){b.selectmenu("value",d)}});var d=b.selectmenu("value")}else{b.selectmenu()}b.change(function(h){var g=window.location.pathname;var f=g.split("/");f[2]=$(this).val();setTimeout(function(){window.location.href=f.join("/")},500);$(this).val(0)})});$("#taught-courses-switcher #edit-course-switcher-select-nid-button:not(.sCourseSwitcher-processed)",a).addClass("sCourseSwitcher-processed").each(function(){var b=$(this),d=b.siblings(".s-course-course-switcher"),e=d.find("#edit-course-switcher-select-nid-menu");
b.click(function(f){f.preventDefault();b.toggleClass("ui-state-active");if(b.hasClass("ui-state-active")){e.addClass("ui-selectmenu-open");sAngular.contextExec(e)}else{e.removeClass("ui-selectmenu-open")}});$(document).unbind("click.s_course_course_switcher").bind("click.s_course_course_switcher",function(g){var f=$(g.target);if(!f.closest("#taught-courses-switcher").length){b.removeClass("ui-state-active");e.removeClass("ui-selectmenu-open")}})})};Drupal.behaviors.sCourseMaterialsFolders=function(a){$(".materials-folder.item-info:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var e=$(this);var d=$(".folder-title a",e);var f=$(".folder-description",e);if(f.hasClass("description-clickable")){f.bind("click",function(g){if(!$(g.target).is("a")){d[0].click()}})}});(function(){function e(f){f.closest("#folder-contents-table").find("tbody.ui-sortable").each(function(h,g){$(g).sortable("refresh")})}function d(h,p){var j=h.siblings(".folder-subtree"),m=j.find(".action-links-wrapper"),n=h.parent().find(".s-js-folder-description"),o=h.parent().find(".folder-title"),p=p||false,f=h.closest(".material-row-folder").attr("id").split("-")[1];
var l="easeInQuad",g=300;function k(q){if(q){descFunc="slideUp";subtreeFunc="slideDown"}else{descFunc="slideDown";subtreeFunc="slideUp"}n[descFunc]({duration:g,easing:l});m.hide();j[subtreeFunc]({duration:g,easing:l,done:function(){m.show()}})}if(p){h.find(".visually-hidden").text(Drupal.t("Collapse folder."));if(j.length){k(true)}else{$loader=$('<img class="pending" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />');j=$('<div class="folder-subtree"></div>');h.parent().append(j);o.after($loader);$.ajax({dataType:"json",url:window.location.pathname,data:{ajax:1,f:f},success:function(t){t=$(t);$("form>div",t).unwrap();$("[name=form_build_id], [name=form_token], [name=form_id]",t).remove();$loader.remove();j.hide().html(t);k(true);Drupal.attachBehaviors(j);$("tr td.actions",j).sActionLinks({hidden:false,wrapper:".action-links-wrapper"});var q=$(document).data("sCourseMaterialsFoldersActionPush");if(q&&q.length){var u=q.pop();var r=$("#f-"+u+" > td.folder-contents-cell > .folder-expander");
if(!r.hasClass("expanded")){r.click()}$(document).data("sCourseMaterialsFoldersActionPush",q)}else{e(j)}},error:function(){j.html('<div class="error">'+Drupal.t("There was an error while loading the folder content. Please reload this page and try again.")+"</div>");e(j)}})}}else{h.find(".visually-hidden").text(Drupal.t("Expand folder."));k(false)}}$(".folder-contents-cell .folder-expander:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var f=$(this);f.click(function(){var g=!f.hasClass("expanded");f.toggleClass("expanded");d(f,g)})})})();if($("#folder-contents-table").length){$("body:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){$(document).bind("popups_open_path",function(g,f,d){var h=$(f).parents();if(h.hasClass("action-links-wrapper")||h.closest(".action-links-wrapper").length){var e=[];h.closest(".subtree-folder-contents-table").parents("tr.material-row-folder").each(function(){e.push($(this).attr("id").split("-")[1])
});if(e&&e.length){$(document).data("sCourseMaterialsFoldersActionPush",e)}else{$(".folder-expander.expanded").trigger("click")}location.hash="foldersexpanded="+e.join(",")}if(h.closest("#course-materials-action-links-inline").length){var e=[];var j=h.closest("#course-materials-action-links-inline").data("materialsRowAddId");if(j){$("#"+j).parents("tr.material-row-folder").each(function(){e.push($(this).attr("id").split("-")[1])})}if(e.length){location.hash="foldersexpanded="+e.join(",")}}}).bind("popups_form_success",function(f,d,g){var e=$(document).data("sCourseMaterialsFoldersActionPush");if(e&&e.length){var h=e.pop();var j=$("#f-"+h+">td.folder-contents-cell>.folder-expander");if(!j.hasClass("expanded")){j.click()}$(document).data("sCourseMaterialsFoldersActionPush",e)}})});if(location.hash.match("foldersexpanded")){var b=location.hash.split("foldersexpanded=")[1].split(",");b.forEach(function(d){var e=d;var f=$("#f-"+e+">td.folder-contents-cell>.folder-expander");if(!f.hasClass("expanded")){f.click()
}})}}$("#s-generic-post-new-display-view:not(.sCourseMaterialsFolders-processed),#folder-contents-table:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var g=$(this);if(g.attr("id")=="folder-contents-table"){$("tr td.actions").sActionLinks({hidden:false,wrapper:".action-links-wrapper"});var e=$(".materials-top .course-content-action-links .action-links");var f=$('<div id="course-materials-action-links-inline" class="hidden"></div>');$("body").append(f);var d=null;g.click(function(l){var k=$(l.target);if(k.parent(".materials-row-add-line").length){var o=k.closest(".materials-row-add").attr("id");var n=o.split("-");var h=n[3];var j=n[4];if(d&&o==d.closest(".materials-row-add").attr("id")){f.hide();d=null;return}d=k;var m=k.offset();f.empty().data("materialsRowAddId",o).append(e.clone(true).show()).show().css({position:"absolute",top:m.top+k.height(),left:m.left});$("li",f).each(function(){var r=$(this);var q=$("a",r);var p=r.attr("class");
if(q[0]==undefined){return true}var u=q[0].pathname;u=u.replace(/^\//,"");var v=q[0].search;if(!v.length){var t={}}else{var t=getQueryParams(v)}switch(p){case"action-import-library":if(h>0){t.topic_nid=h}else{delete t.topic_nid}t.fweight=j;q.attr("href","/"+u+"?"+jQuery.param(t));break;case"action-find-resources":r.remove();break;default:if(h==0&&!sCourseMaterialsDisplayIsWithoutIndex()){if(p!="action-create-folder"){r.remove();return}else{r.addClass("folder-no-materials")}}t.f=h;t.fweight=j;q.attr("href","/"+u+"?"+jQuery.param(t));break}})}});$("body").click(function(j){var h=$(j.target);if(h.parent(".materials-row-add-line").length==0){f.hide();d=null}})}$(".has-view-rule:not(.completed)",g).click(function(){var h=$(this).parents(".type-document:first");var j=h.attr("id").split("-")[1];$.ajaxSecure({url:"/course/materials/"+j+"/view_completion"})})});$("#closeable-message-s_course_find_resources:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){$(document).bind("s_common_closeable_message_closed",function(g,d){if(d=="s_course_find_resources"){var f='<div class="fake-cluetip"><span class="arrow-top"><span>'+Drupal.t("You can find resources for your course in this menu.")+"</div>";
var h=$(".course-content-action-links").offset();$("body").append(f);$(".fake-cluetip").css({position:"absolute",left:h.left+$(".course-content-action-links").width(),top:h.top});setTimeout(function(){$(".fake-cluetip").remove()},2000)}})});$("#s-course-materials-folder-create-form:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var g=$(this);var e=$(".rules-msg",g);var d=$(".availability-start-wrapper",g);var f=$(".availability-add-end",g);var j=$(".availability-end-wrapper",g);var h=$("#edit-apply-to-children-wrapper",g);f.click(function(){$(this).remove();j.show();sPopupsResizeCenter()});if(typeof sCommonAdvancedOptions=="object"){sCommonAdvancedOptions.registerEvent(g.attr("id"),"custom-fields","sCourseMaterialsFolders",function(k){if(k.hasClass("adv-option-on")){$("#folder-custom-fields-wrapper",g).show()}else{$("#folder-custom-fields-wrapper",g).hide()}sPopupsResizeCenter()})}$("#edit-availability",g).bind("change",function(){var k=parseInt($(this).val());
switch(k){case 1:h.show();if(e.length){e.hide()}break;case 2:h.hide();if(e.length){e.show()}break;case 3:h.hide();if(e.length){e.show()}break;case 4:h.hide();if(e.length){e.show()}f.remove();j.show();break;default:break}sPopupsResizeCenter()});$("#edit-availability",g).trigger("change")});$("#s-course-materials-folder-completion-form:not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var d=$(this);hasDueList=new Array();$(".add-rule",d).click(function(){if(!$(this).hasClass("disabled")){$("#edit-rules-submitter",d).trigger("click")}});$(".auto-populate",d).click(function(){$(".ahah-populate-submitter",d).trigger("click")});sCourseMaterialsSetupRules(d,true);sCourseMaterialsSetupRemove("rule-option",d);$(document).ajaxSend(function(g,h,f){if(f.url=="/course/new_rule"){$(".add-rule",d).addClass("disabled")}});$(document).ajaxComplete(function(h,j,g){if(g.url=="/course/new_rule"||g.url=="/course/remove_rule"||g.url=="/course/populate_rule"){sCourseMaterialsSetupRules(d,false,(g.url=="/course/remove_rule"));
sCourseMaterialsSetupRemove("rule-option",d);var f=$(".add-rule",d);if(g.url=="/course/populate_rule"){f.hide()}else{if(g.url=="/course/remove_rule"&&!f.is(":visible")){f.show()}}$(".add-rule",d).removeClass("disabled")}sPopupsResizeCenter()})})};function sCourseMaterialsSetupRemove(b,a){$("."+b+":not(.sCourseMaterialsFolders-processed)",a).addClass("sCourseMaterialsFolders-processed").each(function(){var d=$(this);$(".delete-btn",d).click(function(){var f=d.attr("id");var e=d.hasClass("existing")?"1":"0";$(".rule-remove-existing",a).val(e);$(".rule-remove-id",a).val(parseInt(f));$(".ahah-remove-rule",a).click()})})}function sCourseMaterialsSetupRules(b,d,h){if(typeof h=="undefined"){h=false}if(typeof Drupal.settings.s_course=="undefined"&&typeof Drupal.settings.s_course.type_options=="undefined"){return}var e=Drupal.settings.s_course.type_options;var j=Drupal.settings.s_course.types;var k=Drupal.settings.s_course.max_pts;var l=Drupal.settings.s_course.constants;var a=Drupal.settings.s_course.due_events;
var g=Drupal.settings.s_course.comments_disabled;var f=Drupal.settings.s_course.submit_disabled;$(".rule-item:not(.sCourseMaterialsFolders-processed)",b).addClass("sCourseMaterialsFolders-processed").each(function(){var p=$(this);var n=p.parents(".rule-option:first");var o=n.attr("id");var m=true;p.change(function(t){var r=p.val();var v=$(".rule-action",n);var u=j[r];if(typeof a[r]!="undefined"&&a[r]>0){$(".has-due-event-warning",b).show();hasDueList[parseInt(o)]=true}else{hasDueList[parseInt(o)]=undefined}if(!hasDueList.join("").length){$(".has-due-event-warning",b).hide()}var q=$("option:selected",v).val();v.empty();$(".action-options option").each(function(){var w=$(this);var x=w.val();if(x==l.comment&&g[r]==true){return true}if((x==l.submit||x==l.score)&&f[r]==true){return true}if($.inArray(parseInt(x),e[u])>-1){var y=w.clone().appendTo(v);if(y.val()==q){y.attr("selected","selected")}}});if((!m||!d)&&!h){v.val($("option:visible:first",v).val())}else{m=false}$(".max-pt",n).hide();$(".rule-icon",n).html(Drupal.settings.s_course.rule_icons[p.val()]);
sPopupsResizeCenter()});p.change()});$(".rule-action:not(.sCourseMaterialsFolders-processed)",b).addClass("sCourseMaterialsFolders-processed").each(function(){var n=$(this);var m=n.parents(".rule-option:first");n.change(function(){var o=$(".rule-item",m).val();if(n.val()==l.score){$(".max-pt-num",m).html(k[o]);$(".max-pt",m).show()}else{$(".max-pt",m).hide()}sPopupsResizeCenter()});n.change()})}Drupal.behaviors.sCourse=function(a){if($("body").hasClass("s-enable-mathml")){s_renderMath()}$(".assignments-container:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){setupAssignmentPaging(this)});$(".subtree-folder-contents-table:not(.sCourse-processed), .planner-right-contents-table:not(.sCourse-processed), #folder-contents-table:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var b=$(this);sCourseEnableContentReorder($(">tbody",b))});$(".access-code:not(.sCourse-processed)").addClass("sCourse-processed").each(function(){var b=this;$(".access-delete",b).click(function(){var e=window.location.pathname.substring(1);
var d=e.split("/")[1];$.ajaxSecure({url:"/enrollment/code/visibility/course/"+d+"/hide",dataType:"json",type:"GET",success:function(g,f){$(b).hide()}})})});$("#course-events:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var d=$(this);var f=window.location.pathname.substring(1);var e=f.split("/")[1];$.ajax({url:"/course/"+e+"/calendar_ajax"+(window.location.search.length?window.location.search+"&":"?")+"original_q="+f,dataType:"json",type:"GET",success:function(h,g){$(".more-loading",d).remove();d.append($(h).children());if(window.location.search.match("mini=")){$("#event-calendar",b).click()}sAttachBehavior("sCourse",d);sAttachBehavior("sCommonInfotip",d);d.show()}});var b=$("h3#event-selector",d);$("#event-calendar",b).click(function(){var h=new Popups.Popup();var g='<div id="fcalendar" style="width: 800px;"></div>';var j={popup_cancel:{title:Drupal.t("Close"),func:function(){h.close()}}};h.extraClass="popups-extra-large calendar-popup-mini";var k=h.open(Drupal.t("Calendar"),g,j);
Drupal.attachBehaviors($("#"+String(k.id)+""));Drupal.behaviors.sCommonMediaFileIframeUseRelativeUrl($("#"+String(k.id)+""));$("#share-calendar-option-containter .share-calendar-option").insertAfter("#fcalendar");sPopupsResizeCenter()})});$("div#course-profile-selector:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var b=$(this);$("li",b).click(function(){var d=$(this);if(d.attr("id")=="selector-materials"){$("#course-profile-materials").show();$("#course-profile-updates").hide()}if(d.attr("id")=="selector-updates"){$("#course-profile-updates").show();$("#course-profile-materials").hide()}$("li.active",b).removeClass("active");d.addClass("active")})});$("div#important-post:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var b=$(this);$("a.important-remove-hidden",b).bind("click",function(){$(this).parent().parent().find("form").submit();return false})});$(".course-info-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var e=$(this);
var d=$(".course-info-full",e);var b=$(".course-info-less",e);$(".more-link",e).click(function(){b.hide();d.show()});$(".less-link",e).click(function(){b.show();d.hide()})});$(".notification-settings:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){sUserSetupRealmNotifButton($(this))});$(".profile-picture-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var f=$(this);var d=$(".edit-profile-picture-hover",f);var b=$(".profile-picture",f);var e=$("#profile-picture-uploader-wrapper",f);d.bind("click",function(){if(e.is(":visible")){e.hide()}else{e.show()}});$("body").bind("click",function(h){var g=$(h.target);if(!g.hasClass("profile-picture-wrapper")&&g.parents(".profile-picture-wrapper").length==0){e.hide()}});b.bind("s_profile_picture_uploaded",function(h,g){$("img",$(this)).attr("src",g).removeAttr("height");e.hide()})});$("li.assignment .action-links-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:".action-links-wrapper"})
});$("#link-sections-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:"#link-sections-wrapper"})});$("#s-course-settings:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:".action-links-wrapper"})});$("#course-profile-materials .materials-top:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var b=$(this);$("#print-view",b).bind("click",function(){$("body").addClass("print-view");var d=$('<div id="print-return"><span>'+Drupal.t("Return to previous page")+"</span></div>");d.click(function(){location.reload()});$("body").prepend(d);$("#course-profile-materials .ui-sortable").sortable("destroy");window.print()});$("#toolbar-options-wrapper",b).addClass("sCourse-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:"#toolbar-options-wrapper"})});$(".course-content-action-links",b).each(function(){$(this).sActionLinks({hidden:false,wrapper:".action-links-wrapper"});
$(".action-links.has-material-apps",this).on("click",".action-lti-app",function(h){h.preventDefault();var f="/tinymceinsertresourcesapp?r="+String($(this).data("realm"))+"&id="+String($(this).data("realm_id"))+"&a="+String($(this).data("app_nid"))+"&context=materials";var g=getQueryParams($("a",this).prop("href"));if(g&&typeof g.f!="undefined"){f+="&f="+String(g.f)}if(g&&typeof g.fweight!="undefined"){f+="&fweight="+String(g.fweight)}Popups.saveSettings();var d=Popups.activePopup();var k=Popups.options({ajaxForm:false,extraClass:"popups-extra-large popups-insert-library",updateMethod:"none",href:f,hijackDestination:false,disableCursorMod:true,disableAttachBehaviors:false});var j=sCommonGetSetting("s_app","cookie_preload_urls",$(this).data("app_nid"));if(j){sAppMenuCookiePreloadRun($(this).data("app_nid"),j,function(){sAppLauncherClearCache($(this).data("app_nid"));sAppMenuCookiePreloadDelete($(this).data("app_nid"));Popups.openPath(this,k,d)})}else{Popups.openPath(this,k,d)}})})});$(".past-assignments-grading-period .clickable:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){$(this).click(function(){var b=$(">ul",$(this).parent());
if(b.css("display")=="none"){$(this).parent().removeClass("assignments-hidden");b.show()}else{$(this).parent().addClass("assignments-hidden");b.hide()}})});$(".s-course-editor-wrapper .save-and-continue-btn:not(.sCourse-processed)",a).addClass("sCourse-processed").bind("click",function(){var d=$(this).parents(".s-course-editor-wrapper");var b=d.find("form");b.submit();return false});$("#menu-s-main a.course-materials-left-menu:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var f=$(this),b=$(".materials-dropdown-arrow",f),d=$("#course-materials-dropdown"),e=d.find(".item-list ul").length>0;f.after(d);if(e){b.removeClass("hidden").click(function(){var h=$(this);var g=d.is(":hidden");if(g){$("body").bind("click.sCourseMaterialsHandle",function(l){var k=$(l.target);var j=d.is(":hidden");if(!j&&k!=d&&k.parents("#course-materials-dropdown").length==0){$(".materials-dropdown-arrow",f).click()}});d.show();$(this).addClass("active")}else{d.hide();$(this).removeClass("active");
$("body").unbind("click.sCourseMaterialsHandle")}return false})}else{b.hide()}});$("#right-column .reminders-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){sCourseSetupTodoList($(this))});if(!$("body").hasClass("anonymous")){$(".gen-post-link:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){var b=$(this);b.on("click",function(d){if(!b.hasClass("embed-cover")&&!genPostLink.hasClass("media-player-popup")){d.preventDefault()}sCourseTrackGenericPostView($(this))})})}$(".s-js-course-area-switcher .action-links-wrapper:not(.sCourse-processed)",a).addClass("sCourse-processed").each(function(){$(this).sActionLinks({hidden:false,wrapper:".badge-action-links"})});(function(b){$(".s-js-course-materials-full:not(.sCourse-processed)",b).addClass("sCourse-processed").each(function(){var f=$(this),l=f.find(".s-js-materials-filter-wrapper .action-links-wrapper"),r=l.find(".action-links-unfold-text"),w=f.find(".s-js-options-action-links-outer"),v=null;
function h(y){w.find(".s-js-content-option").hide();w.find(".s-js-content-option-"+y).show()}function q(z){v=l.find(".s-js-material-filter-"+z.replace(/_/g,"-"));var y=l.data("filter"),A=v.data("filter");if(y!=A){l.data("filter",A);l.find(".selected").removeClass("selected");v.closest("li").addClass("selected");r.text(v.text())}}function k(){if(v&&v.length){var z=o(),y=v.data("filter");if(z!=y){q(z)}sAngular.trigger("sCourseMaterialsFilterChanged",{filter:v.data("filter"),url:v.attr("href")})}}function x(y,z){var A="s-js-course-materials-full";y+=(y.indexOf("?")?"&":"?")+"ajax=1&style=full";sToggleActiveLoader(A,f);$.ajax({url:y,success:function(E){var C=$(E),D=f.find(".s-js-materials-body"),B=C.find(".s-js-materials-body");if(D.length){D.replaceWith(B)}else{f.append(B)}Drupal.attachBehaviors(f.find(".s-js-materials-body"));sAngular.trigger("sCourseMaterialsFilterContentRefreshed",z)},complete:function(){sToggleActiveLoader(A)}})}function o(){var y="all",z=/filter_type=(\w+)/.exec(window.location.hash);
if(z){y=z[1]}return y}function g(y){window.location.hash="!filter_type="+y}$(window).on("hashchange",function(y){k()});sAngular.on("sCourseMaterialsFilterChanged",function(A){var z=A.filter,y=A.url;x(y,z)});var d={};var e={updateMethod:"callback",onUpdate:function(y,z,A){k();Popups.close();return false}};var j={".materials-item-actions .action-publish a":{extraClass:"popups-small popups-publish"},".materials-item-actions .action-unpublish a":{extraClass:"popups-small popups-unpublish"},".materials-item-actions .action-delete a":{extraClass:"popups-small popups-action-item"},".materials-item-actions .action-move a":{extraClass:"popups-small popups-action-item"},".materials-item-actions .action-copy a":{extraClass:"popups-large popups-copy popups-action-item"},".materials-item-actions .action-distribute a":{extraClass:"popups-large popups-copy popups-action-item"},".materials-item-actions .action-library-save a":{extraClass:"popups-large"},".materials-item-actions .action-edit-properties a":{extraClass:"popups-large"},".materials-item-actions .s-js-locked-resource-link-diff":{extraClass:"popups-extra-large linked-content-diff-view"},".materials-item-actions .s-js-unlink-node":{extraClass:"popups-small unlink-popup"},".materials-item-actions .action-edit-link a":{extraClass:"popups-large popups-action-item popups-add-link"}};
var n=!!sCommonGetSetting("s_realm_info","csm_realm_id");if(n){j[".dr:not(.type-common-assessment) > * > .materials-item-actions .action-edit a"]={extraClass:"popups-large popups-action-item"};j[".type-common-assessment .materials-item-actions .action-edit a"]={extraClass:"popups-extra-large popups-action-item"}}else{j[".materials-item-actions .action-edit a"]={extraClass:"popups-large popups-action-item"}}var p={".materials-folder-actions .action-edit a":{extraClass:"popups-large popups-action-item",targetSelectors:["#s-course-materials-folder-contents-form"]},".materials-folder-actions .action-publish a":{extraClass:"popups-small popups-action-item",targetSelectors:["#s-course-materials-folder-contents-form"]},".materials-folder-actions .action-unpublish a":{extraClass:"popups-small popups-action-item",targetSelectors:["#s-course-materials-folder-contents-form"]},".materials-folder-actions .action-delete a":{extraClass:"popups-small popups-action-item",updateMethod:"reload"},".materials-folder-actions .action-copy a":{extraClass:"popups-large popups-action-item popups-copy",disableInputFocus:true,doneTest:"course/.+?/materials($|[^/].*)",updateMethod:"reload"},".materials-folder-actions .action-distribute a":{extraClass:"popups-large popups-copy popups-action-item"},".materials-folder-actions .action-move a":{extraClass:"popups-small popups-action-item",targetSelectors:["#course-profile-materials-folders"],updateMethod:"reload",doneTest:".+"},".materials-folder-actions .action-library-save a":{extraClass:"popups-large popups-action-item",hijackDestination:true,updateSource:"final",doneTest:"course/.+?/materials.*",updateMethod:"reload",},".materials-folder-actions .action-completion a":{extraClass:"popups-large popups-action-item student-completion-popup"}};
sAngular.on("sCourseMaterialsFilterContentRefreshed",function(z){h(z);if(typeof d[z]=="undefined"){d[z]=null;var y={};switch(z){case"all":y=$.extend({},p,j,{".materials-item-actions .action-convert a":{extraClass:"popups-small"},".materials-item-actions .action-edit-xlarge a":{extraClass:"popups-extra-large popups-action-item"},".materials-item-actions .action-rename a":{extraClass:"popups-small popups-action-item"},".materials-item-actions .action-remove a":{extraClass:"popups-small popups-action-item"},".materials-item-actions .action-package-delete a":{extraClass:"popups-small popups-package-delete"},".materials-item-actions .action-edit-package-props a":{extraClass:"popups-extra-large popups-package-edit-props"},".materials-item-actions .action-edit-launch-props a":{extraClass:"popups-small popups-package-edit-launch-props"},".materials-item-actions .action-view-progress a":{extraClass:"popups-extra-large popups-package-progress"},".materials-item-actions .action-copy a":{extraClass:"popups-large popups-action-item popups-copy",disableInputFocus:true,doneTest:"course/.+?/materials($|[^/].*)",updateMethod:"reload",},".materials-item-actions .action-move a":{extraClass:"popups-small popups-action-item",targetSelectors:["#course-profile-materials-folders"],updateMethod:"reload",doneTest:".+"},".materials-item-actions .action-library-save a":{extraClass:"popups-large popups-action-item",hijackDestination:true,updateSource:"final",doneTest:"course/.+?/materials.*",updateMethod:"reload",}});
break;case"assessments":case"assignments":case"discussion":y=$.extend({},j,{".view-ind-assign":{extraClass:"popups-small",disableInputFocus:true}});break;case"scorm":y=$.extend({},j,{".materials-item-actions .action-edit-package-props a":{extraClass:"popups-extra-large popups-package-edit-props"},".materials-item-actions .action-edit-launch-props a":{extraClass:"popups-small popups-package-edit-launch-props"},".materials-item-actions .action-view-progress a":{extraClass:"popups-extra-large popups-package-progress"}});break;case"web":case"album":y=$.extend({},j);break;case"pages":y=$.extend({},j,{".materials-item-actions .action-edit-xlarge a":{extraClass:"popups-extra-large"},".materials-item-actions .action-add-to-folder a":{extraClass:"popups-small"}});break;case"documents_files":case"documents_links":case"documents_external_tools":y=$.extend({},j,{".materials-item-actions .action-rename a":{extraClass:"popups-small popups-action-item"},".materials-item-actions .action-copy a":{extraClass:"popups-large popups-action-item popups-copy",doneTest:"course/.+?/materials($|[^/].*)"}});
break;case"common_assessments":y=$.extend({},j,{".materials-item-actions .action-edit a":{hidden:false,extraClass:"popups-large popups-action-item",wrapper:".action-links-wrapper"},".materials-item-actions .action-publish a":{hidden:false,extraClass:"popups-small popups-publish",wrapper:".action-links-wrapper"},".materials-item-actions .action-move a":{hidden:false,extraClass:"popups-small popups-action-item",wrapper:".action-links-wrapper"},});break}if(!$.isEmptyObject(y)){var B=z=="all"?".s-js-full-view":".s-js-filtered-view-"+z.replace(/_/g,"-"),A=sCommonGetSetting("popups","links")||{};$.each(y,function(C,D){if(typeof A[C]=="undefined"){D=$.extend({},e,D);f.on("click",B+" "+C,D,function(E){E.preventDefault();return Popups.clickPopupElement(this,Popups.options(E.data))})}})}}});l.sActionLinks({hidden:false});l.on("click",".s-js-material-filter-link",function(z){z.preventDefault();var y=$(this).data("filter");sStatsRecordEvent("course:materials:filter_clicked:"+y);q(y);g(y)});var u=l.find(".selected"),t=o();
if(t!="all"){q(t);k()}else{if(u.length){var m=u.find(".s-js-material-filter-link").data("filter");q(m);sAngular.trigger("sCourseMaterialsFilterContentRefreshed",m)}else{sAngular.trigger("sCourseMaterialsFilterContentRefreshed","all")}}});$(".s-js-materials-filter-more-link:not(.sCourse-processed)",b).addClass("sCourse-processed").each(function(){var e=$(this),d="s-js-materials-filter-more";e.sInfiniteScroll({loadMore:function(){e.trigger("click")}}).on("click",function(j){j.preventDefault();var f=e.attr("href"),h=e.closest(".s-js-course-materials-full"),g=h.find(".s-js-materials-body");sToggleActiveLoader(d,e);$.ajax({url:f,success:function(m){var n=$(m),k=n.find(".s-js-filtered-view-list"),l=n.find(".s-js-materials-filter-more-link");if(k.length){g.find(".s-js-filtered-view-list").append(k.children())}if(l.length){g.append(l)}Drupal.attachBehaviors(g)},complete:function(){sToggleActiveLoader(d);e.remove()}})})});$(".s-js-materials-filtered-actions:not(.sCourse-processed)",b).addClass("sCourse-processed").each(function(){$(this).find(".action-links-wrapper").sActionLinks({hidden:false})
})}(a))};function sCourseEnableContentReorder(b){var a=sCourseMaterialsDisplayIsWithoutIndex();if(!b.closest("#course-profile-materials").hasClass("materials-admin-view")){return}var d=$("#course-profile-materials-folders").hasClass("planner-view");if(d){if(b.parent().attr("id")=="folder-contents-table"){var e=false}else{var e=".subtree-folder-contents-table>tbody, .planner-right-contents-table>tbody"}}else{var e="#folder-contents-table>tbody, .subtree-folder-contents-table>tbody, .planner-right-contents-table>tbody"}b.sortable({forcePointerForContainers:true,items:"> tr:not(.materials-row-add)",handle:".folder-title, .item-title, .document-body-title, .item-icon, .inline-icon",connectWith:e,cancel:".materials-row-add, .type-empty",delay:500,helper:function(j,f){var g=f.clone(),h=f.find(".folder-subtree");g.find(".folder-subtree").hide();g.find(".s-js-folder-description").hide();if(h.length){g.height(f.height()-h.height())}return g},placeholder:"reorder-target-placeholder",opacity:0.5,expandDelay:500,expand:function(g,f){var h=$(".folder-expander",f);
if(h.length&&!h.hasClass("expanded")){h.click()}},start:function(h,g){sCourseSaveContentTableWeightsTimeout&&clearTimeout(sCourseSaveContentTableWeightsTimeout);$("#folder-contents-table").addClass("sorting");var f=g.placeholder.next(".materials-row-add");if(f.length){g.item.data("sCourseReorderRowAdd",f)}},stop:function(k,o){$("#folder-contents-table").removeClass("sorting");var m=o.item;var l=o.item.parent();var g=o.item.data("sCourseReorderRowAdd");if(g){if(o.item.next(".materials-row-add").length){o.item.before(g)}else{o.item.after(g)}o.item.removeData("sCourseReorderRowAdd")}var f=0;var j=getQueryParams(window.location.search);var h=j.f||0;var n=o.item.parent().closest(".material-row-folder");if(n.length){h=n.attr("id").split("-")[1]}l.children().each(function(){var q=$(this);if(q.hasClass("materials-row-add")){var p=q.attr("id").split("-");p[3]=h;p[4]=f;q.attr("id",p.join("-"))}else{q.attr("display_weight",f);f++}});sCourseSaveContentTableWeights(l,m)},change:function(h,g){if(!a){var j=getQueryParams(window.location.search);
var f=j.f||0;if(f==0&&!g.item.hasClass("material-row-folder")&&$(g.placeholder).closest("table").attr("id")=="folder-contents-table"){$(g.placeholder).hide()}else{$(g.placeholder).show()}}},receive:function(j,h){if($(this).parent().attr("id")=="folder-contents-table"){if(!a){var k=getQueryParams(window.location.search);var f=k.f||0;if(f==0&&!h.item.hasClass("material-row-folder")){h.sender.sortable("cancel")}}}else{h.item.find(".folder-alignment-wrapper").remove();h.item.find(".folder-visibility").remove()}var g=h.item.parent();$(">.type-empty",g).hide();if(h.sender&&h.sender.children().not(".materials-row-add").not(".type-empty").length==0){$(">.type-empty",h.sender).show()}},})}function sCourseMaterialsDetermineDestination(d,a,b){if(location.pathname!=Drupal.settings.basePath+d.path){location.reload()}}function sCourseTopicGotoEditor(d,a,b){location.href=Drupal.settings.basePath+d.js.setting.popups.originalPath;return false}function setupAssignmentPaging(a){$(".gitem-pager").each(function(){var b=$(this);
var e=window.location.pathname.substring(1);var d=e.split("/")[1];$("a",this).unbind("click").click(function(j){j.preventDefault();periodID=b.attr("id");var h=$(this).attr("href").split("page=");h=h[1];var f=$(".pager-count",b).val();gradeItemType=b.hasClass("assessment")?"assessment":"grade-item";b.hide();b.after('<img src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" class="loader" alt="'+Drupal.t("Loading")+'" />');var g="/course/"+d+"/assignment_page/"+periodID+"/"+gradeItemType;if(b.parents(".past-assignments-grading-period").length>0){g+="/past"}$.ajax({url:g+"?page="+h+"&count="+f,dataType:"json",type:"GET",success:function(m,k){var n=b.parents("li:first");$("ul:first",n).empty();var l=$(m.html);$("ul:first",n).append(l);b.siblings(".loader").remove();b.replaceWith(m.pager);setTimeout(function(){setupAssignmentPaging(a)},500);Drupal.attachBehaviors(document)}})})})}function sCourseTrackGenericPostView(b){var f=b.attr("id").split("-").pop();var a=sCommonGetSetting("s_realm_info","csm_realm_id");
if(!a){a=Drupal.settings.s_realm_info.realm_id}var d="/"+Drupal.settings.s_realm_info.realm+"/"+a+"/materials/document/"+f;var e={url:"/stats/manual-tracker/trackPageView",type:"POST",data:{action_url:d}};if(!b.hasClass("embed-cover")){e.success=function(){location.href=b.attr("href")}}$.ajaxSecure(e)}var sCourseSaveContentTableWeightsTimeout=null;function sCourseSaveContentTableWeights(a,d){d.addClass("ui-sortable-item-changed");a.addClass("ui-sortable-changed");sCourseSaveContentTableWeightsTimeout&&clearTimeout(sCourseSaveContentTableWeightsTimeout);sCourseSaveContentTableWeightsTimeout=setTimeout(sCourseSaveContentTableWeightsTimeoutHelper,2000);var b=$("#center-top h2.page-title");if(!$("#folder-reorder-save-loader").length){$("body").append('<div id="folder-reorder-save-loader"><span>'+Drupal.t("Saving...")+"</span></div>")}}function sCourseSaveContentTableWeightsTimeoutHelper(){var f=$("#course-profile-materials .ui-sortable.ui-sortable-changed .ui-sortable-item-changed").removeClass("ui-sortable-item-changed");
var h=$("#course-profile-materials .ui-sortable.ui-sortable-changed").removeClass("ui-sortable-changed");var b=f.attr("id");var e=b.search(/^n-[\d]+$/)===0?b:"";if(!h.length){return}var d=getQueryParams(window.location.search);var a=d.f||0;var g={};h.each(function(){var l=$(this);var n=a;var m=l.closest(".material-row-folder");if(m.length){n=m.attr("id").split("-")[1]}g[n]={};l.children().not(".materials-row-add").not("reorder-target-placeholder").not(".type-empty").each(function(){var o=$(this);g[n][o.attr("id")]=o.attr("display_weight")})});var k=window.location.pathname.substring(1);var j=k.split("/")[1];$.ajaxSecure({url:"/course/"+j+"/materials/reorder",data:{updates:g,root_fid:a,dropped_item_id:e},type:"POST",success:function(){$("#folder-reorder-save-loader").remove()},error:function(){$("#folder-reorder-save-loader").remove()}})}function sCourseMaterialsDisplayIsWithoutIndex(){var a=sCommonGetSetting("s_course","display_mode");return a&&a==sCommonGetSetting("s_course","display_mode_without_index")
}var quickInstallAutoLaunchClicked=false;Drupal.behaviors.sAppLauncher=function(a){Drupal.settings.s_app=Drupal.settings.s_app||{};if(!quickInstallAutoLaunchClicked&&typeof Drupal.settings.s_app!="undefined"){if(Drupal.settings.s_app.auto_launch_quick_install){$(".app-quick-installer-popup").click();quickInstallAutoLaunchClicked=true}}$("#schoology-app-loader:not(.sAppLauncher-processed)",a).addClass("sAppLauncher-processed").each(function(){if(Drupal.settings.s_app.launcher){var h=sAppLauncherGetParams({type:"standard",isImport:false,url:location.href});var g=h.appNid+"-"+h.realm+"-"+h.realmID;if(Drupal.settings.s_app.launcher.hasOwnProperty(g)){var e=$("#content-wrapper");var f=$("#csm-section-toggle");var d=Drupal.settings.s_app.launcher[g];var b=Drupal.theme("sAppContainer",d.type,d.url,d.cookie_required,f.length?f.html():"");e.html(b);sAttachBehaviors(["sAppLauncher"],e)}}$(this).remove()});$("#schoology-app-container:not(.sAppLauncher-processed)",a).addClass("sAppLauncher-processed").each(function(){var b=$(this);
$(window).resize(function(){var e=$(this).height();$("#header, #center-top:visible").each(function(){e-=$(this).outerHeight()});b.height(e)}).trigger("resize");var d=false;$(".primary-activities .clickable").each(function(){$(this).click(function(){if(!d){var e=false;if($.browser.msie&&$.browser.version.charAt(0)==8){document.onfocusout=function(){if(e){$(".activities-dropdown-wrapper").hide();d=false}}}else{$(window).bind("blur.sAppLauncher",function(){if(e){$(".activities-dropdown-wrapper").hide();$(window).unbind("blur.sAppLauncher");d=false}})}b.bind("mouseover",function(){e=true});b.bind("mouseout",function(){e=false})}d=true})});$(".s-js-launch-button",b).bind("click",function(g){g.preventDefault();if($(this).hasClass("disabled")){return}var f=sCommonOpenNewWindow($(this).attr("href"),{name:"schoology-app"});if(f!==false){$(this).addClass("disabled");$(this).prev(".app-launch-message").html(Drupal.t("Your app has been launched in a new window."));f.focus()}});$(".s-js-launch-button",b).trigger("click")
});$("#s-js-tinymce-resources-insert-form-wrapper:not(.sTinymceResourcesInsert-processed)",a).addClass("sTinymceResourcesInsert-processed").each(function(){var g=$("#s-tinymce-resources-insert-form",$(this));var h=parseInt($("#edit-app-nid",g).val());var f=$("#edit-app-type",g).val();var b=$("#edit-realm",g).val();var e=parseInt($("#edit-realm-id",g).val());var d=parseInt($("#edit-folder-id",g).val());var j=parseInt($("#edit-fweight",g).val());var k={};k.type=f;k.isRTE=true;if(f=="resources"){k.url="/resources/apps/"+h+"/run"}else{if(f=="lti"){k.url="/apps/lti/"+h+"/run/"+b+"/"+e+"?f="+d+"&fweight="+j}else{return}}sAppLauncher($("#s-js-resources-app-container",g),k)})};Drupal.theme.prototype.sAppContainer=function(b,e,a,f){var d="";if(a){d+='<div class="cookie-warning">';d+='<p class="app-launch-message">'+Drupal.t("This app must be launched by clicking on its link on the left menu.")+"</p>";d+="</div>";return d}if(b==2){d+='<div id="schoology-app-container" align="center">';d+='<p class="app-launch-message">'+Drupal.t("We attempted to launch your app in a new window, but a popup blocker is preventing it from opening. Please disable popup blockers for this site.")+"</p>";
d+='<a class="link-btn s-js-launch-button" href="'+e+'">'+Drupal.t("Launch App")+"</a>";d+="</div>"}else{if(f){d+='<div id="schoology-csm_toggle" align="left">';d+="<p>"+f+"</p>";d+="</div>"}d+='<iframe id="schoology-app-container" frameborder="0" width="100%" height="800" src="'+e+'"></iframe>'}return d};function sAppLauncher(b,f){if(!Drupal.settings.s_app.launcher){Drupal.settings.s_app.launcher={}}var e=sAppLauncherGetParams(f);var d=e.appNid+"-"+e.realm+"-"+e.realmID;function a(h){var g=Drupal.theme("sAppContainer",h.type,h.url,h.cookie_required);b.html(g);sAttachBehaviors(["sAppLauncher"],b)}if(Drupal.settings.s_app.launcher.hasOwnProperty(d)){a(Drupal.settings.s_app.launcher[d]);return}sToggleActiveLoader("sAppLauncher",b);$.getJSON(e.settingsURI,function(g){sToggleActiveLoader("sAppLauncher");Drupal.settings.s_app.launcher[d]=g.body;a(Drupal.settings.s_app.launcher[d])})}function sAppLauncherGetParams(b){var g={import_view:b.isImport?1:0};var a="";var k=0;var l="";var f=0;var h={};
function d(o,n){if(o!=""){var o=o.split("&");for(i=0;i<o.length;i++){var m=o[i].split("=");n[m[0]]=m[1]}}}if(b.type=="resources"){var e=b.url.match(/\/([0-9]+)\/run(\?)?(.*)/);k=e[1];l="user";f=Drupal.settings.s_common.user.uid;a+=k+"/"+b.type;d(e[3],g)}else{if(b.type=="standard"||b.type=="lti"){if(b.url.indexOf("/apps/school_apps/")!=-1){var e=b.url.match(/\/apps\/school_apps\/([0-9]+)\/configure(\?)?(.*)/);k=e[1];l="school";f=Drupal.settings.s_common.user.school_nid}else{var e=b.url.match(/\/([0-9]+)\/run\/([a-z]+)\/([0-9]+)(\?)?(.*)/);k=e[1];l=e[2];f=e[3];h=getQueryParams(b.url)}a+=k+"/"+b.type+"/"+l+"/"+f;if(typeof b.isRTE!="undefined"&&b.isRTE==true){a+="&from=rte";if(h&&typeof h.f!="undefined"){a+="&f="+String(h.f)}if(h&&typeof h.fweight!="undefined"){a+="&fweight="+String(h.fweight)}}}}if(a==""){return false}var j=[];if(b.type=="resources"){$.each(g,function(m,n){j.push(m+"="+encodeURIComponent(n))});a+="?"+j.join("&")}a="/iapi/app/launcher/"+a;return{appNid:k,realm:l,realmID:f,settingsURI:a}
}function sAppLauncherClearCache(a){for(var b in Drupal.settings.s_app.launcher){if(b.split("-")[0]==a){delete Drupal.settings.s_app.launcher[b];break}}}Drupal.behaviors.sAppMenu=function(a){$("#menu-s-apps-list .app-link:not(.sAppMenu-processed), .resources-app-list .s-js-app-launch.resources-app-title:not(.sAppMenu-processed)",a).addClass("sAppMenu-processed").each(function(){var d=$(this);var b=d.hasClass("resources-app-title");d.click(function(g){var f,j,h;if(!b){f=d.parents(".app-link-wrapper").attr("id").split("-")[2];j=d.attr("href")}else{f=d.parents(".s-app-resource-app").attr("id").split("-")[1];j=d.attr("href")}h=sCommonGetSetting("s_app","cookie_preload_urls",f);if(h){g.preventDefault();if(b){g.stopImmediatePropagation()}sAppMenuCookiePreloadRun(f,h,function(){if(!b){window.location=j}else{sAppLauncherClearCache(f);sAppMenuCookiePreloadDelete(f);d.trigger("click.s-js-library-ajax-links")}})}})})};function sAppMenuCookiePreloadRun(b,d,a){window.open(d,"cookiepreloader","width=100,height=100,toolbar=0,menubar=0,location=0,status=0,scrollbars=0,resizable=0,left=0,top=0");
$.ajax({url:"/apps/"+b+"/cookies_loaded",async:false});setTimeout(a,800)}function sAppMenuCookiePreloadSet(a){Drupal.settings.s_app=Drupal.settings.s_app||{};Drupal.settings.s_app.cookie_preload_urls=Drupal.settings.s_app.cookie_preload_urls||{};for(var b in a){Drupal.settings.s_app.cookie_preload_urls[b]=a[b]}}function sAppMenuCookiePreloadDelete(a){delete Drupal.settings.s_app.cookie_preload_urls[a]}Drupal.behaviors.sCommonMediaFileIframeUseRelativeUrl=function(a){var b=/^\/?media\/ifr\/\d+$/;var d=/^\/?media\/ifr_ext$/;$("#main iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed), .s-page-container iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed),.template-fields iframe:not(.sCommonMediaFileIframeUseRelativeUrl-processed)",a).addClass("sCommonMediaFileIframeUseRelativeUrl-processed").each(function(){var g=$(this);var j=g.attr("src");var h=document.createElement("a");h.href=j;var f=h.pathname;var e=b.exec(f);if(!e){e=d.exec(f)}if(e){if(f[0]!=="/"){f="/"+f}if(h.search){f+=h.search
}g.attr("src",f)}})};Drupal.behaviors.sAttachment=function(a){$(".attachments-video-thumbnails-play:not(.sAttachment-processed)",a).addClass("sAttachment-processed").each(function(){var b=$(this);b.bind("click",function(){var e=b.parents(".attachments-video");var d=$(".video-video",e);e.after(d);d.show();e.hide();thePopup=Popups.activePopup();if(thePopup!=null){Popups.resizeAndCenter(thePopup)}return false})});$(".embed-cover:not(.sAttachment-processed)",a).addClass("sAttachment-processed").each(function(){$(this).click(function(){var e=$(this),d=e.siblings(".embed-content:first");e.hide();e.siblings(".embed-title").hide();if(d.length){var b=d.get(0),f=null;d.show();$.each(b.childNodes,function(g,h){if(h.nodeType==8){f=h.nodeValue}});if(f){d.html(f)}}})});$(".attachments-link:not(.sAttachment-processed)",a).addClass("sAttachment-processed").each(function(){var d=$(this);var b=$(".attachment-link-popup",d);d.bind("mouseenter",function(){if(b.length){b.show()}}).bind("mouseleave",function(){if(b.length){b.hide()
}});b.bind("mouseenter",function(){$(this).hide()})})};(function(at,w){var M={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd D",day:"dddd D"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:[Drupal.date_t("January","month_name"),Drupal.date_t("February","month_name"),Drupal.date_t("March","month_name"),Drupal.date_t("April","month_name"),Drupal.date_t("May","month_name"),Drupal.date_t("June","month_name"),Drupal.date_t("July","month_name"),Drupal.date_t("August","month_name"),Drupal.date_t("September","month_name"),Drupal.date_t("October","month_name"),Drupal.date_t("November","month_name"),Drupal.date_t("December","month_name")],monthNamesShort:[Drupal.date_t("January","month_abbr"),Drupal.date_t("February","month_abbr"),Drupal.date_t("March","month_abbr"),Drupal.date_t("April","month_abbr"),Drupal.date_t("May","month_abbr"),Drupal.date_t("June","month_abbr"),Drupal.date_t("July","month_abbr"),Drupal.date_t("August","month_abbr"),Drupal.date_t("September","month_abbr"),Drupal.date_t("October","month_abbr"),Drupal.date_t("November","month_abbr"),Drupal.date_t("December","month_abbr")],dayNames:[Drupal.date_t("Sunday","day_name"),Drupal.date_t("Monday","day_name"),Drupal.date_t("Tuesday","day_name"),Drupal.date_t("Wednesday","day_name"),Drupal.date_t("Thursday","day_name"),Drupal.date_t("Friday","day_name"),Drupal.date_t("Saturday","day_name")],dayNamesShort:[Drupal.date_t("Sunday","day_abbr"),Drupal.date_t("Monday","day_abbr"),Drupal.date_t("Tuesday","day_abbr"),Drupal.date_t("Wednesday","day_abbr"),Drupal.date_t("Thursday","day_abbr"),Drupal.date_t("Friday","day_abbr"),Drupal.date_t("Saturday","day_abbr")],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};
var S={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var az=at.fullCalendar={version:"1.5.4"};var ae=az.views={};at.fn.fullCalendar=function(aL){if(typeof aL=="string"){var aK=Array.prototype.slice.call(arguments,1);var aM;this.each(function(){var aO=at.data(this,"fullCalendar");if(aO&&at.isFunction(aO[aL])){var aN=aO[aL].apply(aO,aK);if(aM===w){aM=aN}if(aL=="destroy"){at.removeData(this,"fullCalendar")}}});if(aM!==w){return aM}return this}var aJ=aL.eventSources||[];delete aL.eventSources;if(aL.events){aJ.push(aL.events);delete aL.events}aL=at.extend(true,{},M,(aL.isRTL||aL.isRTL===w&&M.isRTL)?S:{},aL);this.each(function(aP,aN){var aO=at(aN);var aQ=new t(aO,aL,aJ);aO.data("fullCalendar",aQ);aQ.render()});return this};function aj(aJ){at.extend(true,M,aJ)}function t(a1,a8,bb){var bq=this;
bq.options=a8;bq.render=bh;bq.destroy=bs;bq.refetchEvents=aV;bq.reportEvents=aZ;bq.reportEventChange=bu;bq.rerenderEvents=aN;bq.changeView=aS;bq.select=br;bq.unselect=aU;bq.prev=bd;bq.next=aM;bq.prevYear=bt;bq.nextYear=aK;bq.today=a2;bq.gotoDate=bg;bq.incrementDate=a5;bq.formatDate=function(bB,bA){return A(bB,bA,a8)};bq.formatDates=function(bC,bB,bA){return j(bC,bB,bA,a8)};bq.getDate=a6;bq.getView=bc;bq.option=bn;bq.trigger=bf;r.call(bq,a8,bb);var aJ=bq.isFetchNeeded;var bx=bq.fetchEvents;var bo=a1[0];var aO;var bi;var aX;var bz;var aW;var by={};var be;var aQ;var aT;var bj=0;var bp=0;var bv=new Date();var ba=[];var aP;y(bv,a8.year,a8.month,a8.date);function bh(bA){if(!aX){a9()}else{bk();bw();aL();a7(bA)}}function a9(){bz=a8.theme?"ui":"fc";a1.addClass("fc");if(a8.isRTL){a1.addClass("fc-rtl")}if(a8.theme){a1.addClass("ui-widget")}aX=at("<div class='fc-content' style='position:relative'/>").prependTo(a1);aO=new T(bq,a8);bi=aO.render();if(bi){a1.prepend(bi)}aS(a8.defaultView);at(window).resize(aY);
if(!a0()){aR()}}function aR(){setTimeout(function(){if(!aW.start&&a0()){a7()}},0)}function bs(){at(window).unbind("resize",aY);aO.destroy();aX.remove();a1.removeClass("fc fc-rtl ui-widget")}function bl(){return bo.offsetWidth!==0}function a0(){return at("body")[0].offsetWidth!==0}function aS(bC){if(!aW||bC!=aW.name){bp++;aU();var bB=aW;var bA;if(bB){(bB.beforeHide||aq)();I(aX,aX.height());bB.element.hide()}else{I(aX,1)}aX.css("overflow","hidden");aW=by[bC];if(aW){aW.element.show()}else{aW=by[bC]=new ae[bC](bA=aT=at("<div class='fc-view fc-view-"+bC+"' style='position:absolute'/>").appendTo(aX),bq)}if(bB){aO.deactivateButton(bB.name)}aO.activateButton(bC);a7();aX.css("overflow","");if(bB){I(aX,1)}if(!bA){(aW.afterShow||aq)()}bp--}}function a7(bC){if(bl()){bp++;aU();if(aQ===w){bk()}var bB=false;if(!aW.start||bC||bv<aW.start||bv>=aW.end){aW.render(bv,bC||0);bm(true);bB=true}else{if(aW.sizeDirty){aW.clearEvents();bm();bB=true}else{if(aW.eventsDirty){aW.clearEvents();bB=true}}}aW.sizeDirty=false;
aW.eventsDirty=false;a4(bB);be=a1.outerWidth();aO.updateTitle(aW.title);var bA=new Date();if(bA>=aW.start&&bA<aW.end){aO.disableButton("today")}else{aO.enableButton("today")}bp--;aW.trigger("viewDisplay",bo)}}function a3(){bw();if(bl()){bk();bm();aU();aW.clearEvents();aW.renderEvents(ba);aW.sizeDirty=false}}function bw(){at.each(by,function(bA,bB){bB.sizeDirty=true})}function bk(){if(a8.contentHeight){aQ=a8.contentHeight}else{if(a8.height){aQ=a8.height-(bi?bi.height():0)-E(aX)}else{aQ=Math.round(aX.width()/Math.max(a8.aspectRatio,0.5))}}}function bm(bA){bp++;aW.setHeight(aQ,bA);if(aT){aT.css("position","relative");aT=null}aW.setWidth(aX.width(),bA);bp--}function aY(){if(!bp){if(aW.start){var bA=++bj;setTimeout(function(){if(bA==bj&&!bp&&bl()){if(be!=(be=a1.outerWidth())){bp++;a3();aW.trigger("windowResize",bo);bp--}}},200)}else{aR()}}}function a4(bA){if(!a8.lazyFetching||aJ(aW.visStart,aW.visEnd)){aV()}else{if(bA){aN()}}}function aV(){bx(aW.visStart,aW.visEnd)}function aZ(bA){ba=bA;aN()
}function bu(bA){aN(bA)}function aN(bA){aL();if(bl()){aW.clearEvents();aW.renderEvents(ba,bA);aW.eventsDirty=false}}function aL(){at.each(by,function(bA,bB){bB.eventsDirty=true})}function br(bC,bA,bB){aW.select(bC,bA,bB===w?true:bB)}function aU(){if(aW){aW.unselect()}}function bd(){a7(-1)}function aM(){a7(1)}function bt(){ai(bv,-1);a7()}function aK(){ai(bv,1);a7()}function a2(){bv=new Date();a7()}function bg(bB,bC,bA){if(bB instanceof Date){bv=N(bB)}else{y(bv,bB,bC,bA)}a7()}function a5(bB,bA,bC){if(bB!==w){ai(bv,bB)}if(bA!==w){o(bv,bA)}if(bC!==w){aB(bv,bC)}a7()}function a6(){return N(bv)}function bc(){return aW}function bn(bA,bB){if(bB===w){return a8[bA]}if(bA=="height"||bA=="contentHeight"||bA=="aspectRatio"){a8[bA]=bB;a3()}}function bf(bA,bB){if(a8[bA]){return a8[bA].apply(bB||bo,Array.prototype.slice.call(arguments,2))}}if(a8.droppable){at(document).bind("dragstart",function(bC,bD){var bA=bC.target;var bE=at(bA);if(!bE.parents(".fc").length){var bB=a8.dropAccept;if(at.isFunction(bB)?bB.call(bA,bE):bE.is(bB)){aP=bA;
aW.dragStart(aP,bC,bD)}}}).bind("dragstop",function(bA,bB){if(aP){aW.dragStop(aP,bA,bB);aP=null}})}}function T(aM,aV){var aU=this;aU.render=aK;aU.destroy=aQ;aU.updateTitle=aO;aU.activateButton=aJ;aU.deactivateButton=aS;aU.disableButton=aL;aU.enableButton=aP;var aN=at([]);var aR;function aK(){aR=aV.theme?"ui":"fc";var aW=aV.header;if(aW){aN=at("<table role='presentation' class='fc-header' style='width:100%'/>").append(at("<tr/>").append(aT("left")).append(aT("center")).append(aT("right")));return aN}}function aQ(){aN.remove()}function aT(aW){var aY=at("<td class='fc-header-"+aW+"'/>");var aX=aV.header[aW];if(aX){at.each(aX.split(" "),function(a0){if(a0>0){aY.append("<span class='fc-header-space'/>")}var aZ;at.each(this.split(","),function(a3,a2){if(a2=="title"){aY.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(aZ){aZ.addClass(aR+"-corner-right")}aZ=null}else{var a1;if(aM[a2]){a1=aM[a2]}else{if(ae[a2]){a1=function(){a4.removeClass(aR+"-state-hover");aM.changeView(a2)}}}if(a1){var a5=aV.theme?D(aV.buttonIcons,a2):null;
var a6=D(aV.buttonText,a2);var a4=at("<span role='button' tabindex='0' class='fc-button fc-button-"+a2+" "+aR+"-state-default' data-high-contrast='high-contrast-border'><span class='fc-button-inner'><span class='fc-button-content'>"+(a5?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a5+"'/></span>":a6)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(a4){a4.click(function(){if(!a4.hasClass(aR+"-state-disabled")){a1()}}).mousedown(function(){a4.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-down")}).mouseup(function(){a4.removeClass(aR+"-state-down")}).hover(function(){a4.not("."+aR+"-state-active").not("."+aR+"-state-disabled").addClass(aR+"-state-hover")},function(){a4.removeClass(aR+"-state-hover").removeClass(aR+"-state-down")}).appendTo(aY);if(!aZ){a4.addClass(aR+"-corner-left")}aZ=a4}}}});if(aZ){aZ.addClass(aR+"-corner-right")}})}return aY}function aO(aW){aN.find("h2").html(aW)}function aJ(aW){aN.find("span.fc-button-"+aW).addClass(aR+"-state-active")
}function aS(aW){aN.find("span.fc-button-"+aW).removeClass(aR+"-state-active")}function aL(aW){aN.find("span.fc-button-"+aW).addClass(aR+"-state-disabled")}function aP(aW){aN.find("span.fc-button-"+aW).removeClass(aR+"-state-disabled")}}az.sourceNormalizers=[];az.sourceFetchers=[];var m={dataType:"json",cache:false};var W=1;function r(aP,aX){var aZ=this;aZ.isFetchNeeded=aR;aZ.fetchEvents=aY;aZ.addEventSource=aM;aZ.removeEventSource=aN;aZ.updateEvent=a2;aZ.renderEvent=aV;aZ.removeEvents=be;aZ.clientEvents=a8;aZ.normalizeEvent=aU;var a1=aZ.trigger;var aJ=aZ.getView;var a4=aZ.reportEvents;var a6={events:[]};var aK=[a6];var bb,a7;var aL=0;var bc=0;var ba=0;var a0=[];for(var a9=0;a9<aX.length;a9++){a3(aX[a9])}function aR(bg,bf){return !bb||bg<bb||bf>a7}function aY(bj,bg){bb=bj;a7=bg;a0=[];var bi=++aL;var bf=aK.length;bc=bf;for(var bh=0;bh<bf;bh++){aQ(aK[bh],bi)}}function aQ(bg,bf){a5(bg,function(bi){if(bf==aL){if(bi){for(var bh=0;bh<bi.length;bh++){bi[bh].source=bg;aU(bi[bh])}a0=a0.concat(bi)
}bc--;if(!bc){a4(a0)}}})}function a5(bf,bp){var bk;var bo=az.sourceFetchers;var bm;for(bk=0;bk<bo.length;bk++){bm=bo[bk](bf,bb,a7,bp);if(bm===true){return}else{if(typeof bm=="object"){a5(bm,bp);return}}}var br=bf.events;if(br){if(at.isFunction(br)){aT();br(N(bb),N(a7),function(bs){bp(bs);bd()})}else{if(at.isArray(br)){bp(br)}else{bp()}}}else{var bg=bf.url;if(bg){var bq=bf.success;var bn=bf.error;var bh=bf.complete;var bj=at.extend({},bf.data||{});var bl=aH(bf.startParam,aP.startParam);var bi=aH(bf.endParam,aP.endParam);if(bl){bj[bl]=Math.round(+bb/1000)}if(bi){bj[bi]=Math.round(+a7/1000)}aT();at.ajax(at.extend({},m,bf,{data:bj,success:function(bt){bt=bt||[];var bs=H(bq,this,arguments);if(at.isArray(bs)){bt=bs}bp(bt)},error:function(){H(bn,this,arguments);bp()},complete:function(){H(bh,this,arguments);bd()}}))}else{bp()}}}function aM(bf){bf=a3(bf);if(bf){bc++;aQ(bf,aL)}}function a3(bf){if(at.isFunction(bf)||at.isArray(bf)){bf={events:bf}}else{if(typeof bf=="string"){bf={url:bf}}}if(typeof bf=="object"){aW(bf);
aK.push(bf);return bf}}function aN(bf){aK=at.grep(aK,function(bg){return !aS(bg,bf)});a0=at.grep(a0,function(bg){return !aS(bg.source,bf)});a4(a0)}function a2(bk){var bi,bg=a0.length,bl,bf=aJ().defaultEventEnd,bj=bk.start-bk._start,bh=bk.end?(bk.end-(bk._end||bf(bk))):0;for(bi=0;bi<bg;bi++){bl=a0[bi];if(bl._id==bk._id&&bl!=bk){bl.start=new Date(+bl.start+bj);if(bk.end){if(bl.end){bl.end=new Date(+bl.end+bh)}else{bl.end=new Date(+bf(bl)+bh)}}else{bl.end=null}bl.title=bk.title;bl.url=bk.url;bl.allDay=bk.allDay;bl.className=bk.className;bl.editable=bk.editable;bl.color=bk.color;bl.backgroudColor=bk.backgroudColor;bl.borderColor=bk.borderColor;bl.textColor=bk.textColor;aU(bl)}}aU(bk);a4(a0)}function aV(bg,bf){aU(bg);if(!bg.source){if(bf){a6.events.push(bg);bg.source=a6}a0.push(bg)}a4(a0)}function be(bg){if(!bg){a0=[];for(var bf=0;bf<aK.length;bf++){if(at.isArray(aK[bf].events)){aK[bf].events=[]}}}else{if(!at.isFunction(bg)){var bh=bg+"";bg=function(bi){return bi._id==bh}}a0=at.grep(a0,bg,true);
for(var bf=0;bf<aK.length;bf++){if(at.isArray(aK[bf].events)){aK[bf].events=at.grep(aK[bf].events,bg,true)}}}a4(a0)}function a8(bf){if(at.isFunction(bf)){return at.grep(a0,bf)}else{if(bf){bf+="";return at.grep(a0,function(bg){return bg._id==bf})}}return a0}function aT(){if(!ba++){a1("loading",null,true)}}function bd(){if(!--ba){a1("loading",null,false)}}function aU(bg){var bh=bg.source||{};var bf=aH(bh.ignoreTimezone,aP.ignoreTimezone);bg._id=bg._id||(bg.id===w?"_fc"+W++:bg.id+"");if(bg.date){if(!bg.start){bg.start=bg.date}delete bg.date}bg._start=N(bg.start=aa(bg.start,bf));bg.end=aa(bg.end,bf);if(bg.end&&bg.end<=bg.start){bg.end=null}bg._end=bg.end?N(bg.end):null;if(bg.allDay===w){bg.allDay=aH(bh.allDayDefault,aP.allDayDefault)}if(bg.className){if(typeof bg.className=="string"){bg.className=bg.className.split(/\s+/)}}else{bg.className=[]}}function aW(bh){if(bh.className){if(typeof bh.className=="string"){bh.className=bh.className.split(/\s+/)}}else{bh.className=[]}var bg=az.sourceNormalizers;
for(var bf=0;bf<bg.length;bf++){bg[bf](bh)}}function aS(bg,bf){return bg&&bf&&aO(bg)==aO(bf)}function aO(bf){return((typeof bf=="object")?(bf.events||bf.url):"")||bf}}az.addDays=aB;az.cloneDate=N;az.parseDate=aa;az.parseISO8601=n;az.parseTime=aF;az.formatDate=A;az.formatDates=j;var Q=["sun","mon","tue","wed","thu","fri","sat"],av=86400000,ak=3600000,V=60000;function ai(aK,aL,aJ){aK.setFullYear(aK.getFullYear()+aL);if(!aJ){b(aK)}return aK}function o(aM,aN,aL){if(+aM){var aJ=aM.getMonth()+aN,aK=N(aM);aK.setDate(1);aK.setMonth(aJ);aM.setMonth(aJ);if(!aL){b(aM)}while(aM.getMonth()!=aK.getMonth()){aM.setDate(aM.getDate()+(aM<aK?1:-1))}}return aM}function aB(aM,aN,aL){if(+aM){var aJ=aM.getDate()+aN,aK=N(aM);aK.setHours(9);aK.setDate(aJ);aM.setDate(aJ);if(!aL){b(aM)}aD(aM,aK)}return aM}function aD(aK,aJ){if(+aK){while(aK.getDate()!=aJ.getDate()){aK.setTime(+aK+(aK<aJ?1:-1)*ak)}}}function h(aJ,aK){aJ.setMinutes(aJ.getMinutes()+aK);return aJ}function b(aJ){aJ.setHours(0);aJ.setMinutes(0);aJ.setSeconds(0);
aJ.setMilliseconds(0);return aJ}function N(aJ,aK){if(aK){return b(new Date(+aJ))}return new Date(+aJ)}function e(){var aJ=0,aK;do{aK=new Date(1970,aJ++,1)}while(aK.getHours());return aK}function aG(aJ,aK,aL){aK=aK||1;while(!aJ.getDay()||(aL&&aJ.getDay()==1||!aL&&aJ.getDay()==6)){aB(aJ,aK)}return aJ}function ay(aK,aJ){return Math.round((N(aK,true)-N(aJ,true))/av)}function y(aK,aM,aJ,aL){if(aM!==w&&aM!=aK.getFullYear()){aK.setDate(1);aK.setMonth(0);aK.setFullYear(aM)}if(aJ!==w&&aJ!=aK.getMonth()){aK.setDate(1);aK.setMonth(aJ)}if(aL!==w){aK.setDate(aL)}}function aa(aK,aJ){if(typeof aK=="object"){return aK}if(typeof aK=="number"){return new Date(aK*1000)}if(typeof aK=="string"){if(aK.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aK)*1000)}if(aJ===w){aJ=true}return n(aK,aJ)||(aK?new Date(aK):null)}return null}function n(aN,aK){var aJ=aN.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aJ){return null
}var aM=new Date(aJ[1],0,1);if(aK||!aJ[13]){var aL=new Date(aJ[1],0,1,9,0);if(aJ[3]){aM.setMonth(aJ[3]-1);aL.setMonth(aJ[3]-1)}if(aJ[5]){aM.setDate(aJ[5]);aL.setDate(aJ[5])}aD(aM,aL);if(aJ[7]){aM.setHours(aJ[7])}if(aJ[8]){aM.setMinutes(aJ[8])}if(aJ[10]){aM.setSeconds(aJ[10])}if(aJ[12]){aM.setMilliseconds(Number("0."+aJ[12])*1000)}aD(aM,aL)}else{aM.setUTCFullYear(aJ[1],aJ[3]?aJ[3]-1:0,aJ[5]||1);aM.setUTCHours(aJ[7]||0,aJ[8]||0,aJ[10]||0,aJ[12]?Number("0."+aJ[12])*1000:0);if(aJ[14]){var aO=Number(aJ[16])*60+(aJ[18]?Number(aJ[18]):0);aO*=aJ[15]=="-"?1:-1;aM=new Date(+aM+(aO*60*1000))}}return aM}function aF(aL){if(typeof aL=="number"){return aL*60}if(typeof aL=="object"){return aL.getHours()*60+aL.getMinutes()}var aJ=aL.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aJ){var aK=parseInt(aJ[1],10);if(aJ[3]){aK%=12;if(aJ[3].toLowerCase().charAt(0)=="p"){aK+=12}}return aK*60+(aJ[2]?parseInt(aJ[2],10):0)}}function A(aK,aL,aJ){return j(aK,null,aL,aJ)}function j(aV,aU,aT,aW){aW=aW||M;var aK=aV,aM=aU,aN,aO=aT.length,aQ,aL,aS,aP="";
for(aN=0;aN<aO;aN++){aQ=aT.charAt(aN);if(aQ=="'"){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)=="'"){if(aK){if(aL==aN+1){aP+="'"}else{aP+=aT.substring(aN+1,aL)}aN=aL}break}}}else{if(aQ=="("){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)==")"){var aJ=A(aK,aT.substring(aN+1,aL),aW);if(parseInt(aJ.replace(/\D/,""),10)){aP+=aJ}aN=aL;break}}}else{if(aQ=="["){for(aL=aN+1;aL<aO;aL++){if(aT.charAt(aL)=="]"){var aR=aT.substring(aN+1,aL);var aJ=A(aK,aR,aW);if(aJ!=A(aM,aR,aW)){aP+=aJ}aN=aL;break}}}else{if(aQ=="{"){aK=aU;aM=aV}else{if(aQ=="}"){aK=aV;aM=aU}else{for(aL=aO;aL>aN;aL--){if(aS=ax[aT.substring(aN,aL)]){if(aK){aP+=aS(aK,aW)}aN=aL-1;break}}if(aL==aN){if(aK){aP+=aQ}}}}}}}}return aP}var ax={s:function(aJ){return aJ.getSeconds()},ss:function(aJ){return ab(aJ.getSeconds())},m:function(aJ){return aJ.getMinutes()},mm:function(aJ){return ab(aJ.getMinutes())},h:function(aJ){return aJ.getHours()%12||12},hh:function(aJ){return ab(aJ.getHours()%12||12)},H:function(aJ){return aJ.getHours()},HH:function(aJ){return ab(aJ.getHours())
},d:function(aJ){return aJ.getDate()},dd:function(aJ){return ab(aJ.getDate())},ddd:function(aK,aJ){return aJ.dayNamesShort[aK.getDay()]},dddd:function(aK,aJ){return aJ.dayNames[aK.getDay()]},D:function(aK,aJ){return L(aK)},M:function(aJ){return aJ.getMonth()+1},MM:function(aJ){return ab(aJ.getMonth()+1)},MMM:function(aK,aJ){return aJ.monthNamesShort[aK.getMonth()]},MMMM:function(aK,aJ){return aJ.monthNames[aK.getMonth()]},yy:function(aJ){return(aJ.getFullYear()+"").substring(2)},yyyy:function(aJ){return aJ.getFullYear()},t:function(aJ){return aJ.getHours()<12?"a":"p"},tt:function(aJ){return aJ.getHours()<12?"am":"pm"},T:function(aJ){return aJ.getHours()<12?"A":"P"},TT:function(aJ){return aJ.getHours()<12?"AM":"PM"},u:function(aJ){return A(aJ,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aK){var aJ=aK.getDate();if(aJ>10&&aJ<20){return"th"}return["st","nd","rd"][aJ%10-1]||"th"}};az.applyAll=H;function an(aJ){if(aJ.end){return q(aJ.end,aJ.allDay)}else{return aB(N(aJ.start),1)}}function q(aJ,aK){aJ=N(aJ);
return aK||aJ.getHours()||aJ.getMinutes()?aB(aJ,1):b(aJ)}function u(aK,aJ){return(aJ.msLength-aK.msLength)*100+(aK.event.start-aJ.event.start)}function O(aK,aJ){return aK.end>aJ.start&&aK.start<aJ.end}function ac(aV,aP,aL,aO){var aM=[],aQ,aS=aV.length,aK,aT,aR,aU,aW,aJ,aN;for(aQ=0;aQ<aS;aQ++){aK=aV[aQ];aT=aK.start;aR=aP[aQ];if(aR>aL&&aT<aO){if(aT<aL){aU=N(aL);aJ=false}else{aU=aT;aJ=true}if(aR>aO){aW=N(aO);aN=false}else{aW=aR;aN=true}aM.push({event:aK,start:aU,end:aW,isStart:aJ,isEnd:aN,msLength:aW-aU})}}return aM.sort(u)}function ah(aL){var aP=[],aO,aJ=aL.length,aK,aN,aQ,aM;for(aO=0;aO<aJ;aO++){aK=aL[aO];aN=0;while(true){aQ=false;if(aP[aN]){for(aM=0;aM<aP[aN].length;aM++){if(O(aP[aN][aM],aK)){aQ=true;break}}}if(aQ){aN++}else{break}}if(aP[aN]){aP[aN].push(aK)}else{aP[aN]=[aK]}}return aP}function v(aK,aJ,aL){aK.unbind("mouseover").mouseover(function(aP){var aO=aP.target,aQ,aN,aM;while(aO!=this){aQ=aO;aO=aO.parentNode}if((aN=aQ._fci)!==w){aQ._fci=w;aM=aJ[aN];aL(aM.event,aM.element,aM);at(aP.target).trigger(aP)
}aP.stopPropagation()})}function au(aL,aM,aJ){for(var aK=0,aN;aK<aL.length;aK++){aN=at(aL[aK]);aN.width(Math.max(0,aM-g(aN,aJ)))}}function Z(aM,aJ,aK){for(var aL=0,aN;aL<aM.length;aL++){aN=at(aM[aL]);aN.height(Math.max(0,aJ-E(aN,aK)))}}function g(aK,aJ){return ag(aK)+p(aK)+(aJ?af(aK):0)}function ag(aJ){return(parseFloat(at.css(aJ[0],"paddingLeft",true))||0)+(parseFloat(at.css(aJ[0],"paddingRight",true))||0)}function af(aJ){return(parseFloat(at.css(aJ[0],"marginLeft",true))||0)+(parseFloat(at.css(aJ[0],"marginRight",true))||0)}function p(aJ){return(parseFloat(at.css(aJ[0],"borderLeftWidth",true))||0)+(parseFloat(at.css(aJ[0],"borderRightWidth",true))||0)}function E(aK,aJ){return x(aK)+ap(aK)+(aJ?k(aK):0)}function x(aJ){return(parseFloat(at.css(aJ[0],"paddingTop",true))||0)+(parseFloat(at.css(aJ[0],"paddingBottom",true))||0)}function k(aJ){return(parseFloat(at.css(aJ[0],"marginTop",true))||0)+(parseFloat(at.css(aJ[0],"marginBottom",true))||0)}function ap(aJ){return(parseFloat(at.css(aJ[0],"borderTopWidth",true))||0)+(parseFloat(at.css(aJ[0],"borderBottomWidth",true))||0)
}function I(aK,aJ){aJ=(typeof aJ=="number"?aJ+"px":aJ);aK.each(function(aM,aL){aL.style.cssText+=";min-height:"+aJ+";_height:"+aJ})}function aq(){}function X(aK,aJ){return aK-aJ}function ar(aJ){return Math.max.apply(Math,aJ)}function ab(aJ){return(aJ<10?"0":"")+aJ}function D(aN,aJ){if(aN[aJ]!==w){return aN[aJ]}var aM=aJ.split(/(?=[A-Z])/),aL=aM.length-1,aK;for(;aL>=0;aL--){aK=aN[aM[aL].toLowerCase()];if(aK!==w){return aK}}return aN[""]}function aE(aJ){return aJ.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function G(aJ){return aJ.id+"/"+aJ.className+"/"+aJ.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function aI(aJ){aJ.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function L(aM){var aJ=aM.getDate();var aK=aM.getMonth()+1;var aL=at("html").attr("lang");return at.inArray(aL,["en-GB","fr-corp","es"])<0?(aK+"/"+aJ):(aJ+"/"+aK)
}function d(aJ){aJ.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function K(aJ,aK){aJ.each(function(aL,aM){aM.className=aM.className.replace(/^fc-\w*/,"fc-"+Q[aK.getDay()])})}function R(aK,aL){var aJ=aK.source||{};var aQ=aK.color;var aO=aJ.color;var aN=aL("eventColor");var aR=aK.backgroundColor||aQ||aJ.backgroundColor||aO||aL("eventBackgroundColor")||aN;var aM=aK.borderColor||aQ||aJ.borderColor||aO||aL("eventBorderColor")||aN;var aS=aK.textColor||aJ.textColor||aL("eventTextColor");var aP=[];if(aR){aP.push("background-color:"+aR)}if(aM){aP.push("border-color:"+aM)}if(aS){aP.push("color:"+aS)}return aP.join(";")}function H(aM,aN,aK){if(at.isFunction(aM)){aM=[aM]}if(aM){var aL;var aJ;for(aL=0;aL<aM.length;aL++){aJ=aM[aL].apply(aN,aK)||aJ}return aJ}}function aH(){for(var aJ=0;aJ<arguments.length;aJ++){if(arguments[aJ]!==w){return arguments[aJ]}}}ae.month=ad;function ad(aM,aP){var aL=this;aL.render=aN;z.call(aL,aM,aP,"month");
var aK=aL.opt;var aJ=aL.renderBasic;var aO=aP.formatDate;function aN(aT,aX){if(aX){o(aT,aX);aT.setDate(1)}var aR=N(aT,true);aR.setDate(1);var aU=o(N(aR),1);var aY=N(aR);var aV=N(aU);var aQ=aK("firstDay");var aS=aK("weekends")?0:1;if(aS){aG(aY);aG(aV,-1,true)}aB(aY,-((aY.getDay()-Math.max(aQ,aS)+7)%7));aB(aV,(7-aV.getDay()+Math.max(aQ,aS))%7);var aW=Math.round((aV-aY)/(av*7));if(aK("weekMode")=="fixed"){aB(aV,(6-aW)*7);aW=6}aL.title=aO(aR,aK("titleFormat"));aL.start=aR;aL.end=aU;aL.visStart=aY;aL.visEnd=aV;aJ(6,aW,aS?5:7,true)}}ae.basicWeek=aA;function aA(aN,aP){var aM=this;aM.render=aO;z.call(aM,aN,aP,"basicWeek");var aL=aM.opt;var aK=aM.renderBasic;var aJ=aP.formatDates;function aO(aU,aW){if(aW){aB(aU,aW*7)}var aV=aB(N(aU),-((aU.getDay()-aL("firstDay")+7)%7));var aS=aB(N(aV),7);var aR=N(aV);var aQ=N(aS);var aT=aL("weekends");if(!aT){aG(aR);aG(aQ,-1,true)}aM.title=aJ(aR,aB(N(aQ),-1),aL("titleFormat"));aM.start=aV;aM.end=aS;aM.visStart=aR;aM.visEnd=aQ;aK(1,1,aT?7:5,false)}}ae.basicDay=J;
function J(aM,aP){var aL=this;aL.render=aN;z.call(aL,aM,aP,"basicDay");var aK=aL.opt;var aJ=aL.renderBasic;var aO=aP.formatDate;function aN(aQ,aR){if(aR){aB(aQ,aR);if(!aK("weekends")){aG(aQ,aR<0?-1:1)}}aL.title=aO(aQ,aK("titleFormat"));aL.start=aL.visStart=N(aQ,true);aL.end=aL.visEnd=aB(N(aL.start),1);aJ(1,1,1,false)}}aj({weekMode:"fixed"});function z(aZ,bp,aS){var bo=this;bo.renderBasic=bh;bo.setHeight=bm;bo.setWidth=bw;bo.renderDayOverlay=bc;bo.defaultSelectionEnd=bb;bo.renderSelection=bq;bo.clearSelection=aJ;bo.reportDayClick=aX;bo.dragStart=aL;bo.dragStop=aT;bo.defaultEventEnd=bD;bo.getHoverListener=function(){return aM};bo.colContentLeft=bl;bo.colContentRight=bi;bo.dayOfWeekCol=a7;bo.dateCell=bj;bo.cellDate=bC;bo.cellIsAllDay=function(){return true};bo.allDayRow=aW;bo.allDayBounds=bt;bo.getRowCnt=function(){return a5};bo.getColCnt=function(){return aO};bo.getColWidth=function(){return a8};bo.getDaySegmentContainer=function(){return aV};aC.call(bo,aZ,bp,aS);a.call(bo);am.call(bo);al.call(bo);
var a2=bo.opt;var be=bo.trigger;var ba=bo.clearEvents;var bz=bo.renderOverlay;var aR=bo.clearOverlays;var bk=bo.daySelectionMousedown;var bn=bp.formatDate;var aY;var aU;var a6;var aQ;var a0;var a9;var bg;var aV;var bA;var bF;var a8;var a5,aO;var bs;var aM;var bu;var br,bE,bB;var a4;var a1;var bG;var aP;aI(aZ.addClass("fc-grid"));function bh(bI,bJ,bL,bH){a5=bJ;aO=bL;bx();var bK=!a6;if(bK){bd(bI,bH)}else{ba()}aK(bK)}function bx(){br=a2("isRTL");if(br){bE=-1;bB=aO-1}else{bE=1;bB=0}a4=a2("firstDay");a1=a2("weekends")?0:1;bG=a2("theme")?"ui":"fc";aP=a2("columnFormat")}function bd(bN,bK){var bM;var bL=bG+"-widget-header";var bI=bG+"-widget-content";var bJ,bH;var bO;bM="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bJ=0;bJ<aO;bJ++){bM+="<th class='fc- "+bL+"'/>"}bM+="</tr></thead><tbody>";for(bJ=0;bJ<bN;bJ++){bM+="<tr class='fc-week"+bJ+"'>";for(bH=0;bH<aO;bH++){bM+="<td class='fc- "+bI+" fc-day"+(bJ*aO+bH)+"'><div>"+(bK?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"
}bM+="</tr>"}bM+="</tbody></table>";bO=at(bM).appendTo(aZ);aY=bO.find("thead");aU=aY.find("th");a6=bO.find("tbody");aQ=a6.find("tr");a0=a6.find("td");a9=a0.filter(":first-child");bg=aQ.eq(0).find("div.fc-day-content div");d(aY.add(aY.find("tr")));d(aQ);aQ.eq(0).addClass("fc-first");aN(a0);aV=at("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aZ)}function aK(bN){var bK=bN||a5==1;var bL=bo.start.getMonth();var bI=b(new Date());var bH;var bJ;var bM;if(bK){aU.each(function(bO,bP){bH=at(bP);bJ=bf(bO);bH.html(bn(bJ,aP));K(bH,bJ)})}a0.each(function(bO,bP){bH=at(bP);bJ=bf(bO);if(bJ.getMonth()==bL){bH.removeClass("fc-other-month")}else{bH.addClass("fc-other-month")}if(+bJ==+bI){bH.addClass(bG+"-state-highlight fc-today")}else{bH.removeClass(bG+"-state-highlight fc-today")}bH.find("div.fc-day-number").text(bJ.getDate());if(bH.hasClass("fc-today")){var bQ=bH.find(".fc-day-number");bQ.text(bQ.text()+" ("+Drupal.t("Today")+")")}if(bK){K(bH,bJ)}});aQ.each(function(bO,bP){bM=at(bP);
if(bO<a5){bM.show();if(bO==a5-1){bM.addClass("fc-last")}else{bM.removeClass("fc-last")}}else{bM.hide()}})}function bm(bI){bF=bI;var bL=bF-aY.height();var bK;var bJ;var bH;if(a2("weekMode")=="variable"){bK=bJ=Math.floor(bL/(a5==1?2:6))}else{bK=Math.floor(bL/a5);bJ=bL-bK*(a5-1)}a9.each(function(bM,bN){if(bM<a5){bH=at(bN);I(bH.find("> div"),(bM==a5-1?bJ:bK)-E(bH))}})}function bw(bH){bA=bH;bu.clear();a8=Math.floor(bA/aO);au(aU.slice(0,-1),a8)}function aN(bH){bH.click(by).mousedown(bk)}function by(bJ){if(!a2("selectable")){var bI=parseInt(this.className.match(/fc\-day(\d+)/)[1]);var bH=bf(bI);be("dayClick",this,bH,true,bJ)}}function bc(bM,bQ,bK){if(bK){bs.build()}var bH=N(bo.visStart);var bN=aB(N(bH),aO);for(var bJ=0;bJ<a5;bJ++){var bL=new Date(Math.max(bH,bM));var bP=new Date(Math.min(bN,bQ));if(bL<bP){var bI,bO;if(br){bI=ay(bP,bH)*bE+bB+1;bO=ay(bL,bH)*bE+bB+1}else{bI=ay(bL,bH);bO=ay(bP,bH)}aN(bv(bJ,bI,bJ,bO-1))}aB(bH,7);aB(bN,7)}}function bv(bK,bL,bI,bJ){var bH=bs.rect(bK,bL,bI,bJ,aZ);return bz(bH,aZ)
}function bb(bH,bI){return N(bH)}function bq(bH,bJ,bI){bc(bH,aB(N(bJ),1),true)}function aJ(){aR()}function aX(bJ,bL,bK){var bH=bj(bJ);var bI=a0[bH.row*aO+bH.col];be("dayClick",bI,bJ,bL,bK)}function aL(bJ,bH,bI){aM.start(function(bK){aR();if(bK){bv(bK.row,bK.col,bK.row,bK.col)}},bH)}function aT(bL,bI,bJ){var bH=aM.stop();aR();if(bH){var bK=bC(bH);be("drop",bL,bK,true,bI,bJ)}}function bD(bH){return N(bH.start)}bs=new P(function(bH,bK){var bJ,bL,bI;aU.each(function(bN,bM){bJ=at(bM);bL=bJ.offset().left;if(bN){bI[1]=bL}bI=[bL];bK[bN]=bI});bI[1]=bL+bJ.outerWidth();aQ.each(function(bN,bM){if(bN<a5){bJ=at(bM);bL=bJ.offset().top;if(bN){bI[1]=bL}bI=[bL];bH[bN]=bI}});bI[1]=bL+bJ.outerHeight()});aM=new ao(bs);bu=new l(function(bH){return bg.eq(bH)});function bl(bH){return bu.left(bH)}function bi(bH){return bu.right(bH)}function bj(bH){return{row:Math.floor(ay(bH,bo.visStart)/7),col:a7(bH.getDay())}}function bC(bH){return a3(bH.row,bH.col)}function a3(bI,bH){return aB(N(bo.visStart),bI*7+bH*bE+bB)}function bf(bH){return a3(Math.floor(bH/aO),bH%aO)
}function a7(bH){return((bH-Math.max(a4,a1)+aO)%aO)*bE+bB}function aW(bH){return aQ.eq(bH)}function bt(bH){return{left:0,right:bA}}}function al(){var aU=this;aU.renderEvents=aP;aU.compileDaySegs=aT;aU.clearEvents=aS;aU.bindDaySeg=aO;Y.call(aU);var aL=aU.opt;var aW=aU.trigger;var a0=aU.isEventDraggable;var a2=aU.isEventResizable;var a1=aU.reportEvents;var a5=aU.reportEventClear;var aK=aU.eventElementHandlers;var a3=aU.showEvents;var aJ=aU.hideEvents;var aY=aU.eventDrop;var a6=aU.getDaySegmentContainer;var a4=aU.getHoverListener;var aR=aU.renderDayOverlay;var aX=aU.clearOverlays;var aN=aU.getRowCnt;var aZ=aU.getColCnt;var aV=aU.renderDaySegs;var aQ=aU.resizableDayEvent;function aP(a8,a7){a1(a8);aV(aT(a8),a7)}function aS(){a5();a6().empty()}function aT(bi){var bf=aN(),bh=aZ(),a9=N(aU.visStart),a7=aB(N(a9),bh),bg=at.map(bi,an),be,bj,bd,a8,bb,bc,ba=[];for(be=0;be<bf;be++){bj=ah(ac(bi,bg,a9,a7));for(bd=0;bd<bj.length;bd++){a8=bj[bd];for(bb=0;bb<a8.length;bb++){bc=a8[bb];bc.row=be;bc.level=bd;
ba.push(bc)}}aB(a9,7);aB(a7,7)}return ba}function aO(a9,a8,a7){if(a0(a9)){aM(a9,a8)}if(a7.isEnd&&a2(a9)){aQ(a9,a8,a7)}aK(a9,a8)}function aM(ba,a9){var a8=a4();var a7;a9.draggable({zIndex:9,delay:50,opacity:aL("dragOpacity"),revertDuration:aL("dragRevertDuration"),start:function(bb,bc){aW("eventDragStart",a9,ba,bb,bc);aJ(ba,a9);a8.start(function(be,bd,bf,bg){a9.draggable("option","revert",!be||!bf&&!bg);aX();if(be){a7=bf*7+bg*(aL("isRTL")?-1:1);aR(aB(N(ba.start),a7),aB(an(ba),a7))}else{a7=0}},bb,"drag")},stop:function(bb,bc){a8.stop();aX();aW("eventDragStop",a9,ba,bb,bc);if(a7){aY(this,ba,a7,0,ba.allDay,bb,bc)}else{a9.css("filter","");a3(ba,a9)}}})}}ae.agendaWeek=f;function f(aN,aP){var aM=this;aM.render=aO;F.call(aM,aN,aP,"agendaWeek");var aL=aM.opt;var aK=aM.renderAgenda;var aJ=aP.formatDates;function aO(aU,aW){if(aW){aB(aU,aW*7)}var aV=aB(N(aU),-((aU.getDay()-aL("firstDay")+7)%7));var aS=aB(N(aV),7);var aR=N(aV);var aQ=N(aS);var aT=aL("weekends");if(!aT){aG(aR);aG(aQ,-1,true)}aM.title=aJ(aR,aB(N(aQ),-1),aL("titleFormat"));
aM.start=aV;aM.end=aS;aM.visStart=aR;aM.visEnd=aQ;aK(aT?7:5)}}ae.agendaDay=aw;function aw(aM,aP){var aL=this;aL.render=aN;F.call(aL,aM,aP,"agendaDay");var aK=aL.opt;var aJ=aL.renderAgenda;var aO=aP.formatDate;function aN(aR,aT){if(aT){aB(aR,aT);if(!aK("weekends")){aG(aR,aT<0?-1:1)}}var aS=N(aR,true);var aQ=aB(N(aS),1);aL.title=aO(aR,aK("titleFormat"));aL.start=aL.visStart=aS;aL.end=aL.visEnd=aQ;aJ(1)}}aj({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function F(b6,a1,be){var ba=this;ba.renderAgenda=aV;ba.setWidth=bp;ba.setHeight=bl;ba.beforeHide=bj;ba.afterShow=bX;ba.defaultEventEnd=bR;ba.timePosition=b9;ba.dayOfWeekCol=aW;ba.dateCell=b2;ba.cellDate=aN;ba.cellIsAllDay=b1;ba.allDayRow=bE;ba.allDayBounds=bt;ba.getHoverListener=function(){return b5};ba.colContentLeft=ca;ba.colContentRight=aS;ba.getDaySegmentContainer=function(){return a6};ba.getSlotSegmentContainer=function(){return aQ
};ba.getMinMinute=function(){return bh};ba.getMaxMinute=function(){return aL};ba.getBodyContent=function(){return bD};ba.getRowCnt=function(){return 1};ba.getColCnt=function(){return bG};ba.getColWidth=function(){return aT};ba.getSlotHeight=function(){return bH};ba.defaultSelectionEnd=bo;ba.renderDayOverlay=aO;ba.renderSelection=b0;ba.clearSelection=bU;ba.reportDayClick=a9;ba.dragStart=aU;ba.dragStop=b7;aC.call(ba,b6,a1,be);a.call(ba);am.call(ba);U.call(ba);var bC=ba.opt;var bF=ba.trigger;var bB=ba.clearEvents;var bs=ba.renderOverlay;var aM=ba.clearOverlays;var bu=ba.reportSelection;var bY=ba.unselect;var by=ba.daySelectionMousedown;var a2=ba.slotSegHtml;var a7=a1.formatDate;var bP;var b3;var bT;var bS;var bd;var aP;var bQ;var bN;var b8;var a6;var b4;var bW;var bq;var bD;var aQ;var aX;var bM;var bi;var a8;var aR;var bv;var bK;var bm;var aT;var bz;var bH;var aJ;var bG;var bL;var bI;var b5;var bw;var bf={};var br;var bk;var bA;var aK,a4,a3;var bh,aL;var aZ;aI(b6.addClass("fc-agenda"));function aV(cb){bG=cb;
bJ();if(!bP){bc()}else{bB()}a0()}function bJ(){br=bC("theme")?"ui":"fc";bA=bC("weekends")?0:1;bk=bC("firstDay");if(aK=bC("isRTL")){a4=-1;a3=bG-1}else{a4=1;a3=0}bh=aF(bC("minTime"));aL=aF(bC("maxTime"));aZ=bC("columnFormat")}function bc(){var cg=br+"-widget-header";var cb=br+"-widget-content";var cf;var ce;var ci;var ch;var cd;var cc=bC("slotMinutes")%15==0;cf="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+cg+"'>&nbsp;</th>";for(ce=0;ce<bG;ce++){cf+="<th class='fc- fc-col"+ce+" "+cg+"'/>"}cf+="<th class='fc-agenda-gutter "+cg+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cg+"'>&nbsp;</th>";for(ce=0;ce<bG;ce++){cf+="<td class='fc- fc-col"+ce+" "+cb+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}cf+="<td class='fc-agenda-gutter "+cb+"'>&nbsp;</td></tr></tbody></table>";bP=at(cf).appendTo(b6);b3=bP.find("thead");bT=b3.find("th").slice(1,-1);bS=bP.find("tbody");
bd=bS.find("td").slice(0,-1);aP=bd.find("div.fc-day-content div");bQ=bd.eq(0);bN=bQ.find("> div");d(b3.add(b3.find("tr")));d(bS.add(bS.find("tr")));bi=b3.find("th:first");a8=bP.find(".fc-agenda-gutter");b8=at("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(b6);if(bC("allDaySlot")){a6=at("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b8);cf="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cg+" fc-agenda-axis'>"+bC("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cg+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b4=at(cf).appendTo(b8);bW=b4.find("tr");bn(bW.find("td"));bi=bi.add(b4.find("th:first"));a8=a8.add(b4.find("th.fc-agenda-gutter"));b8.append("<div class='fc-agenda-divider "+cg+"'><div class='fc-agenda-divider-inner'/></div>")}else{a6=at([])}bq=at("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(b8);bD=at("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bq);
aQ=at("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bD);cf="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ci=e();ch=h(N(ci),aL);h(ci,bh);bL=0;for(ce=0;ci<ch;ce++){cd=ci.getMinutes();cf+="<tr class='fc-slot"+ce+" "+(!cd?"":"fc-minor")+"'><th class='fc-agenda-axis "+cg+"'>"+((!cc||!cd)?a7(ci,bC("axisFormat")):"&nbsp;")+"</th><td class='"+cb+"'><div style='position:relative'>&nbsp;</div></td></tr>";h(ci,bC("slotMinutes"));bL++}cf+="</tbody></table>";aX=at(cf).appendTo(bD);bM=aX.find("div:first");bV(aX.find("td"));bi=bi.add(aX.find("th:first"))}function a0(){var ce;var cb;var cf;var cd;var cc=b(new Date());for(ce=0;ce<bG;ce++){cd=bx(ce);cb=bT.eq(ce);cb.html(a7(cd,aZ));cf=bd.eq(ce);if(+cd==+cc){cf.addClass(br+"-state-highlight fc-today")}else{cf.removeClass(br+"-state-highlight fc-today")}K(cb.add(cf),cd)}}function bl(cb,cc){if(cb===w){cb=bK}bK=cb;bf={};var ce=bS.position().top;var cd=bq.position().top;var cf=Math.min(cb-ce,aX.height()+cd+1);
bN.height(cf-E(bQ));b8.css("top",ce);bq.height(cf-cd-1);bH=bM.height()+1;if(cc){bg()}}function bp(cc){bv=cc;bw.clear();bm=0;au(bi.width("").each(function(cd,ce){bm=Math.max(bm,at(ce).outerWidth())}),bm);var cb=bq[0].clientWidth;bz=bq.width()-cb;if(bz){au(a8,bz);a8.show().prev().removeClass("fc-last")}else{a8.hide().prev().addClass("fc-last")}aT=Math.floor((cb-bm)/bG);au(bT.slice(0,-1),aT)}function bg(){var ce=e();var cc=N(ce);cc.setHours(bC("firstHour"));var cd=b9(ce,cc)+1;function cb(){bq.scrollTop(cd)}cb();setTimeout(cb,0)}function bj(){aJ=bq.scrollTop()}function bX(){bq.scrollTop(aJ)}function bn(cb){cb.click(bO).mousedown(by)}function bV(cb){cb.click(bO).mousedown(aY)}function bO(cf){if(!bC("selectable")){var cd=Math.min(bG-1,Math.floor((cf.pageX-bP.offset().left-bm)/aT));var cc=bx(cd);var cg=this.parentNode.className.match(/fc-slot(\d+)/);if(cg){var ce=parseInt(cg[1])*bC("slotMinutes");var cb=Math.floor(ce/60);cc.setHours(cb);cc.setMinutes(ce%60+bh);bF("dayClick",bd[cd],cc,false,cf)
}else{bF("dayClick",bd[cd],cc,true,cf)}}}function aO(cb,cg,cd){if(cd){bI.build()}var cc=N(ba.visStart);var cf,ce;if(aK){cf=ay(cg,cc)*a4+a3+1;ce=ay(cb,cc)*a4+a3+1}else{cf=ay(cb,cc);ce=ay(cg,cc)}cf=Math.max(0,cf);ce=Math.min(bG,ce);if(cf<ce){bn(a5(0,cf,0,ce-1))}}function a5(ce,cf,cc,cd){var cb=bI.rect(ce,cf,cc,cd,b8);return bs(cb,b8)}function bb(cg,cl){var ch=N(ba.visStart);var cc=aB(N(ch),1);for(var ce=0;ce<bG;ce++){var cf=new Date(Math.max(ch,cg));var ck=new Date(Math.min(cc,cl));if(cf<ck){var cd=ce*a4+a3;var cj=bI.rect(0,cd,0,cd,bD);var ci=b9(ch,cf);var cb=b9(ch,ck);cj.top=ci;cj.height=cb-ci;bV(bs(cj,bD))}aB(ch,1);aB(cc,1)}}bI=new P(function(cj,ch){var cf,cc,cb;bT.each(function(cm,cl){cf=at(cl);cc=cf.offset().left;if(cm){cb[1]=cc}cb=[cc];ch[cm]=cb});cb[1]=cc+cf.outerWidth();if(bC("allDaySlot")){cf=bW;cc=cf.offset().top;cj[0]=[cc,cc+cf.outerHeight()]}var ci=bD.offset().top;var ck=bq.offset().top;var ce=ck+bq.outerHeight();function cg(cl){return Math.max(ck,Math.min(ce,cl))}for(var cd=0;
cd<bL;cd++){cj.push([cg(ci+bH*cd),cg(ci+bH*(cd+1))])}});b5=new ao(bI);bw=new l(function(cb){return aP.eq(cb)});function ca(cb){return bw.left(cb)}function aS(cb){return bw.right(cb)}function b2(cb){return{row:Math.floor(ay(cb,ba.visStart)/7),col:aW(cb.getDay())}}function aN(cb){var cd=bx(cb.col);var cc=cb.row;if(bC("allDaySlot")){cc--}if(cc>=0){h(cd,bh+cc*bC("slotMinutes"))}return cd}function bx(cb){return aB(N(ba.visStart),cb*a4+a3)}function b1(cb){return bC("allDaySlot")&&!cb.row}function aW(cb){return((cb-Math.max(bk,bA)+bG)%bG)*a4+a3}function b9(cc,cg){cc=N(cc,true);if(cg<h(N(cc),bh)){return 0}if(cg>=h(N(cc),aL)){return aX.height()}var cb=bC("slotMinutes"),cf=cg.getHours()*60+cg.getMinutes()-bh,ce=Math.floor(cf/cb),cd=bf[ce];if(cd===w){cd=bf[ce]=aX.find("tr:eq("+ce+") td div")[0].offsetTop}return Math.max(0,Math.round(cd-1+bH*((cf%cb)/cb)))}function bt(){return{left:bm,right:bv-bz}}function bE(cb){return bW}function bR(cb){var cc=N(cb.start);if(cb.allDay){return cc}return h(cc,bC("defaultEventMinutes"))
}function bo(cb,cc){if(cc){return N(cb)}return h(N(cb),bC("slotMinutes"))}function b0(cb,cd,cc){if(cc){if(bC("allDaySlot")){aO(cb,aB(N(cd),1),true)}}else{bZ(cb,cd)}}function bZ(cb,ch){var cf=bC("selectHelper");bI.build();if(cf){var cd=ay(cb,ba.visStart)*a4+a3;if(cd>=0&&cd<bG){var ce=bI.rect(0,cd,0,cd,bD);var cg=b9(cb,cb);var cc=b9(cb,ch);if(cc>cg){ce.top=cg;ce.height=cc-cg;ce.left+=2;ce.width-=5;if(at.isFunction(cf)){var ci=cf(cb,ch);if(ci){ce.position="absolute";ce.zIndex=8;aR=at(ci).css(ce).appendTo(bD)}}else{ce.isStart=true;ce.isEnd=true;aR=at(a2({title:"",start:cb,end:ch,className:["fc-select-helper"],editable:false},ce));aR.css("opacity",bC("dragOpacity"))}if(aR){bV(aR);bD.append(aR);au(aR,ce.width,true);Z(aR,ce.height,true)}}}}else{bb(cb,ch)}}function bU(){aM();if(aR){aR.remove();aR=null}}function aY(cb){if(cb.which==1&&bC("selectable")){bY(cb);var cc;b5.start(function(ce,cd){bU();if(ce&&ce.col==cd.col&&!b1(ce)){var cg=aN(cd);var cf=aN(ce);cc=[cg,h(N(cg),bC("slotMinutes")),cf,h(N(cf),bC("slotMinutes"))].sort(X);
bZ(cc[0],cc[3])}else{cc=null}},cb);at(document).one("mouseup",function(cd){b5.stop();if(cc){if(+cc[0]==+cc[1]){a9(cc[0],false,cd)}bu(cc[0],cc[3],false,cd)}})}}function a9(cb,cd,cc){bF("dayClick",bd[aW(cb.getDay())],cb,cd,cc)}function aU(cd,cb,cc){b5.start(function(ce){aM();if(ce){if(b1(ce)){a5(ce.row,ce.col,ce.row,ce.col)}else{var cg=aN(ce);var cf=h(N(cg),bC("defaultEventMinutes"));bb(cg,cf)}}},cb)}function b7(ce,cc,cd){var cb=b5.stop();aM();if(cb){bF("drop",ce,aN(cb),b1(cb),cc,cd)}}}function U(){var bj=this;bj.renderEvents=aP;bj.compileDaySegs=aK;bj.clearEvents=a5;bj.slotSegHtml=a6;bj.bindDaySeg=a3;Y.call(bj);var aY=bj.opt;var a7=bj.trigger;var aN=bj.isEventDraggable;var bo=bj.isEventResizable;var bp=bj.eventEnd;var aT=bj.reportEvents;var bs=bj.reportEventClear;var ba=bj.eventElementHandlers;var bf=bj.setHeight;var aO=bj.getDaySegmentContainer;var br=bj.getSlotSegmentContainer;var aM=bj.getHoverListener;var aL=bj.getMaxMinute;var bc=bj.getMinMinute;var aS=bj.timePosition;var be=bj.colContentLeft;
var bd=bj.colContentRight;var bh=bj.renderDaySegs;var bb=bj.resizableDayEvent;var bg=bj.getColCnt;var aZ=bj.getColWidth;var aJ=bj.getSlotHeight;var a4=bj.getBodyContent;var aW=bj.reportEventElement;var aQ=bj.showEvents;var aX=bj.hideEvents;var bm=bj.eventDrop;var a1=bj.eventResize;var a8=bj.renderDayOverlay;var aR=bj.clearOverlays;var bk=bj.calendar;var bi=bk.formatDate;var a0=bk.formatDates;function aP(bx,bv){aT(bx);var bw,bu=bx.length,by=[],bt=[];for(bw=0;bw<bu;bw++){if(bx[bw].allDay){by.push(bx[bw])}else{bt.push(bx[bw])}}if(aY("allDaySlot")){bh(aK(by),bv);bf()}aU(a2(bt),bv)}function a5(){bs();aO().empty();br().empty()}function aK(bx){var bz=ah(ac(bx,at.map(bx,an),bj.visStart,bj.visEnd)),bw,by=bz.length,bA,bv,bu,bt=[];for(bw=0;bw<by;bw++){bA=bz[bw];for(bv=0;bv<bA.length;bv++){bu=bA[bv];bu.row=0;bu.level=bw;bt.push(bu)}}return bt}function a2(bF){var bE=bg(),bC=bc(),bw=aL(),bD=h(N(bj.visStart),bC),bA=at.map(bF,bq),bB,bv,bz,bt,bx,by,bu=[];for(bB=0;bB<bE;bB++){bv=ah(ac(bF,bA,bD,h(N(bD),bw-bC)));
C(bv);for(bz=0;bz<bv.length;bz++){bt=bv[bz];for(bx=0;bx<bt.length;bx++){by=bt[bx];by.col=bB;by.level=bz;bu.push(by)}}aB(bD,1,true)}return bu}function bq(bt){if(bt.end){return N(bt.end)}else{return h(N(bt.start),aY("defaultEventMinutes"))}}function aU(bJ,bK){var bP,bS=bJ.length,bR,bN,bT,bF,bC,bB,bv,bD,bA,bM,bt,bw,bE="",bU,bQ,by,bu={},bX={},bW,bV,bz,bH,bO=br(),bx,bI,bG,bL=bg();if(bx=aY("isRTL")){bI=-1;bG=bL-1}else{bI=1;bG=0}for(bP=0;bP<bS;bP++){bR=bJ[bP];bN=bR.event;bF=aS(bR.start,bR.start);bC=aS(bR.start,bR.end);bB=bR.col;bv=bR.level;bD=bR.forward||0;bA=be(bB*bI+bG);bM=bd(bB*bI+bG)-bA;bM=Math.min(bM-6,bM*0.95);if(bv){bt=bM/(bv+bD+1)}else{if(bD){bt=((bM/(bD+1))-(12/2))*2}else{bt=bM}}bw=bA+(bM/(bv+bD+1)*bv)*bI+(bx?bM-bt:0);bR.top=bF;bR.left=bw;bR.outerWidth=bt;bR.outerHeight=bC-bF;bE+=a6(bN,bR)}bO[0].innerHTML=bE;bU=bO.children();for(bP=0;bP<bS;bP++){bR=bJ[bP];bN=bR.event;bQ=at(bU[bP]);by=a7("eventRender",bN,bN,bQ);if(by===false){bQ.remove()}else{if(by&&by!==true){bQ.remove();bQ=at(by).css({position:"absolute",top:bR.top,left:bR.left}).appendTo(bO)
}bR.element=bQ;if(bN._id===bK){bl(bN,bQ,bR)}else{bQ[0]._fci=bP}aW(bN,bQ)}}v(bO,bJ,bl);for(bP=0;bP<bS;bP++){bR=bJ[bP];if(bQ=bR.element){bV=bu[bW=bR.key=G(bQ[0])];bR.vsides=bV===w?(bu[bW]=E(bQ,true)):bV;bV=bX[bW];bR.hsides=bV===w?(bX[bW]=g(bQ,true)):bV;bz=bQ.find("div.fc-event-content");if(bz.length){bR.contentTop=bz[0].offsetTop}}}for(bP=0;bP<bS;bP++){bR=bJ[bP];if(bQ=bR.element){bQ[0].style.width=Math.max(0,bR.outerWidth-bR.hsides)+"px";bH=Math.max(0,bR.outerHeight-bR.vsides);bQ[0].style.height=bH+"px";bN=bR.event;if(bR.contentTop!==w&&bH-bR.contentTop<10){bQ.find("div.fc-event-time").text(bi(bN.start,aY("timeFormat"))+" - "+bN.title);bQ.find("div.fc-event-title").remove()}a7("eventAfterRender",bN,bN,bQ)}}}function a6(by,bt){var bx="<";var bv=by.url;var bu=R(by,aY);var bz=(bu?" style='"+bu+"'":"");var bw=["fc-event","fc-event-skin","fc-event-vert"];if(aN(by)){bw.push("fc-event-draggable")}if(bt.isStart){bw.push("fc-corner-top")}if(bt.isEnd){bw.push("fc-corner-bottom")}bw=bw.concat(by.className);
if(by.source){bw=bw.concat(by.source.className||[])}if(bv){bx+="a href='"+aE(by.url)+"'"}else{bx+="div"}bx+=" class='"+bw.join(" ")+"' style='position:absolute;z-index:8;top:"+bt.top+"px;left:"+bt.left+"px;"+bu+"'><div class='fc-event-inner fc-event-skin'"+bz+"><div class='fc-event-head fc-event-skin'"+bz+"><div class='fc-event-time'>"+aE(a0(by.start,by.end,aY("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+aE(by.title)+"</div></div><div class='fc-event-bg'></div></div>";if(bt.isEnd&&bo(by)){bx+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bx+="</"+(bv?"a":"div")+">";return bx}function a3(bv,bu,bt){if(aN(bv)){aV(bv,bu,bt.isStart)}if(bt.isEnd&&bo(bv)){bb(bv,bu,bt)}ba(bv,bu)}function bl(bv,bu,bt){var bw=bu.find("div.fc-event-time");if(aN(bv)){a9(bv,bu,bw)}if(bt.isEnd&&bo(bv)){bn(bv,bu,bw)}ba(bv,bu)}function aV(bu,bC,bt){var bD;var bB;var bF=true;var bx;var bv=aY("isRTL")?-1:1;var bw=aM();var by=aZ();var bE=aJ();var bA=bc();bC.draggable({zIndex:9,opacity:aY("dragOpacity","month"),revertDuration:aY("dragRevertDuration"),start:function(bG,bH){a7("eventDragStart",bC,bu,bG,bH);
aX(bu,bC);bD=bC.width();bw.start(function(bJ,bI,bK,bL){aR();if(bJ){bB=false;bx=bL*bv;if(!bJ.row){a8(aB(N(bu.start),bx),aB(an(bu),bx));bz()}else{if(bt){if(bF){bC.width(by-10);Z(bC,bE*Math.round((bu.end?((bu.end-bu.start)/V):aY("defaultEventMinutes"))/aY("slotMinutes")));bC.draggable("option","grid",[by,1]);bF=false}}else{bB=true}}bB=bB||(bF&&!bx)}else{bz();bB=true}bC.draggable("option","revert",bB)},bG,"drag")},stop:function(bH,bI){bw.stop();aR();a7("eventDragStop",bC,bu,bH,bI);if(bB){bz();bC.css("filter","");aQ(bu,bC)}else{var bG=0;if(!bF){bG=Math.round((bC.offset().top-a4().offset().top)/bE)*aY("slotMinutes")+bA-(bu.start.getHours()*60+bu.start.getMinutes())}bm(this,bu,bx,bG,bF,bH,bI)}}});function bz(){if(!bF){bC.width(bD).height("").draggable("option","grid",null);bF=true}}}function a9(bt,bD,bE){var bx;var bH=false;var by;var bC;var bA;var bu=aY("isRTL")?-1:1;var bw=aM();var bF=bg();var bz=aZ();var bG=aJ();bD.draggable({zIndex:9,scroll:false,grid:[bz,bG],axis:bF==1?"y":false,opacity:aY("dragOpacity"),revertDuration:aY("dragRevertDuration"),start:function(bI,bJ){a7("eventDragStart",bD,bt,bI,bJ);
aX(bt,bD);bx=bD.position();bC=bA=0;bw.start(function(bL,bK,bM,bN){bD.draggable("option","revert",!bL);aR();if(bL){by=bN*bu;if(aY("allDaySlot")&&!bL.row){if(!bH){bH=true;bE.hide();bD.draggable("option","grid",null)}a8(aB(N(bt.start),by),aB(an(bt),by))}else{bB()}}},bI,"drag")},drag:function(bI,bJ){bC=Math.round((bJ.position.top-bx.top)/bG)*aY("slotMinutes");if(bC!=bA){if(!bH){bv(bC)}bA=bC}},stop:function(bJ,bK){var bI=bw.stop();aR();a7("eventDragStop",bD,bt,bJ,bK);if(bI&&(by||bC||bH)){bm(this,bt,by,bH?0:bC,bH,bJ,bK)}else{bB();bD.css("filter","");bD.css(bx);bv(0);aQ(bt,bD)}}});function bv(bJ){var bI=h(N(bt.start),bJ);var bK;if(bt.end){bK=h(N(bt.end),bJ)}bE.text(a0(bI,bK,aY("timeFormat")))}function bB(){if(bH){bE.css("display","");bD.draggable("option","grid",[bz,bG]);bH=false}}}function bn(bv,bu,bx){var by,bt;var bw=aJ();bu.resizable({handles:"s",grid:bw,start:function(bz,bA){by=bt=0;aX(bv,bu);bu.css("z-index",9);a7("eventResizeStart",this,bv,bz,bA)},resize:function(bz,bA){by=Math.round((Math.max(bw,bu.height())-bA.originalSize.height)/bw);
if(by!=bt){bx.text(a0(bv.start,(!by&&!bv.end)?null:h(bp(bv),aY("slotMinutes")*by),aY("timeFormat")));bt=by}},stop:function(bz,bA){a7("eventResizeStop",this,bv,bz,bA);if(by){a1(this,bv,0,aY("slotMinutes")*by,bz,bA)}else{bu.css("z-index",8);aQ(bv,bu)}}})}}function C(aN){var aL,aK,aJ,aP,aO,aM;for(aL=aN.length-1;aL>0;aL--){aP=aN[aL];for(aK=0;aK<aP.length;aK++){aO=aP[aK];for(aJ=0;aJ<aN[aL-1].length;aJ++){aM=aN[aL-1][aJ];if(O(aO,aM)){aM.forward=Math.max(aM.forward||0,(aO.forward||0)+1)}}}}}function aC(aN,aU,aZ){var aT=this;aT.element=aN;aT.calendar=aU;aT.name=aZ;aT.opt=aL;aT.trigger=aV;aT.isEventDraggable=aY;aT.isEventResizable=a2;aT.reportEvents=a0;aT.eventEnd=a3;aT.reportEventElement=a1;aT.reportEventClear=a8;aT.eventElementHandlers=aK;aT.showEvents=a5;aT.hideEvents=aJ;aT.eventDrop=aX;aT.eventResize=aM;var a9=aT.defaultEventEnd;var aS=aU.normalizeEvent;var aR=aU.reportEventChange;var a4={};var a7=[];var aQ={};var aO=aU.options;function aL(bc,ba){var bb=aO[bc];if(typeof bb=="object"){return D(bb,ba||aZ)
}return bb}function aV(ba,bb){return aU.trigger.apply(aU,[ba,bb||aT].concat(Array.prototype.slice.call(arguments,2),[aT]))}function aY(ba){var bb=ba.source||{};return aH(ba.startEditable,bb.startEditable,aL("eventStartEditable"),ba.editable,bb.editable,aL("editable"))&&!aL("disableDragging")}function a2(ba){var bb=ba.source||{};return aH(ba.durationEditable,bb.durationEditable,aL("eventDurationEditable"),ba.editable,bb.editable,aL("editable"))&&!aL("disableResizing")}function a0(bc){a4={};var bb,ba=bc.length,bd;for(bb=0;bb<ba;bb++){bd=bc[bb];if(a4[bd._id]){a4[bd._id].push(bd)}else{a4[bd._id]=[bd]}}}function a3(ba){return ba.end?N(ba.end):a9(ba)}function a1(bb,ba){a7.push(ba);if(aQ[bb._id]){aQ[bb._id].push(ba)}else{aQ[bb._id]=[ba]}}function a8(){a7=[];aQ={}}function aK(bb,ba){ba.click(function(bc){if(!ba.hasClass("ui-draggable-dragging")&&!ba.hasClass("ui-resizable-resizing")){return aV("eventClick",this,bb,bc)}}).hover(function(bc){aV("eventMouseover",this,bb,bc)},function(bc){aV("eventMouseout",this,bb,bc)
})}function a5(bb,ba){aW(bb,ba,"show")}function aJ(bb,ba){aW(bb,ba,"hide")}function aW(bd,bc,bf){var be=aQ[bd._id],bb,ba=be.length;for(bb=0;bb<ba;bb++){if(!bc||be[bb][0]!=bc[0]){be[bb][bf]()}}}function aX(bd,bb,bc,be,bh,bg,bf){var bi=bb.allDay;var ba=bb._id;a6(a4[ba],bc,be,bh);aV("eventDrop",bd,bb,bc,be,bh,function(){a6(a4[ba],-bc,-be,bi);aR(ba)},bg,bf);aR(ba)}function aM(bg,be,bb,ba,bd,bf){var bc=be._id;aP(a4[bc],bb,ba);aV("eventResize",bg,be,bb,ba,function(){aP(a4[bc],-bb,-ba);aR(bc)},bd,bf);aR(bc)}function a6(be,bc,bb,bf){bb=bb||0;for(var bg,ba=be.length,bd=0;bd<ba;bd++){bg=be[bd];if(bf!==w){bg.allDay=bf}h(aB(bg.start,bc,true),bb);if(bg.end){bg.end=h(aB(bg.end,bc,true),bb)}aS(bg,aO)}}function aP(be,bc,bb){bb=bb||0;for(var bf,ba=be.length,bd=0;bd<ba;bd++){bf=be[bd];bf.end=h(aB(a3(bf),bc,true),bb);aS(bf,aO)}}}function Y(){var bc=this;bc.renderDaySegs=bb;bc.resizableDayEvent=a5;var aU=bc.opt;var a1=bc.trigger;var aL=bc.isEventDraggable;var bh=bc.isEventResizable;var bi=bc.eventEnd;var aS=bc.reportEventElement;
var aO=bc.showEvents;var aT=bc.hideEvents;var aX=bc.eventResize;var bl=bc.getRowCnt;var ba=bc.getColCnt;var aV=bc.getColWidth;var aQ=bc.allDayRow;var bf=bc.allDayBounds;var a8=bc.colContentLeft;var a6=bc.colContentRight;var aZ=bc.dayOfWeekCol;var a7=bc.dateCell;var aK=bc.compileDaySegs;var aM=bc.getDaySegmentContainer;var a0=bc.bindDaySeg;var aW=bc.calendar.formatDates;var a2=bc.renderDayOverlay;var aP=bc.clearOverlays;var aJ=bc.clearSelection;function bb(bo,bn){var bm=aM();var bu;var bt=bl();var bz=ba();var bs=0;var by;var bx;var bv;var br;var bA=bo.length;var bq;var bw;var bp;bm[0].innerHTML=a3(bo);a4(bo,bm.children());be(bo);a9(bo,bm,bn);bk(bo);aN(bo);bd(bo);bu=aY();for(by=0;by<bt;by++){bx=0;bv=[];for(br=0;br<bz;br++){bv[br]=0}while(bs<bA&&(bq=bo[bs]).row==by){bw=ar(bv.slice(bq.startCol,bq.endCol));bq.top=bw;bw+=bq.outerHeight;for(bp=bq.startCol;bp<bq.endCol;bp++){bv[bp]=bw}bs++}bu[by].height(ar(bv))}bj(bo,aR(bu))}function bg(bp,bo,bt){var bs=at("<div/>");var bm;var bn=aM();var br;var bu=bp.length;
var bq;bs[0].innerHTML=a3(bp);bm=bs.children();bn.append(bm);a4(bp,bm);bk(bp);aN(bp);bd(bp);bj(bp,aR(aY()));bm=[];for(br=0;br<bu;br++){bq=bp[br].element;if(bq){if(bp[br].row===bo){bq.css("top",bt)}bm.push(bq[0])}}return at(bm)}function a3(br){var by=aU("isRTL");var bw;var bC=br.length;var bv;var bp;var bq;var bt;var bm=bf();var bu=bm.left;var bo=bm.right;var bA;var bn;var bs;var bB;var bz;var bx="";for(bw=0;bw<bC;bw++){bv=br[bw];bp=bv.event;bt=["fc-event","fc-event-skin","fc-event-hori"];if(aL(bp)){bt.push("fc-event-draggable")}if(by){if(bv.isStart){bt.push("fc-corner-right")}if(bv.isEnd){bt.push("fc-corner-left")}bA=aZ(bv.end.getDay()-1);bn=aZ(bv.start.getDay());bs=bv.isEnd?a8(bA):bu;bB=bv.isStart?a6(bn):bo}else{if(bv.isStart){bt.push("fc-corner-left")}if(bv.isEnd){bt.push("fc-corner-right")}bA=aZ(bv.start.getDay());bn=aZ(bv.end.getDay()-1);bs=bv.isStart?a8(bA):bu;bB=bv.isEnd?a6(bn):bo}bt=bt.concat(bp.className);if(bp.source){bt=bt.concat(bp.source.className||[])}bq=bp.url;bz=R(bp,aU);
if(bq){bx+="<a href='"+aE(bq)+"'"}else{bx+="<div"}bx+=" class='"+bt.join(" ")+"' style='position:absolute;z-index:8;left:"+bs+"px;"+bz+"'><div class='fc-event-inner fc-event-skin'"+(bz?" style='"+bz+"'":"")+">";if(!bp.allDay&&bv.isStart){bx+="<span class='fc-event-time'>"+aE(aW(bp.start,bp.end,aU("timeFormat")))+"</span>"}bx+="<span class='fc-event-title'>"+aE(bp.title)+"</span></div>";if(bv.isEnd&&bh(bp)){bx+="<div class='ui-resizable-handle ui-resizable-"+(by?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bx+="</"+(bq?"a":"div")+">";bv.left=bs;bv.outerWidth=bB-bs;bv.startCol=bA;bv.endCol=bn+1}return bx}function a4(bn,bs){var bq;var bt=bn.length;var bm;var br;var bp;var bo;for(bq=0;bq<bt;bq++){bm=bn[bq];br=bm.event;bp=at(bs[bq]);bo=a1("eventRender",br,br,bp);if(bo===false){bp.remove()}else{if(bo&&bo!==true){bo=at(bo).css({position:"absolute",left:bm.left});bp.replaceWith(bo);bp=bo}bm.element=bp}}}function be(bn){var bp;var bq=bn.length;var bm;var bo;for(bp=0;bp<bq;bp++){bm=bn[bp];bo=bm.element;
if(bo){aS(bm.event,bo)}}}function a9(bn,bs,bo){var bq;var bt=bn.length;var bm;var bp;var br;for(bq=0;bq<bt;bq++){bm=bn[bq];bp=bm.element;if(bp){br=bm.event;if(br._id===bo){a0(br,bp,bm)}else{bp[0]._fci=bq}}}v(bs,bn,a0)}function bk(bn){var br;var bs=bn.length;var bm;var bq;var bp,bt;var bo={};for(br=0;br<bs;br++){bm=bn[br];bq=bm.element;if(bq){bp=bm.key=G(bq[0]);bt=bo[bp];if(bt===w){bt=bo[bp]=g(bq,true)}bm.hsides=bt}}}function aN(bn){var bp;var bq=bn.length;var bm;var bo;for(bp=0;bp<bq;bp++){bm=bn[bp];bo=bm.element;if(bo){bo[0].style.width=Math.max(0,bm.outerWidth-bm.hsides)+"px"}}}function bd(bn){var bq;var bs=bn.length;var bm;var bp;var bo,bt;var br={};for(bq=0;bq<bs;bq++){bm=bn[bq];bp=bm.element;if(bp){bo=bm.key;bt=br[bo];if(bt===w){bt=br[bo]=k(bp)}bm.outerHeight=bp[0].offsetHeight+bt}}}function aY(){var bm;var bo=bl();var bn=[];for(bm=0;bm<bo;bm++){bn[bm]=aQ(bm).find("td:first div.fc-day-content > div")}return bn}function aR(bn){var bm;var bp=bn.length;var bo=[];for(bm=0;bm<bp;bm++){bo[bm]=bn[bm][0].offsetTop
}return bo}function bj(bn,bs){var bp;var br=bn.length;var bm;var bo;var bq;for(bp=0;bp<br;bp++){bm=bn[bp];bo=bm.element;if(bo){bo[0].style.top=bs[bm.row]+(bm.top||0)+"px";bq=bm.event;a1("eventAfterRender",bq,bq,bo)}}}function a5(bo,bn,bm){var br=aU("isRTL");var bq=br?"w":"e";var bp=bn.find("div.ui-resizable-"+bq);var bs=false;aI(bn);bn.mousedown(function(bt){bt.preventDefault()}).click(function(bt){if(bs){bt.preventDefault();bt.stopImmediatePropagation()}});bp.mousedown(function(bC){if(bC.which!=1){return}bs=true;var bx=bc.getHoverListener();var bB=bl();var bD=ba();var bv=br?-1:1;var bu=br?bD-1:0;var bw=bn.css("top");var by;var bt;var bA=at.extend({},bo);var bE=a7(bo.start);aJ();at("body").css("cursor",bq+"-resize").one("mouseup",bz);a1("eventResizeStart",this,bo,bC);bx.start(function(bG,bF){if(bG){var bJ=Math.max(bE.row,bG.row);var bK=bG.col;if(bB==1){bJ=0}if(bJ==bE.row){if(br){bK=Math.min(bE.col,bK)}else{bK=Math.max(bE.col,bK)}}by=(bJ*7+bK*bv+bu)-(bF.row*7+bF.col*bv+bu);var bI=aB(bi(bo),by,true);
if(by){bA.end=bI;var bH=bt;bt=bg(aK([bA]),bm.row,bw);bt.find("*").css("cursor",bq+"-resize");if(bH){bH.remove()}aT(bo)}else{if(bt){aO(bo);bt.remove();bt=null}}aP();a2(bo.start,aB(N(bI),1))}},bC);function bz(bF){a1("eventResizeStop",this,bo,bF);at("body").css("cursor","");bx.stop();aP();if(by){aX(this,bo,by,0,bF)}setTimeout(function(){bs=false},0)}})}}function am(){var aT=this;aT.select=aR;aT.unselect=aN;aT.reportSelection=aJ;aT.daySelectionMousedown=aQ;var aL=aT.opt;var aM=aT.trigger;var aO=aT.defaultSelectionEnd;var aK=aT.renderSelection;var aS=aT.clearSelection;var aP=false;if(aL("selectable")&&aL("unselectAuto")){at(document).mousedown(function(aU){var aV=aL("unselectCancel");if(aV){if(at(aU.target).parents(aV).length){return}}aN(aU)})}function aR(aU,aW,aV){aN();if(!aW){aW=aO(aU,aV)}aK(aU,aW,aV);aJ(aU,aW,aV)}function aN(aU){if(aP){aP=false;aS();aM("unselect",null,aU)}}function aJ(aU,aX,aW,aV){aP=true;aM("select",null,aU,aX,aW,aV)}function aQ(aX){var a0=aT.cellDate;var aV=aT.cellIsAllDay;
var aU=aT.getHoverListener();var aY=aT.reportDayClick;if(aX.which==1&&aL("selectable")){aN(aX);var aW=this;var aZ;aU.start(function(a2,a1){aS();if(a2&&aV(a2)){aZ=[a0(a1),a0(a2)].sort(X);aK(aZ[0],aZ[1],true)}else{aZ=null}},aX);at(document).one("mouseup",function(a1){aU.stop();if(aZ){if(+aZ[0]==+aZ[1]){aY(aZ[0],true,a1)}aJ(aZ[0],aZ[1],true,a1)}})}}}function a(){var aM=this;aM.renderOverlay=aK;aM.clearOverlays=aJ;var aL=[];var aN=[];function aK(aP,aO){var aQ=aN.shift();if(!aQ){aQ=at("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aQ[0].parentNode!=aO[0]){aQ.appendTo(aO)}aL.push(aQ.css(aP).show());return aQ}function aJ(){var aO;while(aO=aL.shift()){aN.push(aO.hide().unbind())}}}function P(aJ){var aK=this;var aL;var aM;aK.build=function(){aL=[];aM=[];aJ(aL,aM)};aK.cell=function(aN,aT){var aS=aL.length;var aO=aM.length;var aP,aQ=-1,aR=-1;for(aP=0;aP<aS;aP++){if(aT>=aL[aP][0]&&aT<aL[aP][1]){aQ=aP;break}}for(aP=0;aP<aO;aP++){if(aN>=aM[aP][0]&&aN<aM[aP][1]){aR=aP;break}}return(aQ>=0&&aR>=0)?{row:aQ,col:aR}:null
};aK.rect=function(aQ,aS,aO,aP,aR){var aN=aR.offset();return{top:aL[aQ][0]-aN.top,left:aM[aS][0]-aN.left,width:aM[aP][1]-aM[aS][0],height:aL[aO][1]-aL[aQ][0]}}}function ao(aO){var aM=this;var aN;var aP;var aK;var aJ;aM.start=function(aQ,aR,aS){aP=aQ;aK=aJ=null;aO.build();aL(aR);aN=aS||"mousemove";at(document).bind(aN,aL)};function aL(aQ){B(aQ);var aR=aO.cell(aQ.pageX,aQ.pageY);if(!aR!=!aJ||aR&&(aR.row!=aJ.row||aR.col!=aJ.col)){if(aR){if(!aK){aK=aR}aP(aR,aK,aR.row-aK.row,aR.col-aK.col)}else{aP(aR,aK)}aJ=aR}}aM.stop=function(){at(document).unbind(aN,aL);return aJ}}function B(aJ){if(aJ.pageX===w){aJ.pageX=aJ.originalEvent.pageX;aJ.pageY=aJ.originalEvent.pageY}}function l(aK){var aJ=this,aL={},aO={},aN={};function aM(aP){return aL[aP]=aL[aP]||aK(aP)}aJ.left=function(aP){return aO[aP]=aO[aP]===w?aM(aP).position().left:aO[aP]};aJ.right=function(aP){return aN[aP]=aN[aP]===w?aJ.left(aP)+aM(aP).width():aN[aP]};aJ.clear=function(){aL={};aO={};aN={}}}})(jQuery);var sFCalendarSmartBox;var sFCalendarEventForm;
var sFCalendarAssignmentForm;var sFCalendarForceReloadOnClose=false;var sFCalendarDayClickIsAllDay;var sFCalendarFilterMenu;var sFCalendarEventFormSettings;var sFCalendarAssignmentFormSettings;Drupal.behaviors.sFCalendarMonth=function(a){$("#calendar-page-smartbox:not(.sFCalendarMonth-processed)",a).addClass("sFCalendarMonth-processed").each(function(){var b=$(this);if($(this).hasClass("no-access")){$("body").addClass("no-event-create-tabs")}sFCalendarSmartBox=$(this).remove();sFCalendarSmartBox.removeClass("hidden")});$(".edit-calendar-event:not(.sFCalendarMonth-processed)",a).addClass("sFCalendarMonth-processed").each(function(){$(this).click(function(e){e.preventDefault();$(document).unbind("popups_form_success_notdone.s_event_fcalendar").bind("popups_form_success_notdone.s_event_fcalendar",function(){$(document).trigger("popups_open_path_done.s_tinymce")});var d=sFCalendarGetEventSourceUrl();var b=Popups.options({disableInputFocus:true,href:$(this).attr("href")+"?calendar_realm="+sFCalendarGetRealmPath().realm+"&calendar_realm_id="+String(sFCalendarGetRealmPath().realm_id)+"&destination="+d,extraClass:"popups-large calendar-popup-add",hijackDestination:false,updateMethod:"callback",onUpdate:"sFCalendarPopupOnUpdate",doneTest:new RegExp(d,"g")});
if(Popups.activePopup()){Popups.openPath($(this),b,Popups.activePopup())}else{Popups.openPath($(this),b,window)}})});$("#calender-smartbox-tabs:not(.sFCalendarMonth-processed)",a).addClass("sFCalendarMonth-processed").each(function(){if($("body").hasClass("no-event-create-tabs")){return}$(".calendar-form-tab",$(this)).each(function(){$(this).click(function(){var b=$(this);var d=b.attr("id").split("-");var f=d[3];var e=d[4];$(".calendar-form-tab.active").removeClass("active");b.addClass("active");sFCalendarLoadForm(e,f);$(".popups-title .title",b.closest(".popups-box")).text(f=="event"?Drupal.t("Create Event"):Drupal.t("Create Assignment"))})})});$("#fcalendar:not(.fcalendar-advisor,.sFCalendarMonth-processed)",a).addClass("sFCalendarMonth-processed").each(function(){if($("#fcalendar").fullCalendar("getView").title!=undefined){return}var f=$(this).attr("data-year");var b=$(this).attr("data-month");if(f==undefined||b==undefined){var e=new Date();f=f==undefined?e.getFullYear():f;b=b==undefined?e.getMonth():b
}var d=sFCalendarGetRealmPath();if(d.realm=="user"&&sFCalendarFilterMenu==undefined&&Drupal.settings.s_event!=undefined){sFCalendarFilterMenu=Drupal.settings.s_event.filter_menu}$("#fcalendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},viewDisplay:function(g){$(".fc-day-number").unbind("click",sFCalendarGoToDayView);$(".fc-day-number").bind("click",sFCalendarGoToDayView);$("#fcalendar .fc-day-number").addClass("clickable");$(".fc-agenda-divider").next().addClass("calendar-agenda-body");sPopupsResizeCenter()},year:f,month:b,timeFormat:"h:mm tt",defaultEventMinutes:60,weekMode:"variable",monthNames:[Drupal.date_t("January","month_name"),Drupal.date_t("February","month_name"),Drupal.date_t("March","month_name"),Drupal.date_t("April","month_name"),Drupal.date_t("May","month_name"),Drupal.date_t("June","month_name"),Drupal.date_t("July","month_name"),Drupal.date_t("August","month_name"),Drupal.date_t("September","month_name"),Drupal.date_t("October","month_name"),Drupal.date_t("November","month_name"),Drupal.date_t("December","month_name")],monthNamesShort:[Drupal.date_t("January","month_abbr"),Drupal.date_t("February","month_abbr"),Drupal.date_t("March","month_abbr"),Drupal.date_t("April","month_abbr"),Drupal.date_t("May","month_abbr"),Drupal.date_t("June","month_abbr"),Drupal.date_t("July","month_abbr"),Drupal.date_t("August","month_abbr"),Drupal.date_t("September","month_abbr"),Drupal.date_t("October","month_abbr"),Drupal.date_t("November","month_abbr"),Drupal.date_t("December","month_abbr")],dayNames:[Drupal.date_t("Sunday","day_name"),Drupal.date_t("Monday","day_name"),Drupal.date_t("Tuesday","day_name"),Drupal.date_t("Wednesday","day_name"),Drupal.date_t("Thursday","day_name"),Drupal.date_t("Friday","day_name"),Drupal.date_t("Saturday","day_name")],dayNamesShort:[Drupal.date_t("Sunday","day_abbr"),Drupal.date_t("Monday","day_abbr"),Drupal.date_t("Tuesday","day_abbr"),Drupal.date_t("Wednesday","day_abbr"),Drupal.date_t("Thursday","day_abbr"),Drupal.date_t("Friday","day_abbr"),Drupal.date_t("Saturday","day_abbr")],buttonText:{prev:'<span class="hidden-accessible">Previous</span><span aria-hidden="true">&nbsp;&#9668;&nbsp;</span>',next:'<span class="hidden-accessible">Next</span><span aria-hidden="true">&nbsp;&#9658;&nbsp;</span>',prevYear:'<span class="hidden-accessible">Previous</span><span aria-hidden="true">&nbsp;&lt;&lt;&nbsp;</span>',nextYear:'<span class="hidden-accessible">Next</span><span aria-hidden="true">&nbsp;&gt;&gt;&nbsp;</span>',today:Drupal.date_t("Today","date_nav"),month:Drupal.date_t("Month","datetime"),week:Drupal.date_t("Week","datetime"),day:Drupal.date_t("Day","datetime"),},dayClick:sFCalendarEventAdd,eventClick:sFCalendarEventPreview,eventRender:sFCalendarEventRender,eventAfterRender:sFCalendarEventAfterRender,eventDrop:sFCalendarEventDrop,eventResize:sFCalendarEventResize,allDayText:Drupal.t("all-day"),events:"/"+sFCalendarGetEventSourceUrl(f,b)+"?ajax=1"});
sPopupsResizeCenter();$(".s-event-fcalendar-filter-menu").appendTo(".fc-header-center")});$("#fcalendar.fcalendar-advisor:not(.sFCalendarMonth-processed)",a).addClass("sFCalendarMonth-processed").each(function(){var d=$("#fcalendar").data("year");var b=$("#fcalendar").data("month");$("#fcalendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},viewDisplay:function(e){$(".fc-day-number").unbind("click",sFCalendarAdvisorGoToDayView);$(".fc-day-number").bind("click",sFCalendarAdvisorGoToDayView);$("#fcalendar .fc-day-number").addClass("clickable");sPopupsResizeCenter()},year:d,month:b,timeFormat:"h:mm tt",defaultEventMinutes:60,weekMode:"variable",monthNames:[Drupal.date_t("January","month_name"),Drupal.date_t("February","month_name"),Drupal.date_t("March","month_name"),Drupal.date_t("April","month_name"),Drupal.date_t("May","month_name"),Drupal.date_t("June","month_name"),Drupal.date_t("July","month_name"),Drupal.date_t("August","month_name"),Drupal.date_t("September","month_name"),Drupal.date_t("October","month_name"),Drupal.date_t("November","month_name"),Drupal.date_t("December","month_name")],monthNamesShort:[Drupal.date_t("January","month_abbr"),Drupal.date_t("February","month_abbr"),Drupal.date_t("March","month_abbr"),Drupal.date_t("April","month_abbr"),Drupal.date_t("May","month_abbr"),Drupal.date_t("June","month_abbr"),Drupal.date_t("July","month_abbr"),Drupal.date_t("August","month_abbr"),Drupal.date_t("September","month_abbr"),Drupal.date_t("October","month_abbr"),Drupal.date_t("November","month_abbr"),Drupal.date_t("December","month_abbr")],dayNames:[Drupal.date_t("Sunday","day_name"),Drupal.date_t("Monday","day_name"),Drupal.date_t("Tuesday","day_name"),Drupal.date_t("Wednesday","day_name"),Drupal.date_t("Thursday","day_name"),Drupal.date_t("Friday","day_name"),Drupal.date_t("Saturday","day_name")],dayNamesShort:[Drupal.date_t("Sunday","day_abbr"),Drupal.date_t("Monday","day_abbr"),Drupal.date_t("Tuesday","day_abbr"),Drupal.date_t("Wednesday","day_abbr"),Drupal.date_t("Thursday","day_abbr"),Drupal.date_t("Friday","day_abbr"),Drupal.date_t("Saturday","day_abbr")],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:Drupal.date_t("Today","date_nav"),month:Drupal.date_t("Month","datetime"),week:Drupal.date_t("Week","datetime"),day:Drupal.date_t("Day","datetime"),},eventClick:sFCalendarAdvisorEventPreview,eventRender:sFCalendarAdvisorEventRender,eventAfterRender:sFCalendarAdvisorEventAfterRender,allDayText:Drupal.t("all-day"),events:"?ajax=1"})
})};$(document).bind("popups_before_close",function(){var a=Popups.activePopup();if(a!=null&&$("#"+a.id).hasClass("calendar-popup-mini")&&sFCalendarForceReloadOnClose){location.reload()}if(a!=null&&$("#"+a.id).hasClass("calendar-popup-mini")){$(".share-calendar-option",$("#"+a.id)).appendTo("#share-calendar-option-containter")}});$(document).bind("popups_open_done",function(){var d=Popups.activePopup();var b=$("#"+d.id+" .popups-body");if(d.extraClass=="browse-realm-popup"){var a=b.find("input:checked");a.each(function(){if($("#"+$(this).attr("id").replace(/browse-realm-checkbox/,"selected-realm")).length==0){$(this).attr("checked",false)}})}if(b.length){$("img",b).bind("load",function(){var e=Popups.activePopup();Popups.resizeAndCenter(e)})}});var sFCalendarEventRender=function(a,g){var k=g.find(".fc-event-title");k.html(a.titleHTML);g.find(".fc-event-time").insertAfter(k);var l=sFCalendarGetRealmPath();if(l.realm=="user"){var h=a.realm+"-"+(a.realm!="user"?a.realm_id:l.realm_id);var d=sFCalendarFilterMenu.selected_filter_realms;
var j=(d!="")?d:[];var e=$.inArray(h,j)!=-1?true:false;g.css("display",(j.length>0&&!e)?"none":"");var f=sFCalendarFilterMenu.selected_filter_colors;var b=(f!="")?f:{};g.removeClass(function(m,n){return(n.match(/\bcolor-([0-9]+|default-personal|default-school|default-groups|default-courses)/g)||[]).join(" ")});if(b[h]!=undefined){g.addClass(b[h])}}};var sFCalendarEventAfterRender=function(d,b){if(d.hasOwnProperty("minute_adjustment")&&d.minute_adjustment!=0){var f=$(".fc-event-time",b);var a=(d.minute_adjustment*-1).toString();f.text(f.text().toString().replace(/:[0-9]+ /gi,":"+a+" "))}var e=b.find(".fc-event-title");sAttachBehavior("sCommonInfotip",e);sPopupsResizeCenter();b.disableResizing=$("#fcalendar").fullCalendar("getView").name!="month"?false:true;$(".tipsy-e").remove()};var sFCalendarToTimestamp=function(a){var b=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());offset=sCommonGetSetting("s_common","timezone");return parseInt(new Date(b-(offset*1000)).getTime()/1000)
};var sFCalendarEventDrop=function(d,g,j,p,h,k,m,n){var f=sFCalendarGetRealmPath();if(d.e_type=="folder"){var b="/course/"+d.realm_id+"/materials/folder/"+d.content_id+"/edit_dates"}else{var b="/event-calendar/"+f.realm+"/"+f.realm_id+"/"+d.id+"/move"}var o=sFCalendarToTimestamp(d.start);var a="";if(d.end!=undefined){a=sFCalendarToTimestamp(d.end)}var e={start:o,end:a,allDay:Number(p),eventView:n.name};if(d.hasOwnProperty("minute_adjustment")){e.minute_adjustment=d.minute_adjustment}var l="pending";d.editable=false;d.className.push(l);$("#fcalendar").fullCalendar("updateEvent",d);$.ajaxSecure({url:b,type:"POST",data:e,success:function(){if(j>0){d.minute_adjustment=0}d.editable=true;var q=$.inArray(l,d.className);if(q!=-1){d.className.splice(q,1)}$("#fcalendar").fullCalendar("updateEvent",d);sPopupsResizeCenter();if(sFCalendarEventProfileForceReloadOnUpdate(d.id)){sFCalendarForceReloadOnClose=true}}})};var sFCalendarEventResize=function(d,g,j,h,k,m,n){var f=sFCalendarGetRealmPath();if(d.e_type=="folder"){var b="/course/"+d.realm_id+"/materials/folder/"+d.content_id+"/edit_dates"
}else{var b="/event-calendar/"+f.realm+"/"+f.realm_id+"/"+d.id+"/resize"}var o=sFCalendarToTimestamp(d.start);var a="";if(d.end!=undefined){var a=sFCalendarToTimestamp(d.end)}var e={start:o,end:a,eventView:n.name};if(d.hasOwnProperty("minute_adjustment")){e.minute_adjustment=d.minute_adjustment}var l="pending";d.editable=false;d.className.push(l);$("#fcalendar").fullCalendar("updateEvent",d);$.ajaxSecure({url:b,type:"POST",data:e,success:function(){d.minute_adjustment=0;d.editable=true;var p=$.inArray(l,d.className);if(p!=-1){d.className.splice(p,1)}$("#fcalendar").fullCalendar("updateEvent",d);sPopupsResizeCenter();if(sFCalendarEventProfileForceReloadOnUpdate(d.id)){sFCalendarForceReloadOnClose=true}}})};var sFCalendarEventAdd=function(b,m,k,l){if($("body").hasClass("no-event-create-tabs")){return}sFCalendarDayClickIsAllDay=m;Popups.saveSettings();var h="";var n=sFCalendarGetRealmPath();var a=new Popups.Popup();a.element=k.target;a.extraClass="popups-large calendar-popup-add smart-box";
a.disableInputFocus=true;a.open(Drupal.t("Create Event"),h);var j=$(sFCalendarSmartBox.html());var f=Popups.activePopup();var d=$("#"+f.id+" .popups-body");d.prepend(j);d.attr("this-date",b.toString());var e=$(".add-event");e.addClass("active");if(n.realm!="course"&&n.realm!="user"){var g=e.attr("id").split("-").pop();$(".calendar-form-tab").remove();sFCalendarLoadForm(g,"event")}else{var g=e.attr("id").split("-").pop();sFCalendarLoadForm(g,"event")}};var sFCalendarEventPreview=function(b,l,n){l.preventDefault();var k=b.start;var f="dddd d MMMM yyyy";if(b.hasOwnProperty("minute_adjustment")){k=k.setMinutes((b.minute_adjustment*-1))}var q=eDisplayDate="";var o="dddd, MMM d, yyyy";if(Drupal.settings.s_common.date_format_language!=undefined){o=Drupal.settings.s_common.date_format_language!="en-GB"?o:"dddd, d MMM, yyyy";o=Drupal.settings.s_common.language==="fr-corp"?f:o}var q=$.fullCalendar.formatDate(b.start,b.allDay?o:o+Drupal.t(" 'at' !time",{"!time":"h:mm tt"}));if(b.end){if($.fullCalendar.formatDate(b.start,"MM-dd-yyyy")==$.fullCalendar.formatDate(b.end,"MM-dd-yyyy")){q+=" - "+$.fullCalendar.formatDate(b.end,"h:mm tt")
}else{q+=" - "+$.fullCalendar.formatDate(b.end,o+(!b.allDay?Drupal.t(" 'at' !time",{"!time":"h:mm tt"}):""))}}if(b.realm=="user"){b.content_title=Drupal.t("Personal")}if(b.e_type=="discussion"){var r="/course/"+b.realm_id+"/materials/discussion/view/"+b.content_id;eDisplayDate+='<tr class="odd"><th>'+Drupal.t("Due Date")+"</th><td>"+q+"</td> </tr>";var d="/course/"+b.realm_id+"/materials/discussion/"+b.content_id+"/edit"}else{if(b.e_type=="folder"){var r="/course/"+b.realm_id+"/materials?f="+b.content_id;eDisplayDate+='<tr class="odd"><th>'+Drupal.t("Dates")+"</th><td>"+q+"</td> </tr>";var d="/course/"+b.realm_id+"/materials/folder/"+b.content_id+"/edit"}else{if(b.e_type=="external_tool"){var r="/external_tool/"+b.external_tool_link_id+"/launch";eDisplayDate+='<tr class="odd"><th>'+Drupal.t("Due Date")+"</th><td>"+q+"</td> </tr>";var d="/external_tool/course/"+b.realm_id+"/link/"+b.external_tool_link_id}else{if(b.e_type!="event"){var r="/assignment/"+b.content_id;var p=b.e_type==="grade_column"?"s-event-fcalendar-borderless-row":"";
eDisplayDate+='<tr class="odd '+p+'"><th>'+Drupal.t("Due date")+"</th><td>"+q+"</td> </tr>";var d="/assignment/edit/"+b.realm_id+"/"+b.content_id+"/basic"}else{var r="/event/"+b.id+"/profile";eDisplayDate+='<tr class="odd"><th>'+Drupal.t("Time")+"</th><td>"+q+"</td> </tr>";var d="/"+b.realm+"/"+b.realm_id+"/event/"+b.id}}}}var m="";switch(b.e_type){case"external_tool":m="external-tool-icon";break;case"grade_column":m="grade-item-icon";break;default:m=b.e_type+"-icon"}var j="";j+='<div class="template-wrapper parent-template">';j+='<div class="template-title"><span class="'+m+" day-"+$.fullCalendar.formatDate(b.start,"dd")+'"></span> '+b.titleLink+"</div>";j+='<div class="template-meta">';if(b.child_name){j+='<span class="child-name">'+b.child_name+"</span>&middot;"}j+='<a href="/'+b.realm+"/"+b.realm_id+'">'+(b.content_title===undefined?htmlentities(b.realm_title):htmlentities(b.content_title))+"</a></span>";j+="</div>";j+='<div class="template-fields"><table class="info-tab"><tbody id="">';
j+=eDisplayDate;if(b.body!=""){j+='<tr class="odd"><th>'+Drupal.t("Description")+'</th><td><div class="s-rte">'+b.body+"</div></td> </tr>"}j+="</tbody></table>";j+="</div>";if(b.e_type==="grade_column"){j+='<div class="s-event-fcalendar-not-available-note">'+Drupal.t("Note: This material is not available within Schoology")+"</div>"}j+="</div>";j+='<div class="submit-buttons">';if(b.e_type!=="grade_column"){j+='<a href="'+r+'" class="submit-btn">'+Drupal.t("View Item")+"</a>"}if(b.editable){j+='<a href="'+d+'" class="submit-btn edit-calendar-event">'+Drupal.t("Edit Item")+"</a>"}var g=b.editable?Drupal.t("Cancel"):Drupal.t("Close");j+='<span role="button" tabindex="0" class="cancel-btn">'+g+"</span>";j+="</div>";var a=new Popups.Popup();a.element=l.target;a.extraClass="popups-large calendar-popup-preview";a.open(b.titleText,j,{});var h=Popups.activePopup();var e=$("#"+h.id+" .popups-body");Drupal.attachBehaviors(e)};var sFCalendarGoToDayView=function(f){f.stopPropagation();var g=$("#fcalendar").fullCalendar("getDate");
var g=$.fullCalendar.formatDate(g,"yyyy-MM");var a=$(this).parent().parent();var b=new Date(g.split("-")[0],g.split("-")[1]-1,$(this).text());if(!a.hasClass("fc-other-month")){$("#fcalendar").fullCalendar("gotoDate",b);$("#fcalendar").fullCalendar("changeView","agendaDay")}};var sFCalendarAdvisorEventRender=function(b,a){var d=a.find(".fc-event-title");d.html(b.titleHTML);a.find(".fc-event-time").insertAfter(d)};var sFCalendarAdvisorEventAfterRender=function(d,b){var f=b.find(".fc-event-title");sAttachBehavior("sCommonInfotip",f);if(d.hasOwnProperty("minute_adjustment")&&d.minute_adjustment!=0){var e=$(".fc-event-time",b);var a=(d.minute_adjustment*-1).toString();e.text(e.text().toString().replace(/:[0-9]+ /gi,":"+a+" "))}};var sFCalendarAdvisorGoToDayView=function(f){f.stopPropagation();var g=$("#fcalendar").fullCalendar("getDate");var g=$.fullCalendar.formatDate(g,"yyyy-MM");var a=$(this).parent().parent();var b=new Date(g.split("-")[0],g.split("-")[1]-1,$(this).text());if(!a.hasClass("fc-other-month")){$("#fcalendar").fullCalendar("gotoDate",b);
$("#fcalendar").fullCalendar("changeView","agendaDay")}};var sFCalendarAdvisorEventPreview=function(h,b,a){b.preventDefault();if(h.e_type=="folder"){sFCalendarEventPreview(h,b,a);return}var j=$("#fcalendar").hasClass("advisor-type-1")?"parent":"advisor";var g=h.child_uid;var f=h.content_id;var e="/advisor/"+g+"/"+j+"/"+f+"/content";var d=Popups.options({href:e,extraClass:"popups-large calendar-popup-preview"});Popups.openPath($(this),d,window)};function sFCalendarGetRealmPath(){var d=window.location.pathname.substring(1);var a=d.split("/")[0];if(a.search(/-calendar/)!=-1){a=d.split("/")[0].split("-")[0]}if(a=="calendar"){a="user"}var e=d.split("/")[1];var b=d.split("/")[2];if($.inArray(a,["user","group","course","school"])==-1&&Drupal.settings.s_event!=undefined){a=Drupal.settings.s_event.realm;e=Drupal.settings.s_event.realm_id}return{realm:a,realm_id:e,calDate:b}}function sFCalendarLoadForm(e,d){if(typeof SWFUpload=="function"&&typeof SWFUpload.instances=="object"){$.each(SWFUpload.instances,function(h,j){try{j.destroy()
}catch(k){}})}$("#calendar-form-container").prepend('<img class="gif-loader" src="/sites/all/themes/schoology_theme/images/ajax-loader.gif" alt="'+Drupal.t("Loading")+'" />');sPopupsResizeCenter();var b=d=="event"?sFCalendarEventForm:sFCalendarAssignmentForm;if(typeof b!="undefined"){sFCalendarUnloadRichtextEditor();sFCalendarShowCalendarAddForm(d,e,true);return}switch(d){case"event":var g=function(j,h,k){sFCalendarEventForm=j.data;sFCalendarEventFormSettings=j.js;sFCalendarShowCalendarAddForm(d,e)};break;case"assignment":$("#s-event-add-combined-form").addClass("active-loading");var g=function(j,h,k){sFCalendarAssignmentForm=j.data;sFCalendarAssignmentFormSettings=j.js;sFCalendarShowCalendarAddForm(d,e);$("#s-event-add-combined-form").removeClass("active-loading")};break}var a="/home/tabsjs/"+e;if((!Drupal.settings.s_event_fcalendar_smartbox||!Drupal.settings.s_event_fcalendar_smartbox.externals_loaded)&&(!sFCalendarAssignmentForm&&!sFCalendarEventForm)){a+="?le"}var f=function(j,h,k){if(j.js&&j.js.fcalendar_popup){Popups.addJS({fcalendar_popup:j.js.fcalendar_popup,setting:j.js.setting})
}if(j.css){Popups.addCSS(j.css)}g(j,h,k)};sFCalendarUnloadRichtextEditor();$.ajax({url:a,dataType:"json",type:"GET",data:"calendar_realm="+sFCalendarGetRealmPath().realm+"&calendar_realm_id="+String(sFCalendarGetRealmPath().realm_id),success:f,error:function(j,h){alert(Drupal.t("There was an internal problem. Please try again in a few moments."))}})}function sFCalendarShowCalendarAddForm(w,h,u){if(u!==undefined){var v=w=="event"?sFCalendarEventFormSettings:sFCalendarAssignmentFormSettings;if(v){Popups.addJS({setting:v.setting})}}if($("div#attachments").length>0){sFCalendarForceReloadOnClose=true;$("div#attachments").remove()}var m=Popups.activePopup();var g=$("#"+m.id+" .popups-body");var t=new Date(g.attr("this-date"));var r=t.getDate();if(r<10){r="0"+r.toString()}var l=t.getFullYear().toString().substring(2);var b=(t.getMonth()+1)+"/"+r+"/"+l;if(Drupal.settings.s_common.date_format_language!=undefined){b=Drupal.settings.s_common.date_format_language!="en-GB"?b:r+"/"+(t.getMonth()+1)+"/"+l
}var e=$("#calendar-form-container",g);e.empty();var o=["sFCalendarMonth","sAttachmentForm","date_popup","sHomeSmartBoxRealmSelection","popups","Ajax","sCommonAdvancedOptions","sCommonInfotip","sCourseMaterialsLock"];switch(w){case"event":o.push("sEventAddForm");o.push("s_event");e.prepend(sFCalendarEventForm);var d=$("#edit-start-wrapper input:eq(0)",e);d.attr("defaultdate",b);if($("#fcalendar").fullCalendar("getView").name!="month"&&!sFCalendarDayClickIsAllDay){var j=t.getHours();var q=t.getMinutes();var f=(j>11)?"PM":"AM";q=(q<10)?"0"+String(q):String(q);if(j==0){j=12}else{if(j>12){j=j-12}}j=(j<10)?"0"+String(j):String(j);var p=j+":"+q+f;$("#edit-start-wrapper input",e).eq(1).val(p)}break;case"assignment":o.push("sGradesItemAddForm");o.push("sAlignment");e.prepend(sFCalendarAssignmentForm);break}var k=$("#browse-realms",g).find("input:checked");sAttachBehaviors(o,g);sFCalendarLoadRichtextEditor(g);if(k.length){var a=$("#edit-realms",g);var n=k.attr("id").replace("browse-realm-checkbox-","");
sHomeSmartBoxRealmSelectionAddPlaceholder(a,n,htmlentities(k.attr("realmtitle")));sHomeSmartBoxRealmSelectionUpdateSelected(a,[n]);a.focus().blur();Popups.activePopup().refocus()}sPopupsResizeCenter()}function sFCalendarEventProfileForceReloadOnUpdate(a){var b=window.location.pathname.substring(1);return(b.search(/^event\/[0-9]+\/profile$/)==0&&b.split("/")[1]==a)?true:false}function sFCalendarUnloadRichtextEditor(a){var b=tinyMCE&&tinyMCE.activeEditor?tinyMCE.activeEditor.editorId:null;if(b&&$("#"+b).length){tinyMCE.execCommand("mceRemoveControl",false,b)}}function sFCalendarLoadRichtextEditor(a){sAttachBehaviors(["s_tinymce"],a);$(document).trigger("popups_open_path_done.s_tinymce")}function sFCalendarPopupOnUpdate(e,a,b){var d=sFCalendarGetRealmPath();sFCalendarUpdateEvents(e.content,d);Popups.removeLoading();if(Popups.activePopup()){sPopupsClose()}else{Popups.removeOverlay();Popups.restorePage()}$(document).trigger("popups_form_success",[null,e]);return false}function sFCalendarGetEventSourceUrl(d,f){var a=sFCalendarGetRealmPath();
if(a.realm=="user"){var e="calendar/"+a.realm_id}else{var e=a.realm+"-calendar/"+a.realm_id}if(d!=undefined&&f!=undefined){e+="/"+d.toString()+"-"+(f+1).toString()}else{var b=new Date();e+="/"+b.getFullYear().toString()+"-"+(b.getMonth()+1).toString()}return e}function sFCalendarUpdateEvents(b,e){var d=$("#fcalendar");if(!b.length||!d.length){return}for(i=0;i<b.length;i++){var a=d.fullCalendar("clientEvents",b[i].id);if(a.length==1){d.fullCalendar("removeEvents",b[i].id);if(sFCalendarEventProfileForceReloadOnUpdate(b[i].id)){sFCalendarForceReloadOnClose=true}}if(e.realm=="user"){d.fullCalendar("renderEvent",b[i])}else{if(e.realm==b[i].realm&&e.realm_id==b[i].realm_id){d.fullCalendar("renderEvent",b[i])}}}}Drupal.behaviors.sCalendarView=function(e){var d=$("#ical-feed-info");var a=$(".ical-options",d);var b=$(".ical-feed-link",d);$(".subscribe .enabled",d).bind("click",function(){a.hide();b.show()});$(".back-btn",b).bind("click",function(){b.hide();a.show()});$(".week-view:not(.sCalendarView-processed)",e).addClass("sCalendarView-processed").each(function(){var f=$(this);
if(f.height()<450){return}$(".calendar-calendar").addClass("has-upper-scroll");var h=$("<div></div>").addClass("week-view-top-scrollbar");weekViewTopScrollTbl=$("<table></table>").width($("table",f).width()).prepend($("table thead",f).eq(0).clone());h.append(weekViewTopScrollTbl);f.before(h);h.scroll(function(){f.scrollLeft(h.scrollLeft())});f.scroll(function(){h.scrollLeft(f.scrollLeft())});function g(){var l=document.createElement("p");l.style.width="100%";l.style.height="200px";var m=document.createElement("div");m.style.position="absolute";m.style.top="0px";m.style.left="0px";m.style.visibility="hidden";m.style.width="200px";m.style.height="150px";m.style.overflow="hidden";m.appendChild(l);document.body.appendChild(m);var k=l.offsetWidth;m.style.overflow="scroll";var j=l.offsetWidth;if(k==j){j=m.clientWidth}document.body.removeChild(m);return(k-j)}})};Drupal.behaviors.sEventUpcoming=function(a){$(".upcoming-events-wrapper:not(.sEventUpcoming-processed)",a).addClass("sEventUpcoming-processed").each(function(){$(this).on("click","a.expander",function(b){var d=$(".events-hidden",$(this).closest(".upcoming-event"));
if(d.is(":hidden")){d.show()}else{d.hide()}b.preventDefault()})})};(function(){var S=jQuery,v,aq,H="mathquill-command-id",l="mathquill-block-id",an=Math.min,B=Math.max;var N=[].slice;function ai(){}function f(P){var ar=N.call(arguments,1);return function(){return P.apply(this,ar)}}function af(ar,P){if(!P){throw new Error("prayer failed: "+ar)}}var j=(function(at,au,ax){function ar(P){return typeof P==="object"}function aw(P){return typeof P==="function"}function av(aC,ay){if(ay===ax){ay=aC;aC=Object}function aD(aF){var aE=this;if(!(aE instanceof aD)){return new aD(arguments)}if(aF&&aw(aE.init)){aE.init.apply(aE,aF)}}var aB=aD[at]=new aC();var aA=aC[at];var az;var P=aD.mixin=function(aF){az={};if(aw(aF)){az=aF.call(aD,aB,aA,aD,aC)}else{if(ar(aF)){az=aF}}if(ar(az)){for(var aE in az){if(au.call(az,aE)){aB[aE]=az[aE]}}}if(!aw(aB.init)){aB.init=function(){aC.apply(this,arguments)}}return aD};aB.constructor=aD;return P(ay)}return av})("prototype",({}).hasOwnProperty);var n=(function(){var P={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};
function at(av){var ay=av.which||av.keyCode;var au=P[ay];var ax;var aw=[];if(av.ctrlKey){aw.push("Ctrl")}if(av.originalEvent&&av.originalEvent.metaKey){aw.push("Meta")}if(av.altKey){aw.push("Alt")}if(av.shiftKey){aw.push("Shift")}ax=au||String.fromCharCode(ay);if(!aw.length&&!au){return ax}aw.push(ax);return aw.join("-")}return function ar(av,aG){var aI=null;var aC=null;if(!aG){aG={}}var aE=aG.text||ai;var aA=aG.key||ai;var aN=aG.paste||ai;var az=aG.cut||ai;var aH=S(av);var aP=S(aG.container||aH);var aB,aJ;function aw(aQ){aB=setTimeout(aQ);aJ=aQ}function aL(){if(aB){clearTimeout(aB);aB=v;aJ()}}aP.bind("keydown keypress input keyup focusout paste",aL);function aK(aQ){aL();aH.val(aQ);if(aQ){aH[0].select()}}function aM(){var aQ=aH[0];if(!("selectionStart" in aQ)){return false}return aQ.selectionStart!==aQ.selectionEnd}function ax(aR){var aQ=aH.val();aH.val("");if(aQ){aR(aQ)}}function aF(){aA(at(aI),aI)}function aO(aQ){aI=aQ;aC=null;aF()}function ay(aQ){if(aI&&aC){aF()}aC=aQ;aw(function(){if(aM()){return
}ax(aE)})}function aD(){aI=aC=null}function au(aQ){aH.focus();aw(function(){ax(aN)})}aP.bind({keydown:aO,keypress:ay,focusout:aD,cut:az,paste:au});return{select:aK}}}());var d=j(function(aF,aH,av){function aw(aJ,aI){if(aJ){aJ="'"+aJ+"'"}else{aJ="EOF"}throw"Parse Error: "+aI+" at "+aJ}aF.init=function(aI){this._=aI};aF.parse=function(aJ){return this.skip(aG)._(aJ,aI,aw);function aI(aL,aK){return aK}};aF.or=function(aJ){af("or is passed a parser",aJ instanceof av);var aI=this;return av(function(aN,aM,aL){return aI._(aN,aM,aK);function aK(aO){return aJ._(aN,aM,aL)}})};aF.then=function(aJ){var aI=this;return av(function(aN,aM,aK){return aI._(aN,aL,aK);function aL(aQ,aO){var aP=(aJ instanceof av?aJ:aJ(aO));af("a parser is returned",aP instanceof av);return aP._(aQ,aM,aK)}})};aF.many=function(){var aI=this;return av(function(aO,aN,aL){var aK=[];while(aI._(aO,aM,aJ)){}return aN(aO,aK);function aM(aQ,aP){aO=aQ;aK.push(aP);return true}function aJ(){return false}})};aF.times=function(aK,aI){if(arguments.length<2){aI=aK
}var aJ=this;return av(function(aS,aR,aL){var aN=[];var aU=true;var aM;for(var aP=0;aP<aK;aP+=1){aU=aJ._(aS,aT,aO);if(!aU){return aL(aS,aM)}}for(;aP<aI&&aU;aP+=1){aU=aJ._(aS,aT,aQ)}return aR(aS,aN);function aT(aW,aV){aN.push(aV);aS=aW;return true}function aO(aW,aV){aM=aV;aS=aW;return false}function aQ(aW,aV){return false}})};aF.result=function(aI){return this.then(ax(aI))};aF.atMost=function(aI){return this.times(0,aI)};aF.atLeast=function(aJ){var aI=this;return aI.times(aJ).then(function(aK){return aI.many().map(function(aL){return aK.concat(aL)})})};aF.map=function(aI){return this.then(function(aJ){return ax(aI(aJ))})};aF.skip=function(aI){return this.then(function(aJ){return aI.result(aJ)})};var ay=this.string=function(aK){var aI=aK.length;var aJ="expected '"+aK+"'";return av(function(aO,aN,aM){var aL=aO.slice(0,aI);if(aL===aK){return aN(aO.slice(aI),aL)}else{return aM(aO,aJ)}})};var aD=this.regex=function(aI){af("regexp parser is anchored",aI.toString().charAt(1)==="^");var aJ="expected "+aI;
return av(function(aO,aN,aM){var aL=aI.exec(aO);if(aL){var aK=aL[0];return aN(aO.slice(aK.length),aK)}else{return aM(aO,aJ)}})};var ax=av.succeed=function(aI){return av(function(aK,aJ){return aJ(aK,aI)})};var au=av.fail=function(aI){return av(function(aL,aJ,aK){return aK(aL,aI)})};var at=av.letter=aD(/^[a-z]/i);var aA=av.letters=aD(/^[a-z]*/i);var aC=av.digit=aD(/^[0-9]/);var ar=av.digits=aD(/^[0-9]*/);var P=av.whitespace=aD(/^\s+/);var aB=av.optWhitespace=aD(/^\s*/);var az=av.any=av(function(aK,aJ,aI){if(!aK){return aI(aK,"expected any character")}return aJ(aK.slice(1),aK.charAt(0))});var aE=av.all=av(function(aK,aJ,aI){return aJ("",aK)});var aG=av.eof=av(function(aK,aJ,aI){if(aK){return aI(aK,"expected EOF")}return aJ(aK,aK)})});var C=j(function(P){P.prev=0;P.next=0;P.parent=0;P.firstChild=0;P.lastChild=0;P.children=function(){return J(this.firstChild,this.lastChild)};P.eachChild=function(ar){return this.children().each(ar)};P.foldChildren=function(ar,at){return this.children().fold(ar,at)
};P.adopt=function(at,au,ar){J(this,this).adopt(at,au,ar);return this};P.disown=function(){J(this,this).disown();return this}});var J=j(function(P){P.first=0;P.last=0;P.init=function(au,at){af("no half-empty fragments",!au===!at);if(!au){return}af("first node is passed to Fragment",au instanceof C);af("last node is passed to Fragment",at instanceof C);af("first and last have the same parent",au.parent===at.parent);this.first=au;this.last=at};function ar(au,av,at){af("a parent is always present",au);af("prev is properly set up",(function(){if(!av){return au.firstChild===at}return av.next===at&&av.parent===au})());af("next is properly set up",(function(){if(!at){return au.lastChild===av}return at.prev===av&&at.parent===au})())}P.adopt=function(av,ax,au){ar(av,ax,au);var at=this;at.disowned=false;var ay=at.first;if(!ay){return this}var aw=at.last;if(ax){}else{av.firstChild=ay}if(au){au.prev=aw}else{av.lastChild=aw}at.last.next=au;at.each(function(az){az.prev=ax;az.parent=av;if(ax){ax.next=az
}ax=az});return at};P.disown=function(){var at=this;var aw=at.first;if(!aw||at.disowned){return at}at.disowned=true;var av=at.last;var au=aw.parent;ar(au,aw.prev,aw);ar(au,av,av.next);if(aw.prev){aw.prev.next=av.next}else{au.firstChild=av.next}if(av.next){av.next.prev=aw.prev}else{au.lastChild=aw.prev}return at};P.each=function(av){var at=this;var au=at.first;if(!au){return at}for(;au!==at.last.next;au=au.next){if(av.call(at,au)===false){break}}return at};P.fold=function(at,au){this.each(function(av){at=au.call(this,at,av)});return at}});var k=(function(){var P=0;return function(){return P+=1}})();var G=j(C,function(P){P.init=function(ar){this.id=k();G[this.id]=this};P.toString=function(){return"[MathElement "+this.id+"]"};P.bubble=function(av){var ar=N.call(arguments,1);for(var au=this;au;au=au.parent){var at=au[av]&&au[av].apply(au,ar);if(at===false){break}}return this};P.postOrder=function(au){var at=N.call(arguments,1);if(typeof au==="string"){var ar=au;au=function(aw){if(ar in aw){aw[ar].apply(aw,arguments)
}}}(function av(aw){aw.eachChild(av);au(aw)})(this)};P.jQ=S();P.jQadd=function(ar){this.jQ=this.jQ.add(ar)};this.jQize=function(ar){var at=S(ar);at.find("*").andSelf().each(function(){var aw=S(this),au=aw.attr("mathquill-command-id"),av=aw.attr("mathquill-block-id");if(au){G[au].jQadd(aw)}if(av){G[av].jQadd(aw)}});return at};P.finalizeInsert=function(){var ar=this;ar.postOrder("finalizeTree");ar.postOrder("blur");ar.postOrder("respace");if(ar.next.respace){ar.next.respace()}if(ar.prev.respace){ar.prev.respace()}ar.postOrder("redraw");ar.bubble("redraw")}});var E=j(G,function(P,ar){P.init=function(av,aw,at){var au=this;ar.init.call(au);if(!au.ctrlSeq){au.ctrlSeq=av}if(aw){au.htmlTemplate=aw}if(at){au.textTemplate=at}};P.replaces=function(at){at.disown();this.replacedFragment=at};P.isEmpty=function(){return this.foldChildren(true,function(at,au){return at&&au.isEmpty()})};P.parser=function(){var au=V.block;var at=this;return au.times(at.numBlocks()).map(function(aw){at.blocks=aw;for(var av=0;
av<aw.length;av+=1){aw[av].adopt(at,at.lastChild,0)}return at})};P.createBefore=function(av){var at=this;var au=at.replacedFragment;at.createBlocks();G.jQize(at.html());if(au){au.adopt(at.firstChild,0,0);au.jQ.appendTo(at.firstChild.jQ)}av.jQ.before(at.jQ);av.prev=at.adopt(av.parent,av.prev,av.next);at.finalizeInsert(av);at.placeCursor(av)};P.createBlocks=function(){var au=this,aw=au.numBlocks(),av=au.blocks=Array(aw);for(var at=0;at<aw;at+=1){var ax=av[at]=y();ax.adopt(au,au.lastChild,0)}};P.respace=ai;P.placeCursor=function(at){at.appendTo(this.foldChildren(this.firstChild,function(au,av){return au.isEmpty()?au:av}))};P.remove=function(){this.disown();this.jQ.remove();this.postOrder(function(at){delete G[at.id]});return this};P.numBlocks=function(){var at=this.htmlTemplate.match(/&\d+/g);return at?at.length:0};P.html=function(){var ax=this;var az=ax.blocks;var at=" mathquill-command-id="+ax.id;var ay=ax.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);af("no unmatched angle brackets",ay.join("")===this.htmlTemplate);
for(var av=0,au=ay[0];au;av+=1,au=ay[av]){if(au.slice(-2)==="/>"){ay[av]=au.slice(0,-2)+at+"/>"}else{if(au.charAt(0)==="<"){af("not an unmatched top-level close tag",au.charAt(1)!=="/");ay[av]=au.slice(0,-1)+at+">";var aw=1;do{av+=1,au=ay[av];af("no missing close tags",au);if(au.slice(0,2)==="</"){aw-=1}else{if(au.charAt(0)==="<"&&au.slice(-2)!=="/>"){aw+=1}}}while(aw>0)}}}return ay.join("").replace(/>&(\d+)/g,function(aB,aA){return" mathquill-block-id="+az[aA].id+">"+az[aA].join("html")})};P.latex=function(){return this.foldChildren(this.ctrlSeq,function(at,au){return at+"{"+(au.latex()||" ")+"}"})};P.textTemplate=[""];P.text=function(){var at=0;return this.foldChildren(this.textTemplate[at],function(av,aw){at+=1;var au=aw.text();if(av&&this.textTemplate[at]==="("&&au[0]==="("&&au.slice(-1)===")"){return av+au.slice(1,-1)+this.textTemplate[at]}return av+aw.text()+(this.textTemplate[at]||"")})}});var Z=j(E,function(P,ar){P.init=function(au,at,av){if(!av){av=au&&au.length>1?au.slice(1):au
}ar.init.call(this,au,at,[av])};P.parser=function(){return d.succeed(this)};P.numBlocks=function(){return 0};P.replaces=function(at){at.remove()};P.createBlocks=ai;P.latex=function(){return this.ctrlSeq};P.text=function(){return this.textTemplate};P.placeCursor=ai;P.isEmpty=function(){return true}});var y=j(G,function(P){P.join=function(ar){return this.foldChildren("",function(at,au){return at+au[ar]()})};P.latex=function(){return this.join("latex")};P.text=function(){return this.firstChild===this.lastChild?this.firstChild.text():"("+this.join("text")+")"};P.isEmpty=function(){return this.firstChild===0&&this.lastChild===0};P.focus=function(){this.jQ.addClass("hasCursor");this.jQ.removeClass("empty");return this};P.blur=function(){this.jQ.removeClass("hasCursor");if(this.isEmpty()){this.jQ.addClass("empty")}return this}});var ab=j(J,function(P,ar){P.init=function(au,at){ar.init.call(this,au,at||au);this.jQ=this.fold(S(),function(av,aw){return aw.jQ.add(av)})};P.latex=function(){return this.fold("",function(au,at){return au+at.latex()
})};P.remove=function(){this.jQ.remove();this.each(function(at){at.postOrder(function(au){delete G[au.id]})});return this.disown()}});function ah(ax,aA,az,at){var au=ax.contents().detach();if(!az){ax.addClass("mathquill-rendered-math")}aA.jQ=ax.attr(l,aA.id);aA.revert=function(){ax.empty().unbind(".mathquill").removeClass("mathquill-rendered-math mathquill-editable mathquill-textbox").append(au)};var aD=aA.cursor=L(aA);aA.renderLatex(au.text());var aE=aA.textarea=S('<span class="textarea"><textarea></textarea></span>'),aC=aE.children();var aw;aA.selectionChanged=function(){if(aw===v){aw=setTimeout(P)}m(ax[0])};function P(){aw=v;var aF=aD.selection?"$"+aD.selection.latex()+"$":"";ay.select(aF)}ax.bind("selectstart.mathquill",function(aF){if(aF.target!==aC[0]){aF.preventDefault()}aF.stopPropagation()});var av,ar=aD.blink;ax.bind("mousedown.mathquill",function(aG){function aF(aJ){aD.seek(S(aJ.target),aJ.pageX,aJ.pageY);if(aD.prev!==av.prev||aD.parent!==av.parent){aD.selectFrom(av)}return false
}function aI(aJ){delete aJ.target;return aF(aJ)}function aH(aJ){av=v;aD.blink=ar;if(!aD.selection){if(at){aD.show()}else{aE.detach()}}ax.unbind("mousemove",aF);S(aJ.target.ownerDocument).unbind("mousemove",aI).unbind("mouseup",aH)}setTimeout(function(){aC.focus()});aD.blink=ai;aD.seek(S(aG.target),aG.pageX,aG.pageY);av={parent:aD.parent,prev:aD.prev,next:aD.next};if(!at){ax.prepend(aE)}ax.mousemove(aF);S(aG.target.ownerDocument).mousemove(aI).mouseup(aH);return false});if(!at){var ay=n(aC,{container:ax});ax.bind("cut paste",false).bind("copy",P).prepend('<span class="selectable">$'+aA.latex()+"$</span>");aC.blur(function(){aD.clearSelection();setTimeout(aB)});function aB(){aE.detach()}return}var ay=n(aC,{container:ax,key:function(aG,aF){aD.parent.bubble("onKey",aG,aF)},text:function(aF){aD.parent.bubble("onText",aF)},cut:function(aF){if(aD.selection){setTimeout(function(){aD.prepareEdit();aD.parent.bubble("redraw")})}aF.stopPropagation()},paste:function(aF){if(aF.slice(0,1)==="$"&&aF.slice(-1)==="$"){aF=aF.slice(1,-1)
}else{aF="\\text{"+aF+"}"}aD.writeLatex(aF).show()}});ax.prepend(aE);ax.addClass("mathquill-editable");if(az){ax.addClass("mathquill-textbox")}aC.focus(function(aF){if(!aD.parent){aD.appendTo(aA)}aD.parent.jQ.addClass("hasCursor");if(aD.selection){aD.selection.jQ.removeClass("blur");setTimeout(aA.selectionChanged)}else{aD.show()}aF.stopPropagation()}).blur(function(aF){aD.hide().parent.blur();if(aD.selection){aD.selection.jQ.addClass("blur")}aF.stopPropagation()});ax.bind("focus.mathquill blur.mathquill",function(aF){aC.trigger(aF)}).blur()}var o=j(y,function(P,ar){P.latex=function(){return ar.latex.call(this).replace(/(\\[a-z]+) (?![a-z])/ig,"$1")};P.text=function(){return this.foldChildren("",function(at,au){return at+au.text()})};P.renderLatex=function(at){var au=this.jQ;au.children().slice(1).remove();this.firstChild=this.lastChild=0;this.cursor.appendTo(this).writeLatex(at)};P.onKey=function(at,av){switch(at){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":while(this.cursor.prev||this.cursor.selection){this.cursor.backspace()
}break;case"Shift-Backspace":case"Backspace":this.cursor.backspace();break;case"Esc":case"Tab":case"Spacebar":var au=this.cursor.parent;if(au===this.cursor.root){if(at==="Spacebar"){av.preventDefault()}return}this.cursor.prepareMove();if(au.next){this.cursor.prependTo(au.next)}else{this.cursor.insertAfter(au.parent)}break;case"Shift-Tab":case"Shift-Esc":case"Shift-Spacebar":var au=this.cursor.parent;if(au===this.cursor.root){if(at==="Shift-Spacebar"){av.preventDefault()}return}this.cursor.prepareMove();if(au.prev){this.cursor.appendTo(au.prev)}else{this.cursor.insertBefore(au.parent)}break;case"Enter":break;case"End":this.cursor.prepareMove().appendTo(this.cursor.parent);break;case"Ctrl-End":this.cursor.prepareMove().appendTo(this);break;case"Shift-End":while(this.cursor.next){this.cursor.selectRight()}break;case"Ctrl-Shift-End":while(this.cursor.next||this.cursor.parent!==this){this.cursor.selectRight()}break;case"Home":this.cursor.prepareMove().prependTo(this.cursor.parent);break;case"Ctrl-Home":this.cursor.prepareMove().prependTo(this);
break;case"Shift-Home":while(this.cursor.prev){this.cursor.selectLeft()}break;case"Ctrl-Shift-Home":while(this.cursor.prev||this.cursor.parent!==this){this.cursor.selectLeft()}break;case"Left":this.cursor.moveLeft();break;case"Shift-Left":this.cursor.selectLeft();break;case"Ctrl-Left":break;case"Right":this.cursor.moveRight();break;case"Shift-Right":this.cursor.selectRight();break;case"Ctrl-Right":break;case"Up":this.cursor.moveUp();break;case"Down":this.cursor.moveDown();break;case"Shift-Up":if(this.cursor.prev){while(this.cursor.prev){this.cursor.selectLeft()}}else{this.cursor.selectLeft()}case"Shift-Down":if(this.cursor.next){while(this.cursor.next){this.cursor.selectRight()}}else{this.cursor.selectRight()}case"Ctrl-Up":break;case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":while(this.cursor.next||this.cursor.selection){this.cursor.deleteForward()}break;case"Shift-Del":case"Del":this.cursor.deleteForward();break;case"Meta-A":case"Ctrl-A":if(this!==this.cursor.root){return}this.cursor.prepareMove().appendTo(this);
while(this.cursor.prev){this.cursor.selectLeft()}break;default:return false}av.preventDefault();return false};P.onText=function(at){this.cursor.write(at);return false}});var ak=j(E,function(P,ar){P.init=function(at){ar.init.call(this,"$");this.cursor=at};P.htmlTemplate='<span class="mathquill-rendered-math">&0</span>';P.createBlocks=function(){this.firstChild=this.lastChild=o();this.blocks=[this.firstChild];this.firstChild.parent=this;var at=this.firstChild.cursor=this.cursor;this.firstChild.onText=function(au){if(au!=="$"||at.parent!==this){at.write(au)}else{if(this.isEmpty()){at.insertAfter(this.parent).backspace().insertNew(ad("\\$","$")).show()}else{if(!at.next){at.insertAfter(this.parent)}else{if(!at.prev){at.insertBefore(this.parent)}else{at.write(au)}}}}return false}};P.latex=function(){return"$"+this.firstChild.latex()+"$"}});var X=j(y,function(P){P.renderLatex=function(av){var aF=this;var aD=aF.cursor;aF.jQ.children().slice(1).remove();aF.firstChild=aF.lastChild=0;aD.show().appendTo(aF);
var aA=d.regex;var ay=d.string;var aE=d.eof;var aC=d.all;var az=ay("$").then(V).skip(ay("$").or(aE)).map(function(aI){var aH=ak(aD);aH.createBlocks();var aG=aH.firstChild;aI.children().adopt(aG,0,0);return aH});var aB=ay("\\$").result("$");var at=aB.or(aA(/^[^$]/)).map(ad);var ar=az.or(at).many();var au=ar.skip(aE).or(aC.result(false)).parse(av);if(au){for(var aw=0;aw<au.length;aw+=1){au[aw].adopt(aF,aF.lastChild,0)}var ax=aF.join("html");G.jQize(ax).appendTo(aF.jQ);this.finalizeInsert()}};P.onKey=o.prototype.onKey;P.onText=function(ar){this.cursor.prepareEdit();if(ar==="$"){this.cursor.insertNew(ak(this.cursor))}else{this.cursor.insertNew(ad(ar))}return false}});var A={},M={};var T,m=ai,aj=document.createElement("div"),ap=aj.style,I={transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1},a;for(var z in I){if(z in ap){a=z;break}}if(a){T=function(ar,P,at){ar.css(a,"scale("+P+","+at+")")}}else{if("filter" in ap){m=function(P){P.className=P.className};T=function(au,P,aw){P/=(1+(aw-1)/2);
au.css("fontSize",aw+"em");if(!au.hasClass("matrixed-container")){au.addClass("matrixed-container").wrapInner('<span class="matrixed"></span>')}var av=au.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+P+",SizingMethod='auto expand')");function at(){au.css("marginRight",(av.width()-1)*(P-1)/P+"px")}at();var ar=setInterval(at);S(window).load(function(){clearTimeout(ar);at()})}}else{T=function(ar,P,at){ar.css("fontSize",at+"em")}}}var K=j(E,function(P,ar){P.init=function(av,au,at){ar.init.call(this,av,"<"+au+" "+at+">&0</"+au+">")}});M.mathrm=f(K,"\\mathrm","span",'class="roman font"');M.mathit=f(K,"\\mathit","i",'class="font"');M.mathbf=f(K,"\\mathbf","b",'class="font"');M.mathsf=f(K,"\\mathsf","span",'class="sans-serif font"');M.mathtt=f(K,"\\mathtt","span",'class="monospace font"');M.underline=f(K,"\\underline","span",'class="non-leaf underline"');M.overline=M.bar=f(K,"\\overline","span",'class="non-leaf overline"');M.overleftrightarrow=M.bar=f(K,"\\overleftrightarrow","span",'class="non-leaf overleftrightarrow"');
M.overrightarrow=M.bar=f(K,"\\overrightarrow","span",'class="non-leaf overrightarrow"');var ao=j(E,function(P,ar){P.init=function(au,at,av){ar.init.call(this,au,"<"+at+' class="non-leaf">&0</'+at+">",[av])};P.finalizeTree=function(){af("SupSub is only _ and ^",this.ctrlSeq==="^"||this.ctrlSeq==="_");if(this.ctrlSeq==="_"){this.down=this.firstChild;this.firstChild.up=at}else{this.up=this.firstChild;this.firstChild.down=at}function at(aw){var au=this.parent,av=aw;do{if(av.next){aw.insertBefore(au);return false}av=av.parent.parent}while(av!==au);aw.insertAfter(au);return false}};P.latex=function(){var at=this.firstChild.latex();if(at.length===1){return this.ctrlSeq+at}else{return this.ctrlSeq+"{"+(at||" ")+"}"}};P.redraw=function(){if(this.prev){this.prev.respace()}if(!(this.prev instanceof ao)){this.respace();if(this.next&&!(this.next instanceof ao)){this.next.respace()}}};P.respace=function(){if(this.prev.ctrlSeq==="\\int "||(this.prev instanceof ao&&this.prev.ctrlSeq!=this.ctrlSeq&&this.prev.prev&&this.prev.prev.ctrlSeq==="\\int ")){if(!this.limit){this.limit=true;
this.jQ.addClass("limit")}}else{if(this.limit){this.limit=false;this.jQ.removeClass("limit")}}this.respaced=this.prev instanceof ao&&this.prev.ctrlSeq!=this.ctrlSeq&&!this.prev.respaced;if(this.respaced){var au=+this.jQ.css("fontSize").slice(0,-2),at=this.prev.jQ.outerWidth(),av=this.jQ.outerWidth();this.jQ.css({left:(this.limit&&this.ctrlSeq==="_"?-0.25:0)-at/au+"em",marginRight:0.1-an(av,at)/au+"em"})}else{if(this.limit&&this.ctrlSeq==="_"){this.jQ.css({left:"-.25em",marginRight:""})}else{this.jQ.css({left:"",marginRight:""})}}if(this.next instanceof ao){this.next.respace()}return this}});M.subscript=M._=f(ao,"_","sub","_");M.superscript=M.supscript=M["^"]=f(ao,"^","sup","**");var ac=M.frac=M.dfrac=M.cfrac=M.fraction=j(E,function(P,ar){P.ctrlSeq="\\frac";P.htmlTemplate='<span class="fraction non-leaf"><span class="numerator">&0</span><span class="denominator">&1</span><span style="display:inline-block;width:0">&nbsp;</span></span>';P.textTemplate=["(","/",")"];P.finalizeTree=function(){this.up=this.lastChild.up=this.firstChild;
this.down=this.firstChild.down=this.lastChild}});var h=M.over=A["/"]=j(ac,function(P,ar){P.createBefore=function(au){if(!this.replacedFragment){var at=au.prev;while(at&&!(at instanceof al||at instanceof ae||at instanceof x)){at=at.prev}if(at instanceof x&&at.next instanceof ao){at=at.next;if(at.next instanceof ao&&at.next.ctrlSeq!=at.ctrlSeq){at=at.next}}if(at!==au.prev){this.replaces(ab(at.next||au.parent.firstChild,au.prev));au.prev=at}}ar.createBefore.call(this,au)}});var w=M.sqrt=M[""]=j(E,function(P,ar){P.ctrlSeq="\\sqrt";P.htmlTemplate='<span class="non-leaf"><span class="scaled sqrt-prefix">&radic;</span><span class="non-leaf sqrt-stem">&0</span></span>';P.textTemplate=["sqrt(",")"];P.parser=function(){return V.optBlock.then(function(at){return V.block.map(function(av){var au=am();au.blocks=[at,av];at.adopt(au,0,0);av.adopt(au,at,0);return au})}).or(ar.parser.call(this))};P.redraw=function(){var at=this.lastChild.jQ;T(at.prev(),1,at.innerHeight()/+at.css("fontSize").slice(0,-2)-0.1)
}});var am=M.nthroot=j(w,function(P,ar){P.htmlTemplate='<sup class="nthroot non-leaf">&0</sup><span class="scaled"><span class="sqrt-prefix scaled">&radic;</span><span class="sqrt-stem non-leaf">&1</span></span>';P.textTemplate=["sqrt[","](",")"];P.latex=function(){return"\\sqrt["+this.firstChild.latex()+"]{"+this.lastChild.latex()+"}"}});var D=j(E,function(P,ar){P.init=function(au,aw,av,at){ar.init.call(this,"\\left"+av,'<span class="non-leaf"><span class="scaled paren">'+au+'</span><span class="non-leaf">&0</span><span class="scaled paren">'+aw+"</span></span>",[au,aw]);this.end="\\right"+at};P.jQadd=function(){ar.jQadd.apply(this,arguments);var at=this.jQ;this.bracketjQs=at.children(":first").add(at.children(":last"))};P.latex=function(){return this.ctrlSeq+this.firstChild.latex()+this.end};P.redraw=function(){var au=this.firstChild.jQ;var at=au.outerHeight()/+au.css("fontSize").slice(0,-2);T(this.bracketjQs,an(1+0.2*(at-1),1.2),1.05*at)}});M.left=j(E,function(P){P.parser=function(){var at=d.regex;
var ar=d.string;var at=d.regex;var au=d.succeed;var aw=V.block;var av=d.optWhitespace;return av.then(at(/^(?:[([|]|\\\{)/)).then(function(ax){if(ax.charAt(0)==="\\"){ax=ax.slice(1)}var ay=A[ax]();return V.map(function(az){ay.blocks=[az];az.adopt(ay,0,0)}).then(ar("\\right")).skip(av).then(at(/^(?:[\])|]|\\\})/)).then(function(az){if(az.slice(-1)!==ay.end.slice(-1)){return d.fail("open doesn't match close")}return au(ay)})})}});M.right=j(E,function(P){P.parser=function(){return d.fail("unmatched \\right")}});M.lbrace=A["{"]=f(D,"{","}","\\{","\\}");M.langle=M.lang=f(D,"&lang;","&rang;","\\langle ","\\rangle ");var Y=j(D,function(P,ar){P.createBefore=function(at){if(!at.next&&at.parent.parent&&at.parent.parent.end===this.end&&!this.replacedFragment){at.insertAfter(at.parent.parent)}else{ar.createBefore.call(this,at)}};P.placeCursor=function(at){this.firstChild.blur();at.insertAfter(this)}});M.rbrace=A["}"]=f(Y,"{","}","\\{","\\}");M.rangle=M.rang=f(Y,"&lang;","&rang;","\\langle ","\\rangle ");
var t=function(P,ar){P.init=function(at,au){ar.init.call(this,at,au,at,au)}};var O=j(D,t);M.lparen=A["("]=f(O,"(",")");M.lbrack=M.lbracket=A["["]=f(O,"[","]");var R=j(Y,t);M.rparen=A[")"]=f(R,"(",")");M.rbrack=M.rbracket=A["]"]=f(R,"[","]");var b=M.lpipe=M.rpipe=A["|"]=j(O,function(P,ar){P.init=function(){ar.init.call(this,"|","|")};P.createBefore=Y.prototype.createBefore});var ae=A.$=M.text=M.textnormal=M.textrm=M.textup=M.textmd=j(E,function(P,ar){P.ctrlSeq="\\text";P.htmlTemplate='<span class="text">&0</span>';P.replaces=function(at){if(at instanceof ab){this.replacedText=at.remove().jQ.text()}else{if(typeof at==="string"){this.replacedText=at}}};P.textTemplate=['"','"'];P.parser=function(){var at=d.string;var au=d.regex;var av=d.optWhitespace;return av.then(at("{")).then(au(/^[^}]*/)).skip(at("}")).map(function(aA){var ay=ae();ay.createBlocks();var az=ay.firstChild;for(var aw=0;aw<aA.length;aw+=1){var ax=ad(aA.charAt(aw));ax.adopt(az,az.lastChild,0)}return ay})};P.createBlocks=function(){this.firstChild=this.lastChild=r();
this.blocks=[this.firstChild];this.firstChild.parent=this};P.finalizeInsert=function(){this.firstChild.blur=function(){delete this.blur;return this};ar.finalizeInsert.call(this)};P.createBefore=function(au){ar.createBefore.call(this,this.cursor=au);if(this.replacedText){for(var at=0;at<this.replacedText.length;at+=1){this.write(this.replacedText.charAt(at))}}};P.write=function(at){this.cursor.insertNew(ad(at))};P.onKey=function(at,au){if(!this.cursor.selection&&((at==="Backspace"&&!this.cursor.prev)||(at==="Del"&&!this.cursor.next))){if(this.isEmpty()){this.cursor.insertAfter(this)}return false}};P.onText=function(au){this.cursor.prepareEdit();if(au!=="$"){this.write(au)}else{if(this.isEmpty()){this.cursor.insertAfter(this).backspace().insertNew(ad("\\$","$"))}else{if(!this.cursor.next){this.cursor.insertAfter(this)}else{if(!this.cursor.prev){this.cursor.insertBefore(this)}else{var at=ae(ab(this.cursor.next,this.firstChild.lastChild));at.placeCursor=function(av){this.prev=0;delete this.placeCursor;
this.placeCursor(av)};at.firstChild.focus=function(){return this};this.cursor.insertAfter(this).insertNew(at);at.prev=this;this.cursor.insertBefore(at);delete at.firstChild.focus}}}}return false}});var r=j(y,function(P,ar){P.blur=function(){this.jQ.removeClass("hasCursor");if(this.isEmpty()){var at=this.parent,au=at.cursor;if(au.parent===this){this.jQ.addClass("empty")}else{au.hide();at.remove();if(au.next===at){au.next=at.next}else{if(au.prev===at){au.prev=at.prev}}au.show().parent.bubble("redraw")}}return this};P.focus=function(){ar.focus.call(this);var au=this.parent;if(au.next.ctrlSeq===au.ctrlSeq){var aw=this,av=au.cursor,at=au.next.firstChild;at.eachChild(function(ax){ax.parent=aw;ax.jQ.appendTo(aw.jQ)});if(this.lastChild){this.lastChild.next=at.firstChild}else{this.firstChild=at.firstChild}at.firstChild.prev=this.lastChild;this.lastChild=at.lastChild;at.parent.remove();if(av.prev){av.insertAfter(av.prev)}else{av.prependTo(this)}av.parent.bubble("redraw")}else{if(au.prev.ctrlSeq===au.ctrlSeq){var av=au.cursor;
if(av.prev){au.prev.firstChild.focus()}else{av.appendTo(au.prev.firstChild)}}}return this}});function p(at,ar,P){return j(ae,{ctrlSeq:at,htmlTemplate:"<"+ar+" "+P+">&0</"+ar+">"})}M.em=M.italic=M.italics=M.emph=M.textit=M.textsl=p("\\textit","i",'class="text"');M.strong=M.bold=M.textbf=p("\\textbf","b",'class="text"');M.sf=M.textsf=p("\\textsf","span",'class="sans-serif text"');M.tt=M.texttt=p("\\texttt","span",'class="monospace text"');M.textsc=p("\\textsc","span",'style="font-variant:small-caps" class="text"');M.uppercase=p("\\uppercase","span",'style="text-transform:uppercase" class="text"');M.lowercase=p("\\lowercase","span",'style="text-transform:lowercase" class="text"');var aa=A["\\"]=j(E,function(P,ar){P.ctrlSeq="\\";P.replaces=function(at){this._replacedFragment=at.disown();this.isEmpty=function(){return false}};P.htmlTemplate='<span class="latex-command-input non-leaf">\\<span>&0</span></span>';P.textTemplate=["\\"];P.createBlocks=function(){ar.createBlocks.call(this);this.firstChild.focus=function(){this.parent.jQ.addClass("hasCursor");
if(this.isEmpty()){this.parent.jQ.removeClass("empty")}return this};this.firstChild.blur=function(){this.parent.jQ.removeClass("hasCursor");if(this.isEmpty()){this.parent.jQ.addClass("empty")}return this}};P.createBefore=function(au){ar.createBefore.call(this,au);this.cursor=au.appendTo(this.firstChild);if(this._replacedFragment){var at=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("blur").bind("mousedown mousemove",function(av){S(av.target=at).trigger(av);return false}).insertBefore(this.jQ).add(this.jQ)}};P.latex=function(){return"\\"+this.firstChild.latex()+" "};P.onKey=function(at,au){if(at==="Tab"||at==="Enter"||at==="Spacebar"){this.renderCommand();au.preventDefault();return false}};P.onText=function(at){if(at.match(/[a-z]/i)){this.cursor.prepareEdit();this.cursor.insertNew(ad(at));return false}this.renderCommand();if(at==="\\"&&this.firstChild.isEmpty()){return false}};P.renderCommand=function(){this.jQ=this.jQ.last();this.remove();if(this.next){this.cursor.insertBefore(this.next)
}else{this.cursor.appendTo(this.parent)}var au=this.firstChild.latex(),at;if(!au){au="backslash"}this.cursor.insertCmd(au,this._replacedFragment)}});var Q=M.binom=M.binomial=j(E,function(P,ar){P.ctrlSeq="\\binom";P.htmlTemplate='<span class="paren scaled">(</span><span class="non-leaf"><span class="array non-leaf"><span>&0</span><span>&1</span></span></span><span class="paren scaled">)</span>';P.textTemplate=["choose(",",",")"];P.redraw=function(){var av=this.jQ.eq(1);var at=av.outerHeight()/+av.css("fontSize").slice(0,-2);var au=this.jQ.filter(".paren");T(au,an(1+0.2*(at-1),1.2),1.05*at)}});var q=M.choose=j(Q,function(P){P.createBefore=h.prototype.createBefore});var F=M.vector=j(E,function(P,ar){P.ctrlSeq="\\vector";P.htmlTemplate='<span class="array"><span>&0</span></span>';P.latex=function(){return"\\begin{matrix}"+this.foldChildren([],function(at,au){at.push(au.latex());return at}).join("\\\\")+"\\end{matrix}"};P.text=function(){return"["+this.foldChildren([],function(at,au){at.push(au.text());
return at}).join()+"]"};P.createBefore=function(at){ar.createBefore.call(this,this.cursor=at)};P.onKey=function(at,av){var au=this.cursor.parent;if(au.parent===this){if(at==="Enter"){var aw=y();aw.parent=this;aw.jQ=S("<span></span>").attr(l,aw.id).insertAfter(au.jQ);if(au.next){au.next.prev=aw}else{this.lastChild=aw}aw.next=au.next;au.next=aw;aw.prev=au;this.bubble("redraw").cursor.appendTo(aw);av.preventDefault();return false}else{if(at==="Tab"&&!au.next){if(au.isEmpty()){if(au.prev){this.cursor.insertAfter(this);delete au.prev.next;this.lastChild=au.prev;au.jQ.remove();this.bubble("redraw");av.preventDefault();return false}else{return}}var aw=y();aw.parent=this;aw.jQ=S("<span></span>").attr(l,aw.id).appendTo(this.jQ);this.lastChild=aw;au.next=aw;aw.prev=au;this.bubble("redraw").cursor.appendTo(aw);av.preventDefault();return false}else{if(av.which===8){if(au.isEmpty()){if(au.prev){this.cursor.appendTo(au.prev);au.prev.next=au.next}else{this.cursor.insertBefore(this);this.firstChild=au.next
}if(au.next){au.next.prev=au.prev}else{this.lastChild=au.prev}au.jQ.remove();if(this.isEmpty()){this.cursor.deleteForward()}else{this.bubble("redraw")}av.preventDefault();return false}else{if(!this.cursor.prev){av.preventDefault();return false}}}}}}}});M.editable=j(ak,function(P,ar){P.init=function(){E.prototype.init.call(this,"\\editable")};P.jQadd=function(){var at=this;ar.jQadd.apply(at,arguments);var au=at.firstChild.disown();var av=at.jQ.children().detach();at.firstChild=at.lastChild=o();at.blocks=[at.firstChild];at.firstChild.parent=at;ah(at.jQ,at.firstChild,false,true);at.cursor=at.firstChild.cursor;au.children().adopt(at.firstChild,0,0);av.appendTo(at.firstChild.jQ);at.firstChild.cursor.appendTo(at.firstChild)};P.latex=function(){return this.firstChild.latex()};P.text=function(){return this.firstChild.text()}});M.f=f(Z,"f",'<var class="florin">&fnof;</var><span style="display:inline-block;width:0">&nbsp;</span>');var u=j(Z,function(P,ar){P.init=function(au,at){ar.init.call(this,au,"<var>"+(at||au)+"</var>")
};P.text=function(){var at=this.ctrlSeq;if(this.prev&&!(this.prev instanceof u)&&!(this.prev instanceof al)){at="*"+at}if(this.next&&!(this.next instanceof al)&&!(this.next.ctrlSeq==="^")){at+="*"}return at}});var ad=j(Z,function(P,ar){P.init=function(au,at){ar.init.call(this,au,"<span>"+(at||au)+"</span>")}});A[" "]=f(ad,"\\:"," ");M.prime=A["'"]=f(ad,"'","&prime;");var g=j(Z,function(P,ar){P.init=function(au,at){ar.init.call(this,au,'<span class="nonSymbola">'+(at||au)+"</span>")}});M["@"]=g;M["&"]=f(g,"\\&","&amp;");M["%"]=f(g,"\\%","%");M.alpha=M.beta=M.gamma=M.delta=M.zeta=M.eta=M.theta=M.iota=M.kappa=M.mu=M.nu=M.xi=M.rho=M.sigma=M.tau=M.chi=M.psi=M.omega=j(u,function(P,ar){P.init=function(at){ar.init.call(this,"\\"+at+" ","&"+at+";")}});M.phi=f(u,"\\phi ","&#981;");M.phiv=M.varphi=f(u,"\\varphi ","&phi;");M.epsilon=f(u,"\\epsilon ","&#1013;");M.epsiv=M.varepsilon=f(u,"\\varepsilon ","&epsilon;");M.piv=M.varpi=f(u,"\\varpi ","&piv;");M.sigmaf=M.sigmav=M.varsigma=f(u,"\\varsigma ","&sigmaf;");
M.thetav=M.vartheta=M.thetasym=f(u,"\\vartheta ","&thetasym;");M.upsilon=M.upsi=f(u,"\\upsilon ","&upsilon;");M.gammad=M.Gammad=M.digamma=f(u,"\\digamma ","&#989;");M.kappav=M.varkappa=f(u,"\\varkappa ","&#1008;");M.rhov=M.varrho=f(u,"\\varrho ","&#1009;");M.pi=M[""]=f(g,"\\pi ","&pi;");M.lambda=f(g,"\\lambda ","&lambda;");M.Upsilon=M.Upsi=M.upsih=M.Upsih=f(Z,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>');M.Gamma=M.Delta=M.Theta=M.Lambda=M.Xi=M.Pi=M.Sigma=M.Phi=M.Psi=M.Omega=M.forall=j(ad,function(P,ar){P.init=function(at){ar.init.call(this,"\\"+at+" ","&"+at+";")}});var ag=j(E,function(P){P.init=function(ar){this.latex=ar};P.createBefore=function(ar){ar.writeLatex(this.latex)};P.parser=function(){var ar=V.parse(this.latex).children();return d.succeed(ar)}});M[""]=f(ag,"^1");M[""]=f(ag,"^2");M[""]=f(ag,"^3");M[""]=f(ag,"\\frac14");M[""]=f(ag,"\\frac12");M[""]=f(ag,"\\frac34");var al=j(Z,function(P,ar){P.init=function(au,at,av){ar.init.call(this,au,'<span class="binary-operator">'+at+"</span>",av)
}});var e=j(al,function(P){P.init=ad.prototype.init;P.respace=function(){if(!this.prev){this.jQ[0].className=""}else{if(this.prev instanceof al&&this.next&&!(this.next instanceof al)){this.jQ[0].className="unary-operator"}else{this.jQ[0].className="binary-operator"}}return this}});M["+"]=f(e,"+","+");M[""]=M["-"]=f(e,"-","&minus;");M[""]=M.pm=M.plusmn=M.plusminus=f(e,"\\pm ","&plusmn;");M.mp=M.mnplus=M.minusplus=f(e,"\\mp ","&#8723;");A["*"]=M.sdot=M.cdot=f(al,"\\cdot ","&middot;");M["="]=f(al,"=","=");M["<"]=f(al,"<","&lt;");M[">"]=f(al,">","&gt;");M.notin=M.sim=M.cong=M.equiv=M.oplus=M.otimes=j(al,function(P,ar){P.init=function(at){ar.init.call(this,"\\"+at+" ","&"+at+";")}});M.times=f(al,"\\times ","&times;","[x]");M[""]=M.div=M.divide=M.divides=f(al,"\\div ","&divide;","[/]");M[""]=M.ne=M.neq=f(al,"\\ne ","&ne;");M.ast=M.star=M.loast=M.lowast=f(al,"\\ast ","&lowast;");M.therefor=M.therefore=f(al,"\\therefore ","&there4;");M.cuz=M.because=f(al,"\\because ","&#8757;");M.prop=M.propto=f(al,"\\propto ","&prop;");
M[""]=M.asymp=M.approx=f(al,"\\approx ","&asymp;");M.napprox=f(al,"\\not\\approx ","&#8777;");M.lt=f(al,"<","&lt;");M.gt=f(al,">","&gt;");M[""]=M.le=M.leq=f(al,"\\le ","&le;");M[""]=M.ge=M.geq=f(al,"\\ge ","&ge;");M.isin=M["in"]=f(al,"\\in ","&isin;");M.ni=M.contains=f(al,"\\ni ","&ni;");M.notni=M.niton=M.notcontains=M.doesnotcontain=f(al,"\\not\\ni ","&#8716;");M.sub=M.subset=f(al,"\\subset ","&sub;");M.sup=M.supset=M.superset=f(al,"\\supset ","&sup;");M.nsub=M.notsub=M.nsubset=M.notsubset=f(al,"\\not\\subset ","&#8836;");M.nsup=M.notsup=M.nsupset=M.notsupset=M.nsuperset=M.notsuperset=f(al,"\\not\\supset ","&#8837;");M.sube=M.subeq=M.subsete=M.subseteq=f(al,"\\subseteq ","&sube;");M.supe=M.supeq=M.supsete=M.supseteq=M.supersete=M.superseteq=f(al,"\\supseteq ","&supe;");M.nsube=M.nsubeq=M.notsube=M.notsubeq=M.nsubsete=M.nsubseteq=M.notsubsete=M.notsubseteq=f(al,"\\not\\subseteq ","&#8840;");M.nsupe=M.nsupeq=M.notsupe=M.notsupeq=M.nsupsete=M.nsupseteq=M.notsupsete=M.notsupseteq=M.nsupersete=M.nsuperseteq=M.notsupersete=M.notsuperseteq=f(al,"\\not\\supseteq ","&#8841;");
var x=j(Z,function(P,ar){P.init=function(au,at){ar.init.call(this,au,"<big>"+at+"</big>")}});M[""]=M.sum=M.summation=f(x,"\\sum ","&sum;");M[""]=M.prod=M.product=f(x,"\\prod ","&prod;");M.coprod=M.coproduct=f(x,"\\coprod ","&#8720;");M[""]=M["int"]=M.integral=f(x,"\\int ","&int;");M.naturals=M.Naturals=f(ad,"\\mathbb{N}","&#8469;");M.primes=M.Primes=M.projective=M.Projective=M.probability=M.Probability=f(ad,"\\mathbb{P}","&#8473;");M.integers=M.Integers=f(ad,"\\mathbb{Z}","&#8484;");M.rationals=M.Rationals=f(ad,"\\mathbb{Q}","&#8474;");M.reals=M.Reals=f(ad,"\\mathbb{R}","&#8477;");M.complex=M.Complex=M.complexes=M.Complexes=M.complexplane=M.Complexplane=M.ComplexPlane=f(ad,"\\mathbb{C}","&#8450;");M.Hamiltonian=M.quaternions=M.Quaternions=f(ad,"\\mathbb{H}","&#8461;");M.quad=M.emsp=f(ad,"\\quad ","    ");M.qquad=f(ad,"\\qquad ","        ");M.diamond=f(ad,"\\diamond ","&#9671;");M.bigtriangleup=f(ad,"\\bigtriangleup ","&#9651;");M.ominus=f(ad,"\\ominus ","&#8854;");M.uplus=f(ad,"\\uplus ","&#8846;");
M.bigtriangledown=f(ad,"\\bigtriangledown ","&#9661;");M.sqcap=f(ad,"\\sqcap ","&#8851;");M.lhd=f(ad,"\\lhd ","&#8882;");M.triangleleft=f(ad,"\\triangleleft ","&#8882;");M.sqcup=f(ad,"\\sqcup ","&#8852;");M.rhd=f(ad,"\\rhd ","&#8883;");M.triangleright=f(ad,"\\triangleright ","&#8883;");M.odot=f(ad,"\\odot ","&#8857;");M.bigcirc=f(ad,"\\bigcirc ","&#9711;");M.dagger=f(ad,"\\dagger ","&#0134;");M.ddagger=f(ad,"\\ddagger ","&#135;");M.wr=f(ad,"\\wr ","&#8768;");M.amalg=f(ad,"\\amalg ","&#8720;");M.models=f(ad,"\\models ","&#8872;");M.prec=f(ad,"\\prec ","&#8826;");M.succ=f(ad,"\\succ ","&#8827;");M.preceq=f(ad,"\\preceq ","&#8828;");M.succeq=f(ad,"\\succeq ","&#8829;");M.simeq=f(ad,"\\simeq ","&#8771;");M.mid=f(ad,"\\mid ","&#8739;");M.ll=f(ad,"\\ll ","&#8810;");M.gg=f(ad,"\\gg ","&#8811;");M.parallel=f(ad,"\\parallel ","&#8741;");M.nparallel=f(ad,"\\nparallel ","&#8742;");M.bowtie=f(ad,"\\bowtie ","&#8904;");M.sqsubset=f(ad,"\\sqsubset ","&#8847;");M.sqsupset=f(ad,"\\sqsupset ","&#8848;");
M.smile=f(ad,"\\smile ","&#8995;");M.sqsubseteq=f(ad,"\\sqsubseteq ","&#8849;");M.sqsupseteq=f(ad,"\\sqsupseteq ","&#8850;");M.doteq=f(ad,"\\doteq ","&#8784;");M.frown=f(ad,"\\frown ","&#8994;");M.vdash=f(ad,"\\vdash ","&#8870;");M.dashv=f(ad,"\\dashv ","&#8867;");M.longleftarrow=f(ad,"\\longleftarrow ","&#8592;");M.longrightarrow=f(ad,"\\longrightarrow ","&#8594;");M.Longleftarrow=f(ad,"\\Longleftarrow ","&#8656;");M.Longrightarrow=f(ad,"\\Longrightarrow ","&#8658;");M.longleftrightarrow=f(ad,"\\longleftrightarrow ","&#8596;");M.updownarrow=f(ad,"\\updownarrow ","&#8597;");M.Longleftrightarrow=f(ad,"\\Longleftrightarrow ","&#8660;");M.Updownarrow=f(ad,"\\Updownarrow ","&#8661;");M.mapsto=f(ad,"\\mapsto ","&#8614;");M.nearrow=f(ad,"\\nearrow ","&#8599;");M.hookleftarrow=f(ad,"\\hookleftarrow ","&#8617;");M.hookrightarrow=f(ad,"\\hookrightarrow ","&#8618;");M.searrow=f(ad,"\\searrow ","&#8600;");M.leftharpoonup=f(ad,"\\leftharpoonup ","&#8636;");M.rightharpoonup=f(ad,"\\rightharpoonup ","&#8640;");
M.swarrow=f(ad,"\\swarrow ","&#8601;");M.leftharpoondown=f(ad,"\\leftharpoondown ","&#8637;");M.rightharpoondown=f(ad,"\\rightharpoondown ","&#8641;");M.nwarrow=f(ad,"\\nwarrow ","&#8598;");M.rightleftarrows=f(ad,"\\rightleftarrows ","&#8644;");M.ldots=f(ad,"\\ldots ","&#8230;");M.cdots=f(ad,"\\cdots ","&#8943;");M.vdots=f(ad,"\\vdots ","&#8942;");M.ddots=f(ad,"\\ddots ","&#8944;");M.surd=f(ad,"\\surd ","&#8730;");M.triangle=f(ad,"\\triangle ","&#9653;");M.ell=f(ad,"\\ell ","&#8467;");M.top=f(ad,"\\top ","&#8868;");M.flat=f(ad,"\\flat ","&#9837;");M.natural=f(ad,"\\natural ","&#9838;");M.sharp=f(ad,"\\sharp ","&#9839;");M.wp=f(ad,"\\wp ","&#8472;");M.bot=f(ad,"\\bot ","&#8869;");M.clubsuit=f(ad,"\\clubsuit ","&#9827;");M.diamondsuit=f(ad,"\\diamondsuit ","&#9826;");M.heartsuit=f(ad,"\\heartsuit ","&#9825;");M.spadesuit=f(ad,"\\spadesuit ","&#9824;");M.oint=f(ad,"\\oint ","&#8750;");M.bigcap=f(ad,"\\bigcap ","&#8745;");M.bigcup=f(ad,"\\bigcup ","&#8746;");M.bigsqcup=f(ad,"\\bigsqcup ","&#8852;");
M.bigvee=f(ad,"\\bigvee ","&#8744;");M.bigwedge=f(ad,"\\bigwedge ","&#8743;");M.bigodot=f(ad,"\\bigodot ","&#8857;");M.bigotimes=f(ad,"\\bigotimes ","&#8855;");M.bigoplus=f(ad,"\\bigoplus ","&#8853;");M.biguplus=f(ad,"\\biguplus ","&#8846;");M.lfloor=f(ad,"\\lfloor ","&#8970;");M.rfloor=f(ad,"\\rfloor ","&#8971;");M.lceil=f(ad,"\\lceil ","&#8968;");M.rceil=f(ad,"\\rceil ","&#8969;");M.slash=f(ad,"\\slash ","&#47;");M.opencurlybrace=f(ad,"\\opencurlybrace ","&#123;");M.closecurlybrace=f(ad,"\\closecurlybrace ","&#125;");M.caret=f(ad,"\\caret ","^");M.underscore=f(ad,"\\underscore ","_");M.backslash=f(ad,"\\backslash ","\\");M.vert=f(ad,"|");M.perp=M.perpendicular=f(ad,"\\perp ","&perp;");M.nabla=M.del=f(ad,"\\nabla ","&nabla;");M.hbar=f(ad,"\\hbar ","&#8463;");M.AA=M.Angstrom=M.angstrom=f(ad,"\\text\\AA ","&#8491;");M.ring=M.circ=M.circle=f(ad,"\\circ ","&#8728;");M.bull=M.bullet=f(ad,"\\bullet ","&bull;");M.setminus=M.smallsetminus=f(ad,"\\setminus ","&#8726;");M.not=M[""]=M.neg=f(ad,"\\neg ","&not;");
M[""]=M.dots=M.ellip=M.hellip=M.ellipsis=M.hellipsis=f(ad,"\\dots ","&hellip;");M.converges=M.darr=M.dnarr=M.dnarrow=M.downarrow=f(ad,"\\downarrow ","&darr;");M.dArr=M.dnArr=M.dnArrow=M.Downarrow=f(ad,"\\Downarrow ","&dArr;");M.diverges=M.uarr=M.uparrow=f(ad,"\\uparrow ","&uarr;");M.uArr=M.Uparrow=f(ad,"\\Uparrow ","&uArr;");M.to=f(al,"\\to ","&rarr;");M.rarr=M.rightarrow=f(ad,"\\rightarrow ","&rarr;");M.implies=f(al,"\\Rightarrow ","&rArr;");M.rArr=M.Rightarrow=f(ad,"\\Rightarrow ","&rArr;");M.gets=f(al,"\\gets ","&larr;");M.larr=M.leftarrow=f(ad,"\\leftarrow ","&larr;");M.impliedby=f(al,"\\Leftarrow ","&lArr;");M.lArr=M.Leftarrow=f(ad,"\\Leftarrow ","&lArr;");M.harr=M.lrarr=M.leftrightarrow=f(ad,"\\leftrightarrow ","&harr;");M.iff=f(al,"\\Leftrightarrow ","&hArr;");M.hArr=M.lrArr=M.Leftrightarrow=f(ad,"\\Leftrightarrow ","&hArr;");M.Re=M.Real=M.real=f(ad,"\\Re ","&real;");M.Im=M.imag=M.image=M.imagin=M.imaginary=M.Imaginary=f(ad,"\\Im ","&image;");M.part=M.partial=f(ad,"\\partial ","&part;");
M.inf=M.infin=M.infty=M.infinity=f(ad,"\\infty ","&infin;");M.alef=M.alefsym=M.aleph=M.alephsym=f(ad,"\\aleph ","&alefsym;");M.xist=M.xists=M.exist=M.exists=f(ad,"\\exists ","&exist;");M.nexists=f(ad,"\\nexists","&#8708;");M.and=M.land=M.wedge=f(ad,"\\wedge ","&and;");M.or=M.lor=M.vee=f(ad,"\\vee ","&or;");M.empty=M.emptyset=M.oslash=M.Oslash=M.nothing=M.varnothing=f(al,"\\varnothing ","&empty;");M.cup=M.union=f(al,"\\cup ","&cup;");M.cap=M.intersect=M.intersection=f(al,"\\cap ","&cap;");M.deg=M.degree=f(ad,"^\\circ ","&deg;");M.ang=M.angle=f(ad,"\\angle ","&ang;");M.mang=M.measuredangle=f(ad,"\\measuredangle ","&#8737;");var W=j(Z,function(P,ar){P.init=function(at){ar.init.call(this,"\\"+at+" ","<span>"+at+"</span>")};P.respace=function(){this.jQ[0].className=(this.next instanceof ao||this.next instanceof D)?"":"non-italicized-function"}});M.ln=M.lg=M.log=M.span=M.proj=M.det=M.dim=M.min=M.max=M.mod=M.lcm=M.gcd=M.gcf=M.hcf=M.lim=W;(function(){var ar=["sin","cos","tan","sec","cosec","csc","cotan","cot"];
for(var P in ar){M[ar[P]]=M[ar[P]+"h"]=M["a"+ar[P]]=M["arc"+ar[P]]=M["a"+ar[P]+"h"]=M["arc"+ar[P]+"h"]=W}}());var V=(function(){function aG(aJ){var aK=y();aJ.adopt(aK,0,0);return aK}function az(aL){var aK=aL[0]||y();for(var aJ=1;aJ<aL.length;aJ+=1){aL[aJ].children().adopt(aK,aK.lastChild,0)}return aK}var P=d.string;var au=d.regex;var aI=d.letter;var aA=d.any;var aF=d.optWhitespace;var aH=d.succeed;var ay=d.fail;var aB=aI.map(u);var aC=au(/^[^${}\\_^]/).map(ad);var ar=au(/^[^\\]/).or(P("\\").then(au(/^[a-z]+/i).or(au(/^\s+/).result(" ")).or(aA))).then(function(aK){var aJ=M[aK];if(aJ){return aJ(aK).parser()}else{return ay("unknown command: \\"+aK)}});var av=ar.or(aB).or(aC);var ax=P("{").then(function(){return aE}).skip(P("}"));var aw=aF.then(ax.or(av.map(aG)));var aE=aw.many().map(az).skip(aF);var aD=P("[").then(aw.then(function(aJ){return aJ.join("latex")!=="]"?aH(aJ):ay()}).many().map(az).skip(aF)).skip(P("]"));var at=aE;at.block=aw;at.optBlock=aD;return at})();var L=j(function(ar){ar.init=function(av){this.parent=this.root=av;
var aw=this.jQ=this._jQ=S('<span class="cursor">&zwj;</span>');this.blink=function(){aw.toggleClass("blink")};this.upDownCache={}};ar.prev=0;ar.next=0;ar.parent=0;ar.show=function(){this.jQ=this._jQ.removeClass("blink");if("intervalId" in this){clearInterval(this.intervalId)}else{if(this.next){if(this.selection&&this.selection.first.prev===this.prev){this.jQ.insertBefore(this.selection.jQ)}else{this.jQ.insertBefore(this.next.jQ.first())}}else{this.jQ.appendTo(this.parent.jQ)}this.parent.focus()}this.intervalId=setInterval(this.blink,500);return this};ar.hide=function(){if("intervalId" in this){clearInterval(this.intervalId)}delete this.intervalId;this.jQ.detach();this.jQ=S();return this};ar.insertAt=function(aw,ax,av){var ay=this.parent;this.parent=aw;this.prev=ax;this.next=av;ay.blur()};ar.insertBefore=function(av){this.insertAt(av.parent,av.prev,av);this.parent.jQ.addClass("hasCursor");this.jQ.insertBefore(av.jQ.first());return this};ar.insertAfter=function(av){this.insertAt(av.parent,av,av.next);
this.parent.jQ.addClass("hasCursor");this.jQ.insertAfter(av.jQ.last());return this};ar.prependTo=function(av){this.insertAt(av,0,av.firstChild);if(av.textarea){this.jQ.insertAfter(av.textarea)}else{this.jQ.prependTo(av.jQ)}av.focus();return this};ar.appendTo=function(av){this.insertAt(av,av.lastChild,0);this.jQ.appendTo(av.jQ);av.focus();return this};ar.hopLeft=function(){this.jQ.insertBefore(this.prev.jQ.first());this.next=this.prev;this.prev=this.prev.prev;return this};ar.hopRight=function(){this.jQ.insertAfter(this.next.jQ.last());this.prev=this.next;this.next=this.next.next;return this};ar.moveLeftWithin=function(av){if(this.prev){if(this.prev.lastChild){this.appendTo(this.prev.lastChild)}else{this.hopLeft()}}else{if(this.parent===av){return}if(this.parent.prev){this.appendTo(this.parent.prev)}else{this.insertBefore(this.parent.parent)}}};ar.moveRightWithin=function(av){if(this.next){if(this.next.firstChild){this.prependTo(this.next.firstChild)}else{this.hopRight()}}else{if(this.parent===av){return
}if(this.parent.next){this.prependTo(this.parent.next)}else{this.insertAfter(this.parent.parent)}}};ar.moveLeft=function(){at(this);if(this.selection){this.insertBefore(this.selection.first).clearSelection()}else{this.moveLeftWithin(this.root)}return this.show()};ar.moveRight=function(){at(this);if(this.selection){this.insertAfter(this.selection.last).clearSelection()}else{this.moveRightWithin(this.root)}return this.show()};ar.moveUp=function(){return P(this,"up")};ar.moveDown=function(){return P(this,"down")};function P(av,aw){if(av.next[aw]){av.prependTo(av.next[aw])}else{if(av.prev[aw]){av.appendTo(av.prev[aw])}else{var az=av.parent;do{var aA=az[aw];if(aA){if(typeof aA==="function"){aA=az[aw](av)}if(aA===false||aA instanceof y){av.upDownCache[az.id]={parent:av.parent,prev:av.prev,next:av.next};if(aA instanceof y){var ay=av.upDownCache[aA.id];if(ay){if(ay.next){av.insertBefore(ay.next)}else{av.appendTo(ay.parent)}}else{var ax=au(av).left;av.appendTo(aA);av.seekHoriz(ax,aA)}}break}}az=az.parent.parent
}while(az)}}return av.clearSelection().show()}ar.seek=function(ay,aw,av){at(this);var ax,aA,az=this.clearSelection().show();if(ay.hasClass("empty")){az.prependTo(G[ay.attr(l)]);return az}ax=G[ay.attr(H)];if(ax instanceof Z){if(ay.outerWidth()>2*(aw-ay.offset().left)){az.insertBefore(ax)}else{az.insertAfter(ax)}return az}if(!ax){aA=G[ay.attr(l)];if(!aA){ay=ay.parent();ax=G[ay.attr(H)];if(!ax){aA=G[ay.attr(l)];if(!aA){aA=az.root}}}}if(ax){az.insertAfter(ax)}else{az.appendTo(aA)}return az.seekHoriz(aw,az.root)};ar.seekHoriz=function(aw,az){var ay=this;var ax=au(ay).left-aw;var av;do{ay.moveLeftWithin(az);av=ax;ax=au(ay).left-aw}while(ax>0&&(ay.prev||ay.parent!==az));if(-ax>av){ay.moveRightWithin(az)}return ay};function au(av){var aw=av.jQ.removeClass("cursor").offset();av.jQ.addClass("cursor");return aw}ar.writeLatex=function(ay){var aw=this;at(aw);aw.show().deleteSelection();var ax=d.all;var av=d.eof;var az=V.skip(av).or(ax.result(false)).parse(ay);if(az){az.children().adopt(aw.parent,aw.prev,aw.next);
G.jQize(az.join("html")).insertBefore(aw.jQ);aw.prev=az.lastChild;az.finalizeInsert();aw.parent.bubble("redraw")}return this.hide()};ar.write=function(av){at(this);return this.show().insertCh(av)};ar.insertCh=function(av){var aw;if(av.match(/^[a-eg-zA-Z]$/)){aw=u(av)}else{if(aw=A[av]||M[av]){aw=aw(av)}else{aw=ad(av)}}if(this.selection){this.prev=this.selection.first.prev;this.next=this.selection.last.next;aw.replaces(this.selection);delete this.selection}return this.insertNew(aw)};ar.insertNew=function(av){av.createBefore(this);return this};ar.insertCmd=function(av,ax){var aw=M[av];if(aw){aw=aw(av);if(ax){aw.replaces(ax)}this.insertNew(aw)}else{aw=ae();aw.replaces(av);aw.firstChild.focus=function(){delete this.focus;return this};this.insertNew(aw).insertAfter(aw);if(ax){ax.remove()}}return this};ar.unwrapGramp=function(){var aw=this.parent.parent;var av=aw.parent;var ax=aw.next;var az=this;var ay=aw.prev;aw.disown().eachChild(function(aA){if(aA.isEmpty()){return}aA.children().adopt(av,ay,ax).each(function(aB){aB.jQ.insertBefore(aw.jQ.first())
});ay=aA.lastChild});if(!this.next){if(this.prev){this.next=this.prev.next}else{while(!this.next){this.parent=this.parent.next;if(this.parent){this.next=this.parent.firstChild}else{this.next=aw.next;this.parent=av;break}}}}if(this.next){this.insertBefore(this.next)}else{this.appendTo(av)}aw.jQ.remove();if(aw.prev){aw.prev.respace()}if(aw.next){aw.next.respace()}};ar.backspace=function(){at(this);this.show();if(this.deleteSelection()){}else{if(this.prev){if(this.prev.isEmpty()){this.prev=this.prev.remove().prev}else{this.selectLeft()}}else{if(this.parent!==this.root){if(this.parent.parent.isEmpty()){return this.insertAfter(this.parent.parent).backspace()}else{this.unwrapGramp()}}}}if(this.prev){this.prev.respace()}if(this.next){this.next.respace()}this.parent.bubble("redraw");return this};ar.deleteForward=function(){at(this);this.show();if(this.deleteSelection()){}else{if(this.next){if(this.next.isEmpty()){this.next=this.next.remove().next}else{this.selectRight()}}else{if(this.parent!==this.root){if(this.parent.parent.isEmpty()){return this.insertBefore(this.parent.parent).deleteForward()
}else{this.unwrapGramp()}}}}if(this.prev){this.prev.respace()}if(this.next){this.next.respace()}this.parent.bubble("redraw");return this};ar.selectFrom=function(az){var aD=this,ax=az;loopThroughAncestors:while(true){for(var aA=this;aA!==aD.parent.parent;aA=aA.parent.parent){if(aA.parent===ax.parent){aw=aA;aB=ax;break loopThroughAncestors}}for(var aC=az;aC!==ax.parent.parent;aC=aC.parent.parent){if(aD.parent===aC.parent){aw=aD;aB=aC;break loopThroughAncestors}}if(aD.parent.parent){aD=aD.parent.parent}if(ax.parent.parent){ax=ax.parent.parent}}var aw,aB,av;if(aw.next!==aB){for(var ay=aw;ay;ay=ay.next){if(ay===aB.prev){av=true;break}}if(!av){av=aB;aB=aw;aw=av}}this.hide().selection=U(aw.prev.next||aw.parent.firstChild,aB.next.prev||aB.parent.lastChild);this.insertAfter(aB.next.prev||aB.parent.lastChild);this.root.selectionChanged()};ar.selectLeft=function(){at(this);if(this.selection){if(this.selection.first===this.next){if(this.prev){this.hopLeft().selection.extendLeft()}else{if(this.parent!==this.root){this.insertBefore(this.parent.parent).selection.levelUp()
}}}else{this.hopLeft();if(this.selection.first===this.selection.last){this.clearSelection().show();return}this.selection.retractLeft()}}else{if(this.prev){this.hopLeft()}else{if(this.parent!==this.root){this.insertBefore(this.parent.parent)}else{return}}this.hide().selection=U(this.next)}this.root.selectionChanged()};ar.selectRight=function(){at(this);if(this.selection){if(this.selection.last===this.prev){if(this.next){this.hopRight().selection.extendRight()}else{if(this.parent!==this.root){this.insertAfter(this.parent.parent).selection.levelUp()}}}else{this.hopRight();if(this.selection.first===this.selection.last){this.clearSelection().show();return}this.selection.retractRight()}}else{if(this.next){this.hopRight()}else{if(this.parent!==this.root){this.insertAfter(this.parent.parent)}else{return}}this.hide().selection=U(this.prev)}this.root.selectionChanged()};function at(av){av.upDownCache={}}ar.prepareMove=function(){at(this);return this.show().clearSelection()};ar.prepareEdit=function(){at(this);
return this.show().deleteSelection()};ar.clearSelection=function(){if(this.selection){this.selection.clear();delete this.selection;this.root.selectionChanged()}return this};ar.deleteSelection=function(){if(!this.selection){return false}this.prev=this.selection.first.prev;this.next=this.selection.last.next;this.selection.remove();this.root.selectionChanged();return delete this.selection}});var U=j(ab,function(P,ar){P.init=function(){var at=this;ar.init.apply(at,arguments);at.jQwrap(at.jQ)};P.jQwrap=function(at){this.jQ=at.wrapAll('<span class="selection"></span>').parent()};P.adopt=function(){this.jQ.replaceWith(this.jQ=this.jQ.children());return ar.adopt.apply(this,arguments)};P.clear=function(){this.jQ.replaceWith(this.jQ.children());return this};P.levelUp=function(){var au=this,at=au.first=au.last=au.last.parent.parent;au.clear().jQwrap(at.jQ);return au};P.extendLeft=function(){this.first=this.first.prev;this.first.jQ.prependTo(this.jQ)};P.extendRight=function(){this.last=this.last.next;
this.last.jQ.appendTo(this.jQ)};P.retractRight=function(){this.first.jQ.insertBefore(this.jQ);this.first=this.first.next};P.retractLeft=function(){this.last.jQ.insertAfter(this.jQ);this.last=this.last.prev}});S.fn.mathquill=function(aw,av){switch(aw){case"redraw":return this.each(function(){var az=S(this).attr(l),aA=az&&G[az];if(aA){(function ay(aB){aB.eachChild(ay);if(aB.redraw){aB.redraw()}}(aA))}});case"revert":return this.each(function(){var ay=S(this).attr(l),az=ay&&G[ay];if(az&&az.revert){az.revert()}});case"latex":if(arguments.length>1){return this.each(function(){var ay=S(this).attr(l),az=ay&&G[ay];if(az){az.renderLatex(av)}})}var ar=S(this).attr(l),ax=ar&&G[ar];return ax&&ax.latex();case"text":var ar=S(this).attr(l),ax=ar&&G[ar];return ax&&ax.text();case"html":return this.html().replace(/ ?hasCursor|hasCursor /,"").replace(/ class=(""|(?= |>))/g,"").replace(/<span class="?cursor( blink)?"?><\/span>/i,"").replace(/<span class="?textarea"?><textarea><\/textarea><\/span>/i,"");case"write":if(arguments.length>1){return this.each(function(){var ay=S(this).attr(l),aA=ay&&G[ay],az=aA&&aA.cursor;
if(az){az.writeLatex(av).parent.blur()}})}case"cmd":if(arguments.length>1){return this.each(function(){var ay=S(this).attr(l),aB=ay&&G[ay],aA=aB&&aB.cursor;if(aA){aA.show();if(/^\\[a-z]+$/i.test(av)){var az=aA.selection;if(az){aA.prev=az.first.prev;aA.next=az.last.next;delete aA.selection}aA.insertCmd(av.slice(1),az)}else{aA.insertCh(av)}aA.hide().parent.blur()}})}default:var P=aw==="textbox",at=P||aw==="editable",au=P?X:o;return this.each(function(){ah(S(this),au(),P,at)})}};S(function(){S(".mathquill-editable:not(.mathquill-rendered-math)").mathquill("editable");S(".mathquill-textbox:not(.mathquill-rendered-math)").mathquill("textbox");S(".mathquill-embedded-latex").mathquill()})}());Drupal.behaviors.sTinymceMathquill=function(b){$(".s-formula-editable:not(.sTinymceMathquill-processed)",b).addClass("sTinymceMathquill-processed").each(function(){sMathquill.initMathquill(this)});var a=Popups.activePopup();if(!a||!$("#"+a.id).hasClass("tinymce-mathquill-formula-popup")){return}var d=false;
$(".submit-btn",b).click(function(j){j.preventDefault();var g=tinyMCE.activeEditor.execCommand("sContentGetRealmFromUrl");var h=sMathquill.save();if(h&&h.length&&!d){var f=Base64.encode(h);d=true;$.ajax({url:"/tinymceinsertlatex",type:"POST",dataType:"json",data:{save_formula:1,realm:g[0],realm_id:g[1],formula:h},success:function(m,e,n){d=false;if(m.error){alert(m.error)}else{var k=$(document).data("s_content_saved_formula_image");if(k){$(k).remove();tinyMCE.activeEditor.execCommand("sContentSaveLastNode")}$(document).data("s_content_saved_formula_image",null);Popups.close();var l='<img src="'+m.content_path+'" formula="'+f+'" class="mathquill-formula" />';tinyMCE.activeEditor.execCommand("sContentInsert",l,{use_native_insert:true})}}})}})};if(typeof sMathquill=="undefined"){sMathquill=(function(){var b={};b.editors=[];b.activeEditor=null;b.config={};b.menuItemList={};_newMarkup=function(d){return{type:"markup",html:d.html}};_newCommandButton=function(d){var e=typeof d.cmd=="object"?d.cmd.join(""):d.cmd;
return{type:"button",extraClass:"s-mq-btn s-mq-icon",label:e,tooltip:e.replace("\\",""),fn:function(f){f.event.preventDefault();if(typeof d.cmd=="object"){$.each(d.cmd,function(g,h){f.editor.mathquill("cmd",h)})}else{f.editor.mathquill("cmd",d.cmd)}f.editor.trigger("focus")}}};_newTextButton=function(d){return{type:"button",extraClass:"s-mq-btn s-mq-icon",label:d.text,tooltip:d.text,fn:function(e){e.event.preventDefault();e.editor.mathquill("write",d.text);e.editor.trigger("focus")}}};_newMenuToggleButton=function(d){var e="s-mq-"+d.key.replace(/_/g,"-").toLowerCase();return{type:"button",extraClass:"s-mq-btn s-mq-menu-toggle",label:d.label,tooltip:d.label,fn:function(g){var j=g.event,f=g.editor;j.preventDefault();var k=$(this);if(k.hasClass("active")){k.removeClass("active");f.siblings(".s-mq-submenu."+e).addClass("hidden")}else{k.addClass("active").siblings(".s-mq-menu-toggle").removeClass("active");var h=f.siblings(".s-mq-submenu");h.not("."+e).addClass("hidden");h.filter("."+e).removeClass("hidden")
}b.resize();f.trigger("focus")}}};_newDefaultButton=function(d){var e={type:"button",label:d.label,extraClass:"s-mq-btn"};if(typeof d.fn=="function"){e.fn=d.fn}return e};b.initMathquill=function(e,g){var d=null;if(typeof g=="undefined"){var g={}}var h={editable:true,autoHeight:false};g=$.extend(h,g);var f=$(e);if(g.editable){f.index=b.editors.length;f.menuBars=[];f.hooks={};f.opts=g;_execAllHooks("onBeforeEditorCreate",[f]);f.mathquill("editable");f.initialHeight=f.innerHeight();b.activeEditor=f;f.find("textarea").bind("focus",function(){b.activeEditor=f});if(typeof b.config.menu_bars!="undefined"){$.each(b.config.menu_bars,function(k,j){j.name=k;b.addMenuBar(j)});this.resize()}b.editors.push(f);_execAllHooks("onEditorCreate",[f])}else{f.mathquill()}return f};b.addMenuBar=function(g){var d=b.activeEditor,e=[];if(!d){return}if(typeof g=="undefined"){var g={}}var h={submenu:false,multiline:false};g=$.extend(h,g);if(typeof g.menu_items=="object"){g.menu_items=g.menu_items.join(",")}if(typeof g.menu_items=="string"){$.each(g.menu_items.split(","),function(j,k){if(new_item=b.getMenuItem(k)){e.push(new_item)
}})}var f=$("<div/>").addClass("s-mq-menu-bar");if(typeof g.name=="string"){f.addClass("s-mq-menu-"+g.name.replace(/_/g,"-").toLowerCase())}if(typeof g.submenu!="undefined"&&g.submenu){f.addClass("s-mq-submenu").addClass("hidden")}if(typeof g.multiline!="undefined"&&g.multiline){f.addClass("s-mq-menu-multiline")}if(e.length){$.each(e,function(k,l){var j=null;switch(l.type){case"button":j=b.addButtonToMenuBar(f,l);break;case"markup":f.append(l.html);break}if(!g.submenu&&j){j.addClass("s-mq-menu-item")}})}if(typeof g.extraClass=="string"){f.addClass(g.extraClass)}f.insertBefore(d);d.menuBars.push(f);return f};b.addButtonToMenuBar=function(e,h){var g=null,d=b.activeEditor;if(typeof e=="object"){if(e.hasClass("s-mq-menu-bar")){g=e}}else{if(typeof e=="number"){if(d&&typeof d.menuBars[e]=="object"){g=d.menuBars[e]}}}if(!g){return null}var j={label:"",extraClass:"",size:20,fn:function(){}};h=$.extend(j,h);var k=$("<span/>").bind("click",function(l){h.fn.apply(this,[{editor:d,event:l}])});btnLabel=$("<span/>").addClass("s-mq-label").appendTo(k);
if(h.label.length){btnLabel.text(h.label)}if(h.tooltip.length){k.attr("title",h.tooltip)}if(h.extraClass.length){k.addClass(h.extraClass)}k.addClass("s-mq-size"+h.size);if(k.hasClass("s-mq-embed")){var f=$("<span/>").text(btnLabel.text()).mathquill("editable").mathquill("html");btnLabel.html(f).addClass("mathquill-rendered-math")}else{btnLabel.html(btnLabel.text())}k.appendTo(g);if(typeof h.onAdd=="function"){h.onAdd.apply(b,[k])}return k};b.getMenuItem=function(e){var f=null,d=null;if(typeof this.menuItemList[e]=="undefined"){if(e.length){d={key:e,cmd:"\\"+e}}}else{d=this.menuItemList[e]}if(d){d.key=e;if(typeof d.html!="undefined"){f=_newMarkup(d)}else{if(typeof d.cmd!="undefined"){f=_newCommandButton(d)}else{if(typeof d.text=="string"){f=_newTextButton(d)}else{if(typeof d.menu_toggle!="undefined"){f=_newMenuToggleButton(d)}else{f=_newDefaultButton(d)}}}}if(typeof f=="object"&&f){if(typeof f.extraClass=="undefined"){f.extraClass=""}f.extraClass+=" s-mq-"+d.key.replace(/_/g,"-").toLowerCase();
if(typeof d.compile_label!="boolean"||d.compile_label){f.extraClass+=" s-mq-embed"}if(typeof d.extraClass=="string"){f.extraClass+=" "+d.extraClass}if(typeof d.tooltip!="undefined"){f.tooltip=d.tooltip}else{if(typeof f.tooltip=="undefined"){f.tooltip=typeof f.label!="undefined"?f.label:e}}if(typeof d.label!="undefined"){f.label=d.label}}}return f};b.resize=function(){var e=b.activeEditor;if(e&&typeof e.initialHeight!="undefined"&&typeof e.opts.autoHeight!="undefined"&&e.opts.autoHeight){var d=e.initialHeight;if(e.menuBars.length){$.each(e.menuBars,function(f,g){if(g.is(":visible")){d-=g.outerHeight()}});e.height(d)}}};b.exec=function(){var d;if(d=this.activeEditor){var e=Array.prototype.slice.call(arguments);return d.mathquill.apply(d,e)}return null};b.write=function(d){return b.exec("write",d)};b.cmd=function(d){return b.exec("cmd",d)};b.reset=function(){return b.exec("revert")};b.getLatex=function(){return b.exec("latex")};b.getHTML=function(){return b.exec("html")};b.save=function(){var d={latex:b.getLatex()};
_execAllHooks("onSave",[b.activeEditor,d]);return d.latex};var a={};_addHook=function(e,f,d){if(typeof a[e]=="undefined"){a[e]={}}if(typeof a[e][f]=="undefined"){a[e][f]=[d]}else{a[e][f].push(d)}};_execHooks=function(f,g,e){if(typeof a[f]=="undefined"){return}if(typeof a[f][g]=="undefined"){return}var d=a[f][g];if(typeof e=="undefined"){var e=[]}$.each(d,function(h,j){j.apply(b,e)})};_execGlobalHooks=function(e,d){_execHooks("global",e,d)};_execEditorHooks=function(f,e){var d=b.activeEditor;if(d){_execHooks("editor_"+d.index,f,e)}};_execAllHooks=function(e,d){$.each(a,function(g,f){_execHooks(g,e,d)})};b.addGlobalHook=function(e,d){_addHook("global",e,d)};b.addEditorHook=function(f,e){var d=b.activeEditor;if(d){_addHook("editor_"+d.index,f,e)}};return b})();sMathquill.config={menu_bars:{}};sMathquill.menuItemList={_line_break:{html:"<br/>"},_separator:{html:'<span class="s-mq-separator"></span>'}};(function(b){var a={main:{menu_items:["menu_operators,menu_relationships,menu_equations,menu_arrows,menu_misc,menu_greek"]},greek:{submenu:true,multiline:true,menu_items:["alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigma,tau,upsilon,phi,chi,psi,omega","digamma,varepsilon,varkappa,varphi,varpi,varrho,varsigma,vartheta","Gamma,Delta,Theta,Lambda,Xi,Pi,Sigma,Upsilon,Phi,Psi,Omega"]},operators:{submenu:true,multiline:true,menu_items:["equal,plus,minus,ast,cdot,times,div,pm,mp,therefore,because","bigcirc,diamond,amalg,odot,ominus,oplus,otimes,wr","union,intersect,uplus,sqcap,sqcup,wedge,vee,dagger,ddagger","lhd,rhd,bigtriangledown,bigtriangleup"]},relationships:{submenu:true,multiline:true,menu_items:["equiv,cong,neq,sim,simeq,approx,napprox,doteq,models","leq,prec,preceq,lt,ll,subset,subseteq,nsubset,nsubseteq,sqsubset,sqsubseteq,dashv,in,notin","geq,succ,succeq,gt,gg,supset,supseteq,nsupset,nsupseteq,sqsupset,sqsupseteq,vdash,ni,notni","mid,parallel,nparallel,perp,bowtie,smile,frown,propto,exists,nexists,varnothing"]},equations:{submenu:true,multiline:true,menu_items:["frac,fprime,sqrt,nthroot,supscript,subscript,curly_braces,angle_brackets,lfloor,rfloor,lceil,rceil,slash","sum,prod,coprod,limit,int,oint,binomial,vector,prime"]},arrows:{submenu:true,multiline:true,menu_items:["leftarrow,Leftarrow,rightarrow,Rightarrow,leftrightarrow,Leftrightarrow","longleftarrow,Longleftarrow,longrightarrow,Longrightarrow,longleftrightarrow,Longleftrightarrow","rightleftarrows,uparrow,Uparrow,downarrow,Downarrow,updownarrow,Updownarrow","mapsto,hookleftarrow,leftharpoonup,leftharpoondown,hookrightarrow,rightharpoonup,rightharpoondown","nearrow,searrow,swarrow,nwarrow"]},misc:{submenu:true,multiline:true,menu_items:["infty,nabla,partial,clubsuit,diamondsuit,heartsuit,spadesuit,cdots,vdots,ldots,ddots,imaginary,real","forall,reals,complex,naturals,rationals,integers,ell,sharp,flat,natural,hbar,surd,wp","angle,measuredangle,overline,overrightarrow,overleftrightarrow,triangle,top,bot,caret,underscore,backslash,vert,AA","circ,bullet,setminus,neg,dots,aleph,deg"]}};
var d={menu_greek:{menu_toggle:true,label:"\\alpha \\pi \\Delta",tooltip:Drupal.t("Greek"),extraClass:"s-mq-embed"},menu_operators:{menu_toggle:true,label:"\\pm\\times=",tooltip:Drupal.t("Operators"),extraClass:"s-mq-embed"},menu_relationships:{menu_toggle:true,label:"\\leq\\ne\\in",tooltip:Drupal.t("Relationships"),extraClass:"s-mq-embed"},menu_equations:{menu_toggle:true,compile_label:false,label:'<var class="florin"></var><span>\'</span><span class="non-leaf">{ }</span><span class="non-leaf"><span class="scaled sqrt-prefix"></span><span class="non-leaf sqrt-stem"><var>x</var></span></span>',tooltip:Drupal.t("Equations"),extraClass:"mathquill-rendered-math"},menu_arrows:{menu_toggle:true,label:"\\Leftarrow\\updownarrow\\Rightarrow",tooltip:Drupal.t("Arrows"),extraClass:"s-mq-embed"},menu_misc:{menu_toggle:true,label:"\\infty\\angle\\partial",tooltip:Drupal.t("Miscellaneous"),extraClass:"s-mq-embed"},limit:{cmd:["\\lim","_"]},abs:{cmd:"|"},plus:{cmd:"+"},minus:{cmd:"-"},equal:{cmd:"="},omicron:{text:"o",compile_label:false},frac:{cmd:"\\frac",label:"\\frac{x}{y}"},limit:{cmd:["\\lim","_"],label:"\\lim",tooltip:Drupal.t("lim")},fprime:{cmd:["f","'"]},sqrt:{cmd:"\\sqrt",compile_label:false,label:'<span class="non-leaf"><span class="scaled sqrt-prefix"></span><span class="non-leaf sqrt-stem"><var>x</var></span></span>',extraClass:"mathquill-rendered-math"},nthroot:{cmd:"\\nthroot",compile_label:false,label:'<sup class="nthroot non-leaf"><var>x</var></sup><span class="scaled"><span class="sqrt-prefix scaled"></span><span class="sqrt-stem non-leaf"><var>y</var></span></span>',extraClass:"mathquill-rendered-math"},subscript:{cmd:"_",label:"x_y",tooltip:Drupal.t("subscript")},supscript:{cmd:"^",label:"x^y",tooltip:Drupal.t("superscript")},curly_braces:{cmd:"{",label:"{ }",tooltip:"{ }",compile_label:false,extraClass:"mathquill-rendered-math"},angle_brackets:{cmd:"\\langle",label:" ",compile_label:false,extraClass:"mathquill-rendered-math"},binomial:{cmd:"\\binomial",compile_label:false,label:'(<span class="non-leaf"><span class="array non-leaf"><span class="s-mq-var">x</span><span class="s-mq-var">y</span></span></span>)',extraClass:"mathquill-rendered-math"},vector:{cmd:"\\vector",label:"\\vector{a} \\vector{b}{c}"},overline:{cmd:"\\overline",label:"\\overline{AB}"},overrightarrow:{cmd:"\\overrightarrow",label:"\\overrightarrow{AB}"},overleftrightarrow:{cmd:"\\overleftrightarrow",label:"\\overleftrightarrow{AB}"}};
b.config.menu_bars=$.extend(b.config.menu_bars,a);b.menuItemList=$.extend(b.menuItemList,d);b.addGlobalHook("onEditorCreate",function(e){var f=e.siblings(".s-mq-menu-main");f.children(".s-mq-menu-toggle").each(function(){var g=$(this);g.tipsy({gravity:"s",title:function(){return g.attr("original-title")}})})})}(sMathquill));(function(e){var b=5;var d=[{cmd:"\\tiny",font_size:"10px"},{cmd:"\\scriptsize",font_size:"11px"},{cmd:"\\footnotesize",font_size:"12px"},{cmd:"\\small",font_size:"14px"},{font_size:"16px"},{cmd:"\\large",font_size:"18px"},{cmd:"\\Large",font_size:"24px"},{cmd:"\\LARGE",font_size:"28px"},{cmd:"\\huge",font_size:"34px"},{cmd:"\\Huge",font_size:"40px"}];var a={};$.each(d,function(g,h){if(typeof h.cmd!="undefined"){a[h.cmd.substr(1)]=g}});var f=[];_getEditorFontSize=function(g){var h=null;if(g&&typeof g.index!="undefined"){h=f[g.index]}return h};_setEditorFontSize=function(g,h){if(g&&typeof g.index!="undefined"&&typeof d[h]!="undefined"){f[g.index]=h}};_getSizeString=function(h){var g=h.match(/\\(tiny|scriptsize|small|normalsize|large|Large|LARGE|huge|Huge)/);
if(g&&typeof a[g[1]]!="undefined"){return g[1]}return null};e.updateFontSize=function(h){var g=e.activeEditor;if(!g){return null}if(typeof d[h]!="undefined"){_setEditorFontSize(g,h);g.css("font-size",d[_getEditorFontSize(g)].font_size)}return d[_getEditorFontSize(g)]};e.increaseFontSize=function(h){var g=e.activeEditor;if(!g){return null}return e.updateFontSize(_getEditorFontSize(g)+h)};e.addGlobalHook("onBeforeEditorCreate",function(h){var j=h.text();if(j.length){var g=_getSizeString(j);if(g){h.text(j.replace("\\"+g+" ",""));_setEditorFontSize(h,a[g])}}});e.addGlobalHook("onEditorCreate",function(g){if(!_getEditorFontSize(g)){_setEditorFontSize(g,b)}g.css("font-size",d[_getEditorFontSize(g)].font_size);var h=g.siblings(".s-mq-menu-main").children(".s-mq-font-size-down, .s-mq-font-size-up");h.tipsy({gravity:"s",title:function(){return $(this).attr("original-title")}})});e.addGlobalHook("onSave",function(k,j){var g=_getEditorFontSize(k);if(typeof g!="undefined"&&typeof d[g]!="undefined"){var h=d[g];
if(typeof h.cmd!="undefined"){j.latex=h.cmd+" "+j.latex}}});e.config.menu_bars.main.menu_items.push("font_size_down,font_size_up");e.menuItemList.font_size_down={label:"A-",tooltip:Drupal.t("Decrease Font Size"),compile_label:false,fn:function(){e.increaseFontSize(-1)}};e.menuItemList.font_size_up={label:"A+",tooltip:Drupal.t("Increase Font Size"),compile_label:false,fn:function(){e.increaseFontSize(1)}}}(sMathquill));(function(b){var a=Drupal.t("Select symbols or type in LaTeX code");b.addGlobalHook("onEditorCreate",function(e){var d=e.siblings(".s-mq-menu-main").children(".s-mq-help-tip");if(d.length){d.tipsy({gravity:"s",title:function(){return a}})}});b.config.menu_bars.main.menu_items.push("_help_cluetip");b.menuItemList._help_cluetip={html:'<span class="s-mq-help-tip"><span>?</span></span>'}}(sMathquill))}jQuery.extend({createUploadIframe:function(e,b){var a="jUploadFrame"+e;if(window.ActiveXObject){var d=document.createElement('<iframe id="'+a+'" name="'+a+'" />');if(typeof b=="boolean"){d.src="javascript:false"
}else{if(typeof b=="string"){d.src=b}}}else{var d=document.createElement("iframe");d.id=a;d.name=a}d.style.position="absolute";d.style.top="-1000px";d.style.left="-1000px";document.body.appendChild(d);return d},createUploadForm:function(a,m,k){var l="jUploadForm"+a;var e="jUploadFile"+a;var b=$('<form  action="" method="POST" name="'+l+'" id="'+l+'" enctype="multipart/form-data"></form>');var h=$("#"+m);var j=$(h).clone();$(h).attr("id",e);$(h).before(j);$(h).appendTo(b);var f;for(var g in k){f=$('<input type="hidden" />');f.attr("id",g);f.attr("name",g);f.val(k[g]);f.appendTo(b)}$(b).css("position","absolute");$(b).css("top","-1200px");$(b).css("left","-1200px");$(b).appendTo("body");return b},ajaxFileUpload:function(m){m=jQuery.extend({},jQuery.ajaxSettings,m);var a=new Date().getTime();var b=jQuery.createUploadForm(a,m.fileElementId,m.data);var k=jQuery.createUploadIframe(a,m.secureuri);var j="jUploadFrame"+a;var l="jUploadForm"+a;if(m.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")
}var d=false;var g={};if(m.global){jQuery.event.trigger("ajaxSend",[g,m])}var f=function(n){var r=document.getElementById(j);try{if(r.contentWindow){g.responseText=r.contentWindow.document.body?r.contentWindow.document.body.innerHTML:null;g.responseXML=r.contentWindow.document.XMLDocument?r.contentWindow.document.XMLDocument:r.contentWindow.document}else{if(r.contentDocument){g.responseText=r.contentDocument.document.body?r.contentDocument.document.body.innerHTML:null;g.responseXML=r.contentDocument.document.XMLDocument?r.contentDocument.document.XMLDocument:r.contentDocument.document}}}catch(q){jQuery.handleError(m,g,null,q)}if(g||n=="timeout"){d=true;var o;try{o=n!="timeout"?"success":"error";if(o!="error"){var p=jQuery.uploadHttpData(g,m.dataType);if(m.success){m.success(p,o)}if(m.global){jQuery.event.trigger("ajaxSuccess",[g,m])}}else{jQuery.handleError(m,g,o)}}catch(q){o="error";jQuery.handleError(m,g,o,q)}if(m.global){jQuery.event.trigger("ajaxComplete",[g,m])}if(m.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")
}if(m.complete){m.complete(g,o)}jQuery(r).unbind();setTimeout(function(){try{$(r).remove();$(b).remove()}catch(t){jQuery.handleError(m,g,null,t)}},100);g=null}};if(m.timeout>0){setTimeout(function(){if(!d){f("timeout")}},m.timeout)}try{var b=$("#"+l);$(b).attr("action",m.url);$(b).attr("method","POST");$(b).attr("target",j);if(b.encoding){b.encoding="multipart/form-data"}else{b.enctype="multipart/form-data"}$(b).submit()}catch(h){jQuery.handleError(m,g,null,h)}if(window.attachEvent){document.getElementById(j).attachEvent("onload",f)}else{document.getElementById(j).addEventListener("load",f,false)}return{abort:function(){}}},uploadHttpData:function(b,a){var d=!a;d=a=="xml"||d?b.responseXML:b.responseText;if(a=="script"){jQuery.globalEval(d)}if(a=="json"){d=jQuery._afuParseJSON(d)}if(a=="html"){jQuery("<div>").html(d).evalScripts()}return d},_afuParseJSON:function(e){e=String(e);if(e==""){return""}var b=e.match(/\[acup-open\](.+)\[acup-close\]/);var a=$.parseJSON(b[1]);return a}});var s_ajaxFileUpload=function(){this.uploadFormAjax=function(k,b){if(typeof k=="undefined"){k={}
}var j=($("#edit-save-documents:checked").val()!==null)?"1":"0";var h=$("#edit-encode-video:checked");var g=(h.length==0||h.is(":checked"))?"1":"0";$.extend(k,{saveDocument:j,encodeVideo:g});var f=String(window.location.pathname).split("/");switch(f){default:k.upload_realm=f[1];k.upload_realmId=f[2];break}var a={};var e={url:"/s_ajaxfileupload",secureuri:false,fileElementId:"edit-upload-file",data:k,dataType:"json",success:function(m,d){if(m.status!=0){alert(Drupal.t("There was an internal error. Please try again in a few moments."));return}var l=m.message.replace(/\\/g,"");sAfu.onUpload(l)},error:function(l,d,m){alert(Drupal.t("There was an internal error. Please try again in a few moments."))}};$.extend(a,e,b);$.ajaxFileUpload(a)};this.onUpload=function(a){}};window.sAfu=new s_ajaxFileUpload();eval(function(h,b,j,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(j--){f[g(j)]=d[j]||g(j)}d=[function(a){return f[a]
}];g=function(){return"\\w+"};j=1}while(j--){if(d[j]){h=h.replace(new RegExp("\\b"+g(j)+"\\b","g"),d[j])}}return h}(";(5($){$.B.1s=5(u){2(!4.G){R('1b: 2M 9 2N - 2O 2P 1t');6 4}2(S u=='5')u={T:u};3 v=4.14('1c')||1d.2Q.2R;v=(v.2S(/^([^#]+)/)||[])[1];v=v||'';u=$.1n({1e:v,H:4.14('1u')||'1Q'},u||{});3 w={};4.L('C-1R-1S',[4,u,w]);2(w.1T){R('1b: 9 1U 1o C-1R-1S L');6 4}2(u.1v&&u.1v(4,u)===I){R('1b: 9 1f 1o 1v 1V');6 4}3 a=4.1w(u.2T);2(u.J){u.O=u.J;K(3 n 1x u.J){2(u.J[n]2U 15){K(3 k 1x u.J[n])a.D({7:n,8:u.J[n][k]})}E a.D({7:n,8:u.J[n]})}}2(u.1y&&u.1y(a,4,u)===I){R('1b: 9 1f 1o 1y 1V');6 4}4.L('C-9-1W',[a,4,u,w]);2(w.1T){R('1b: 9 1U 1o C-9-1W L');6 4}3 q=$.1z(a);2(u.H.2V()=='1Q'){u.1e+=(u.1e.2W('?')>=0?'&':'?')+q;u.J=F}E u.J=q;3 x=4,V=[];2(u.2X)V.D(5(){x.1X()});2(u.2Y)V.D(5(){x.1Y()});2(!u.16&&u.17){3 y=u.T||5(){};V.D(5(a){$(u.17).2Z(a).P(y,1Z)})}E 2(u.T)V.D(u.T);u.T=5(a,b){K(3 i=0,M=V.G;i<M;i++)V[i].30(u,[a,b,x])};3 z=$('W:31',4).18();3 A=I;K(3 j=0;j<z.G;j++)2(z[j])A=Q;2(u.20||A){2(u.21)$.32(u.21,1A);E 1A()}E $.33(u);4.L('C-9-34',[4,u]);6 4;5 1A(){3 h=x[0];2($(':W[7=9]',h).G){35('36: 37 22 38 39 3a 3b \"9\".');6}3 i=$.1n({},$.23,u);3 s=$.1n(Q,{},$.1n(Q,{},$.23),i);3 j='3c'+(1B 3d().3e());3 k=$('<20 3f=\"'+j+'\" 7=\"'+j+'\" 24=\"25:26\" />');3 l=k[0];k.3g({3h:'3i',27:'-28',29:'-28'});3 m={1f:0,19:F,1g:F,3j:0,3k:'n/a',3l:5(){},2a:5(){},3m:5(){},3n:5(){4.1f=1;k.14('24','25:26')}};3 g=i.2b;2(g&&!$.1C++)$.1h.L(\"3o\");2(g)$.1h.L(\"3p\",[m,i]);2(s.2c&&s.2c(m,s)===I){s.2b&&$.1C--;6}2(m.1f)6;3 o=0;3 p=0;3 q=h.U;2(q){3 n=q.7;2(n&&!q.1i){u.O=u.O||{};u.O[n]=q.8;2(q.H==\"X\"){u.O[7+'.x']=h.Y;u.O[7+'.y']=h.Z}}}1j(5(){3 t=x.14('17'),a=x.14('1c');h.1k('17',j);2(h.2d('1u')!='2e')h.1k('1u','2e');2(h.2d('1c')!=i.1e)h.1k('1c',i.1e);2(!u.3q){x.14({3r:'2f/C-J',3s:'2f/C-J'})}2(i.1D)1j(5(){p=Q;11()},i.1D);3 b=[];2g{2(u.O)K(3 n 1x u.O)b.D($('<W H=\"3t\" 7=\"'+n+'\" 8=\"'+u.O[n]+'\" />').2h(h)[0]);k.2h('1l');l.2i?l.2i('2j',11):l.3u('2k',11,I);h.9()}3v{h.1k('1c',a);t?h.1k('17',t):x.3w('17');$(b).2l()}},10);3 r=0;5 11(){2(o++)6;l.2m?l.2m('2j',11):l.3x('2k',11,I);3 c=Q;2g{2(p)3y'1D';3 d,N;N=l.2n?l.2n.2o:l.2p?l.2p:l.2o;2((N.1l==F||N.1l.2q=='')&&!r){r=1;o--;1j(11,2r);6}m.19=N.1l?N.1l.2q:F;m.1g=N.2s?N.2s:N;m.2a=5(a){3 b={'3z-H':i.16};6 b[a]};2(i.16=='3A'||i.16=='3B'){3 f=N.1E('1F')[0];m.19=f?f.8:m.19}E 2(i.16=='2t'&&!m.1g&&m.19!=F){m.1g=2u(m.19)}d=$.3C(m,i.16)}3D(e){c=I;$.3E(i,m,'2v',e)}2(c){i.T(d,'T');2(g)$.1h.L(\"3F\",[m,i])}2(g)$.1h.L(\"3G\",[m,i]);2(g&&!--$.1C)$.1h.L(\"3H\");2(i.2w)i.2w(m,c?'T':'2v');1j(5(){k.2l();m.1g=F},2r)};5 2u(s,a){2(1d.2x){a=1B 2x('3I.3J');a.3K='I';a.3L(s)}E a=(1B 3M()).3N(s,'1G/2t');6(a&&a.2y&&a.2y.1p!='3O')?a:F}}};$.B.3P=5(c){6 4.2z().2A('9.C-1q',5(){$(4).1s(c);6 I}).P(5(){$(\":9,W:X\",4).2A('2B.C-1q',5(e){3 a=4.C;a.U=4;2(4.H=='X'){2(e.2C!=12){a.Y=e.2C;a.Z=e.3Q}E 2(S $.B.2D=='5'){3 b=$(4).2D();a.Y=e.2E-b.29;a.Z=e.2F-b.27}E{a.Y=e.2E-4.3R;a.Z=e.2F-4.3S}}1j(5(){a.U=a.Y=a.Z=F},10)})})};$.B.2z=5(){4.2G('9.C-1q');6 4.P(5(){$(\":9,W:X\",4).2G('2B.C-1q')})};$.B.1w=5(b){3 a=[];2(4.G==0)6 a;3 c=4[0];3 d=b?c.1E('*'):c.22;2(!d)6 a;K(3 i=0,M=d.G;i<M;i++){3 e=d[i];3 n=e.7;2(!n)1H;2(b&&c.U&&e.H==\"X\"){2(!e.1i&&c.U==e)a.D({7:n+'.x',8:c.Y},{7:n+'.y',8:c.Z});1H}3 v=$.18(e,Q);2(v&&v.1r==15){K(3 j=0,2H=v.G;j<2H;j++)a.D({7:n,8:v[j]})}E 2(v!==F&&S v!='12')a.D({7:n,8:v})}2(!b&&c.U){3 f=c.1E(\"W\");K(3 i=0,M=f.G;i<M;i++){3 g=f[i];3 n=g.7;2(n&&!g.1i&&g.H==\"X\"&&c.U==g)a.D({7:n+'.x',8:c.Y},{7:n+'.y',8:c.Z})}}6 a};$.B.3T=5(a){6 $.1z(4.1w(a))};$.B.3U=5(b){3 a=[];4.P(5(){3 n=4.7;2(!n)6;3 v=$.18(4,b);2(v&&v.1r==15){K(3 i=0,M=v.G;i<M;i++)a.D({7:n,8:v[i]})}E 2(v!==F&&S v!='12')a.D({7:4.7,8:v})});6 $.1z(a)};$.B.18=5(a){K(3 b=[],i=0,M=4.G;i<M;i++){3 c=4[i];3 v=$.18(c,a);2(v===F||S v=='12'||(v.1r==15&&!v.G))1H;v.1r==15?$.3V(b,v):b.D(v)}6 b};$.18=5(b,c){3 n=b.7,t=b.H,1a=b.1p.1I();2(S c=='12')c=Q;2(c&&(!n||b.1i||t=='1m'||t=='3W'||(t=='1J'||t=='1K')&&!b.1L||(t=='9'||t=='X')&&b.C&&b.C.U!=b||1a=='13'&&b.1M==-1))6 F;2(1a=='13'){3 d=b.1M;2(d<0)6 F;3 a=[],1N=b.3X;3 e=(t=='13-2I');3 f=(e?d+1:1N.G);K(3 i=(e?d:0);i<f;i++){3 g=1N[i];2(g.1t){3 v=g.8;2(!v)v=(g.1O&&g.1O['8']&&!(g.1O['8'].3Y))?g.1G:g.8;2(e)6 v;a.D(v)}}6 a}6 b.8};$.B.1Y=5(){6 4.P(5(){$('W,13,1F',4).2J()})};$.B.2J=$.B.3Z=5(){6 4.P(5(){3 t=4.H,1a=4.1p.1I();2(t=='1G'||t=='40'||1a=='1F')4.8='';E 2(t=='1J'||t=='1K')4.1L=I;E 2(1a=='13')4.1M=-1})};$.B.1X=5(){6 4.P(5(){2(S 4.1m=='5'||(S 4.1m=='41'&&!4.1m.42))4.1m()})};$.B.43=5(b){2(b==12)b=Q;6 4.P(5(){4.1i=!b})};$.B.2K=5(b){2(b==12)b=Q;6 4.P(5(){3 t=4.H;2(t=='1J'||t=='1K')4.1L=b;E 2(4.1p.1I()=='2L'){3 a=$(4).44('13');2(b&&a[0]&&a[0].H=='13-2I'){a.45('2L').2K(I)}4.1t=b}})};5 R(){2($.B.1s.46&&1d.1P&&1d.1P.R)1d.1P.R('[47.C] '+15.48.49.4a(1Z,''))}})(4b);",62,260,"||if|var|this|function|return|name|value|submit||||||||||||||||||||||||||||fn|form|push|else|null|length|type|false|data|for|trigger|max|doc|extraData|each|true|log|typeof|success|clk|callbacks|input|image|clk_x|clk_y||cb|undefined|select|attr|Array|dataType|target|a_fieldValue|responseText|tag|ajaxSubmit|action|window|url|aborted|responseXML|event|disabled|setTimeout|setAttribute|body|reset|extend|via|tagName|plugin|constructor|a_ajaxSubmit|selected|method|beforeSerialize|a_formToArray|in|beforeSubmit|param|fileUpload|new|active|timeout|getElementsByTagName|textarea|text|continue|toLowerCase|checkbox|radio|checked|selectedIndex|ops|attributes|console|GET|pre|serialize|veto|vetoed|callback|validate|a_resetForm|a_clearForm|arguments|iframe|closeKeepAlive|elements|ajaxSettings|src|about|blank|top|1000px|left|getResponseHeader|global|beforeSend|getAttribute|POST|multipart|try|appendTo|attachEvent|onload|load|remove|detachEvent|contentWindow|document|contentDocument|innerHTML|100|XMLDocument|xml|toXml|error|complete|ActiveXObject|documentElement|a_ajaxFormUnbind|bind|click|offsetX|offset|pageX|pageY|unbind|jmax|one|a_clearFields|a_selected|option|skipping|process|no|element|location|href|match|semantic|instanceof|toUpperCase|indexOf|resetForm|clearForm|html|apply|file|get|ajax|notify|alert|Error|Form|must|not|be|named|jqFormIO|Date|getTime|id|css|position|absolute|status|statusText|getAllResponseHeaders|setRequestHeader|abort|ajaxStart|ajaxSend|skipEncodingOverride|encoding|enctype|hidden|addEventListener|finally|removeAttr|removeEventListener|throw|content|json|script|httpData|catch|handleError|ajaxSuccess|ajaxComplete|ajaxStop|Microsoft|XMLDOM|async|loadXML|DOMParser|parseFromString|parsererror|a_ajaxForm|offsetY|offsetLeft|offsetTop|a_formSerialize|a_fieldSerialize|merge|button|options|specified|a_clearInputs|password|object|nodeType|a_enable|parent|find|debug|jquery|prototype|join|call|jQuery".split("|"),0,{}));
Drupal.Ajax=new Object;Drupal.Ajax.plugins={};Drupal.Ajax.firstRun=false;Drupal.Ajax.init=function(a){var d,b;if(d=$(".ajax-form:not(.AjaxProcessed)",a).addClass("AjaxProcessed")){if(!Drupal.Ajax.firstRun){Drupal.Ajax.invoke("init");Drupal.Ajax.firstRun=true}b=$('input[type="submit"]',d);b.click(function(g){var h=$(this);this.form.ajax_activator=h;var f=h.data("beforeSubmitHandler");if(typeof f==="function"){f(g)}return true});d.each(function(){this.ajax_activator=null;$(this).submit(function(){if(this.ajax_activator===null){this.ajax_activator=$(".form-submit",this)}if(this.ajax_activator.hasClass("ajax-trigger")){Drupal.Ajax.go($(this),this.ajax_activator);return false}else{return true}});return true})}return true};Drupal.Ajax.invoke=function(f,b){var e,d,a;a=true;for(e in Drupal.Ajax.plugins){d=Drupal.Ajax.plugins[e](f,b);if(d===false){a=false}}return a};Drupal.Ajax.go=function(a,f){var d,b,e;Drupal.Ajax.invoke("submit",{submitter:f});d=f.val();b=f.attr("name");e={};e[b]=d;e.drupal_ajax="1";
a.a_ajaxSubmit({extraData:e,beforeSubmit:function(g){g[g.length]={name:b,value:d};g[g.length]={name:"drupal_ajax",value:"1"};return true},dataType:"json",error:function(g,j,h){window.alert(Drupal.t("ajax.module: An unknown error has occurred."));$.post("/popups_error",{error:j,status:g.status,response:g.responseText,error_type:"ajax",});if(window.console){console.log("error",arguments)}return true},success:function(g){f.val(d);Drupal.Ajax.response(f,a,g);return true}});return false};Drupal.Ajax.message=function(a,f,e,d){var b;e.local={submitter:f,form:a};if(Drupal.Ajax.invoke("message",e)){Drupal.Ajax.writeMessage(e.local.form,e.local.submitter,d);Drupal.Ajax.invoke("afterMessage",e)}return true};Drupal.Ajax.writeMessage=function(k,b,m){var g,d,a,e,l,j,f;if(m.action==="notify"){$(".messages, .ajax-preview",k).remove();$("input, textarea").removeClass("error status warning required");if(m.type==="preview"){e=$("<div>").addClass("ajax-preview");e.html(m.messages);k.prepend(e)}else{e=$("<ul>");
l=$(".messages."+m.type,k[0]);for(g=0,d=m.messages.length;g<d;g++){a=$("#"+m.messages[g].id,k[0]);a.addClass(m.type);if(m.messages[g].required){a.addClass("required")}e.append("<li>"+m.messages[g].value+"</li>")}if(l.length===0){l=$("<div class='messages "+m.type+"'>");k.prepend(l)}l.html(e)}}else{if(m.action==="clear"){$(".messages, .ajax-preview",k).remove()}}return true};Drupal.Ajax.updater=function(b){var a,d,e;for(a=0,d=b.length;a<d;a++){e=$(b[a].selector);if(b[a].type==="html_in"){e.html(b[a].value)}else{if(b[a].type==="html_out"){e.replaceWith(b[a].value)}else{if(b[a].type==="field"){e.val(b[a].value)}else{if(b[a].type==="remove"){e.remove()}}}}}return true};Drupal.Ajax.response=function(e,a,d){var b;d.local={submitter:e,form:a};if(d.status===false){Drupal.Ajax.updater(d.updaters);Drupal.Ajax.message(a,e,d,{action:"notify",messages:d.messages_error,type:"error"})}else{if(d.preview!==null){Drupal.Ajax.updater(d.updaters);Drupal.Ajax.message(a,e,d,{action:"notify",messages:decodeURIComponent(d.preview),type:"preview"})
}else{if(d.redirect===null){if(d.messages_status.length>0){Drupal.Ajax.message(a,e,d,{action:"notify",messages:d.messages_status,type:"status"})}if(d.messages_warning.length>0){Drupal.Ajax.message(a,e,d,{action:"notify",messages:d.messages_warning,type:"warning"})}if(d.messages_status.length===0&&d.messages_warning.length===0){Drupal.Ajax.message(a,e,d,{action:"clear"})}}else{if(Drupal.Ajax.invoke("redirect",d)){Drupal.Ajax.redirect(d.redirect)}else{Drupal.Ajax.updater(d.updaters);if(d.messages_status.length===0&&d.messages_warning.length===0){Drupal.Ajax.message(a,e,d,{action:"clear"})}else{Drupal.Ajax.message(a,e,d,{action:"notify",messages:d.messages_status,type:"status"})}}}}}return true};Drupal.Ajax.redirect=function(a){window.location.href=a};Drupal.behaviors.Ajax=Drupal.Ajax.init;